var x2=Object.defineProperty,M2=Object.defineProperties;var R2=Object.getOwnPropertyDescriptors;var ZT=Object.getOwnPropertySymbols,O2=Object.getPrototypeOf,N2=Object.prototype.hasOwnProperty,P2=Object.prototype.propertyIsEnumerable,k2=Reflect.get;var e1=(t,e,n)=>e in t?x2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})N2.call(e,n)&&e1(t,n,e[n]);if(ZT)for(var n of ZT(e))P2.call(e,n)&&e1(t,n,e[n]);return t},ve=(t,e)=>M2(t,R2(e));var Cr=(t,e,n)=>k2(O2(t),n,e);var C=(t,e,n)=>new Promise((i,r)=>{var s=c=>{try{a(n.next(c))}catch(l){r(l)}},o=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var t1=null;var r_=1,n1=Symbol("SIGNAL");function Se(t){let e=t1;return t1=t,e}var i1={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function F2(t){if(!(a_(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===r_)){if(!t.producerMustRecompute(t)&&!s_(t)){t.dirty=!1,t.lastCleanEpoch=r_;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=r_}}function r1(t){return t&&(t.nextProducerIndex=0),Se(t)}function s1(t,e){if(Se(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(a_(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)o_(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function s_(t){Pd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(F2(n),i!==n.version))return!0}return!1}function o1(t){if(Pd(t),a_(t))for(let e=0;e<t.producerNode.length;e++)o_(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function o_(t,e){if(L2(t),Pd(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)o_(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Pd(r),r.producerIndexOfThis[i]=e}}function a_(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function L2(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function V2(){throw new Error}var B2=V2;function a1(t){B2=t}function ee(t){return typeof t=="function"}function zo(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var kd=zo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ns(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var We=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(ee(i))try{i()}catch(s){e=s instanceof kd?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{c1(s)}catch(o){e=e??[],o instanceof kd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new kd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)c1(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ns(n,e)}remove(e){let{_finalizers:n}=this;n&&Ns(n,e),e instanceof t&&e._removeParent(this)}};We.EMPTY=(()=>{let t=new We;return t.closed=!0,t})();var c_=We.EMPTY;function Fd(t){return t instanceof We||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function c1(t){ee(t)?t():t.unsubscribe()}var Ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Go={setTimeout(t,e,...n){let{delegate:i}=Go;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Go;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ld(t){Go.setTimeout(()=>{let{onUnhandledError:e}=Ln;if(e)e(t);else throw t})}function Ps(){}var l1=l_("C",void 0,void 0);function u1(t){return l_("E",void 0,t)}function d1(t){return l_("N",t,void 0)}function l_(t,e,n){return{kind:t,value:e,error:n}}var ks=null;function qo(t){if(Ln.useDeprecatedSynchronousErrorHandling){let e=!ks;if(e&&(ks={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=ks;if(ks=null,n)throw i}}else t()}function h1(t){Ln.useDeprecatedSynchronousErrorHandling&&ks&&(ks.errorThrown=!0,ks.error=t)}var Fs=class extends We{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fd(e)&&e.add(this)):this.destination=$2}static create(e,n,i){return new Wo(e,n,i)}next(e){this.isStopped?d_(d1(e),this):this._next(e)}error(e){this.isStopped?d_(u1(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?d_(l1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},j2=Function.prototype.bind;function u_(t,e){return j2.call(t,e)}var h_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Vd(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Vd(i)}else Vd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Vd(n)}}},Wo=class extends Fs{constructor(e,n,i){super();let r;if(ee(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&Ln.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&u_(e.next,s),error:e.error&&u_(e.error,s),complete:e.complete&&u_(e.complete,s)}):r=e}this.destination=new h_(r)}};function Vd(t){Ln.useDeprecatedSynchronousErrorHandling?h1(t):Ld(t)}function U2(t){throw t}function d_(t,e){let{onStoppedNotification:n}=Ln;n&&Go.setTimeout(()=>n(t,e))}var $2={closed:!0,next:Ps,error:U2,complete:Ps};var Ko=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pt(t){return t}function Bd(...t){return f_(t)}function f_(t){return t.length===0?Pt:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=z2(n)?n:new Wo(n,i,r);return qo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=f1(i),new i((r,s)=>{let o=new Wo({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Ko](){return this}pipe(...n){return f_(n)(this)}toPromise(n){return n=f1(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function f1(t){var e;return(e=t??Ln.Promise)!==null&&e!==void 0?e:Promise}function H2(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function z2(t){return t&&t instanceof Fs||H2(t)&&Fd(t)}function p_(t){return ee(t?.lift)}function fe(t){return e=>{if(p_(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,i,r){return new g_(t,e,n,i,r)}var g_=class extends Fs{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Yo(){return fe((t,e)=>{let n=null;t._refCount++;let i=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Qo=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,p_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new We;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=We.EMPTY)}return e}refCount(){return Yo()(this)}};var p1=zo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var je=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new jd(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new p1}next(n){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?c_:(this.currentObservers=null,s.push(n),new We(()=>{this.currentObservers=null,Ns(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new jd(e,n),t})(),jd=class extends je{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:c_}};var mt=class extends je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var m_={now(){return(m_.delegate||Date).now()},delegate:void 0};var Ud=class extends We{constructor(e,n){super()}schedule(e,n=0){return this}};var el={setInterval(t,e,...n){let{delegate:i}=el;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=el;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Jo=class extends Ud{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return el.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&el.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ns(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Xo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Xo.now=m_.now;var Zo=class extends Xo{constructor(e,n=Xo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var $d=new Zo(Jo),__=$d;var Hd=class extends Jo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var zd=class extends Zo{};var y_=new zd(Hd);var kt=new re(t=>t.complete());function Gd(t){return t&&ee(t.schedule)}function g1(t){return t[t.length-1]}function Sr(t){return ee(g1(t))?t.pop():void 0}function Ar(t){return Gd(g1(t))?t.pop():void 0}function v_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function _1(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{l(i.next(d))}catch(h){o(h)}}function c(d){try{l(i.throw(d))}catch(h){o(h)}}function l(d){d.done?s(d.value):r(d.value).then(a,c)}l((i=i.apply(t,e||[])).next())})}function m1(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ls(t){return this instanceof Ls?(this.v=t,this):new Ls(t)}function y1(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(f){i[f]&&(r[f]=function(g){return new Promise(function(_,y){s.push([f,g,_,y])>1||a(f,g)})})}function a(f,g){try{c(i[f](g))}catch(_){h(s[0][3],_)}}function c(f){f.value instanceof Ls?Promise.resolve(f.value.v).then(l,d):h(s[0][2],f)}function l(f){a("next",f)}function d(f){a("throw",f)}function h(f,g){f(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function v1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof m1=="function"?m1(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var ea=t=>t&&typeof t.length=="number"&&typeof t!="function";function qd(t){return ee(t?.then)}function Wd(t){return ee(t[Ko])}function Kd(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function Yd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function G2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qd=G2();function Jd(t){return ee(t?.[Qd])}function Xd(t){return y1(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield Ls(n.read());if(r)return yield Ls(void 0);yield yield Ls(i)}}finally{n.releaseLock()}})}function Zd(t){return ee(t?.getReader)}function Re(t){if(t instanceof re)return t;if(t!=null){if(Wd(t))return q2(t);if(ea(t))return W2(t);if(qd(t))return K2(t);if(Kd(t))return b1(t);if(Jd(t))return Y2(t);if(Zd(t))return Q2(t)}throw Yd(t)}function q2(t){return new re(e=>{let n=t[Ko]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function W2(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function K2(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ld)})}function Y2(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function b1(t){return new re(e=>{J2(t,e).catch(n=>e.error(n))})}function Q2(t){return b1(Xd(t))}function J2(t,e){var n,i,r,s;return _1(this,void 0,void 0,function*(){try{for(n=v1(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function an(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function xr(t,e=0){return fe((n,i)=>{n.subscribe(se(i,r=>an(i,t,()=>i.next(r),e),()=>an(i,t,()=>i.complete(),e),r=>an(i,t,()=>i.error(r),e)))})}function Mr(t,e=0){return fe((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function w1(t,e){return Re(t).pipe(Mr(e),xr(e))}function I1(t,e){return Re(t).pipe(Mr(e),xr(e))}function E1(t,e){return new re(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function D1(t,e){return new re(n=>{let i;return an(n,e,()=>{i=t[Qd](),an(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>ee(i?.return)&&i.return()})}function eh(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{an(n,e,()=>{let i=t[Symbol.asyncIterator]();an(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function T1(t,e){return eh(Xd(t),e)}function C1(t,e){if(t!=null){if(Wd(t))return w1(t,e);if(ea(t))return E1(t,e);if(qd(t))return I1(t,e);if(Kd(t))return eh(t,e);if(Jd(t))return D1(t,e);if(Zd(t))return T1(t,e)}throw Yd(t)}function Ke(t,e){return e?C1(t,e):Re(t)}function J(...t){let e=Ar(t);return Ke(t,e)}function ta(t,e){let n=ee(t)?t:()=>t,i=r=>r.error(n());return new re(e?r=>e.schedule(i,0,r):i)}function b_(t){return!!t&&(t instanceof re||ee(t.lift)&&ee(t.subscribe))}var $i=zo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function S1(t){return t instanceof Date&&!isNaN(t)}function oe(t,e){return fe((n,i)=>{let r=0;n.subscribe(se(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:X2}=Array;function Z2(t,e){return X2(e)?t(...e):t(e)}function na(t){return oe(e=>Z2(t,e))}var{isArray:eB}=Array,{getPrototypeOf:tB,prototype:nB,keys:iB}=Object;function th(t){if(t.length===1){let e=t[0];if(eB(e))return{args:e,keys:null};if(rB(e)){let n=iB(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function rB(t){return t&&typeof t=="object"&&tB(t)===nB}function nh(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Rr(...t){let e=Ar(t),n=Sr(t),{args:i,keys:r}=th(t);if(i.length===0)return Ke([],e);let s=new re(sB(i,e,r?o=>nh(r,o):Pt));return n?s.pipe(na(n)):s}function sB(t,e,n=Pt){return i=>{A1(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)A1(e,()=>{let l=Ke(t[c],e),d=!1;l.subscribe(se(i,h=>{s[c]=h,d||(d=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function A1(t,e,n){t?an(n,t,e):e()}function x1(t,e,n,i,r,s,o,a){let c=[],l=0,d=0,h=!1,f=()=>{h&&!c.length&&!l&&e.complete()},g=y=>l<i?_(y):c.push(y),_=y=>{s&&e.next(y),l++;let v=!1;Re(n(y,d++)).subscribe(se(e,A=>{r?.(A),s?g(A):e.next(A)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<i;){let A=c.shift();o?an(e,o,()=>_(A)):_(A)}f()}catch(A){e.error(A)}}))};return t.subscribe(se(e,g,()=>{h=!0,f()})),()=>{a?.()}}function Ze(t,e,n=1/0){return ee(e)?Ze((i,r)=>oe((s,o)=>e(i,s,r,o))(Re(t(i,r))),n):(typeof e=="number"&&(n=e),fe((i,r)=>x1(i,r,t,n)))}function Or(t=1/0){return Ze(Pt,t)}function M1(){return Or(1)}function Nr(...t){return M1()(Ke(t,Ar(t)))}function ih(t){return new re(e=>{Re(t()).subscribe(e)})}function w_(...t){let e=Sr(t),{args:n,keys:i}=th(t),r=new re(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let d=0;d<o;d++){let h=!1;Re(n[d]).subscribe(se(s,f=>{h||(h=!0,l--),a[d]=f},()=>c--,void 0,()=>{(!c||!h)&&(l||s.next(i?nh(i,a):a),s.complete())}))}});return e?r.pipe(na(e)):r}var oB=["addListener","removeListener"],aB=["addEventListener","removeEventListener"],cB=["on","off"];function An(t,e,n,i){if(ee(n)&&(i=n,n=void 0),i)return An(t,e,n).pipe(na(i));let[r,s]=dB(t)?aB.map(o=>a=>t[o](e,a,n)):lB(t)?oB.map(R1(t,e)):uB(t)?cB.map(R1(t,e)):[];if(!r&&ea(t))return Ze(o=>An(o,e,n))(Re(t));if(!r)throw new TypeError("Invalid event target");return new re(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function R1(t,e){return n=>i=>t[n](e,i)}function lB(t){return ee(t.addListener)&&ee(t.removeListener)}function uB(t){return ee(t.on)&&ee(t.off)}function dB(t){return ee(t.addEventListener)&&ee(t.removeEventListener)}function I_(t=0,e,n=__){let i=-1;return e!=null&&(Gd(e)?n=e:i=e),new re(r=>{let s=S1(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}var{isArray:hB}=Array;function rh(t){return t.length===1&&hB(t[0])?t[0]:t}function St(t,e){return fe((n,i)=>{let r=0;n.subscribe(se(i,s=>t.call(e,s,r++)&&i.next(s)))})}function E_(...t){return t=rh(t),t.length===1?Re(t[0]):new re(fB(t))}function fB(t){return e=>{let n=[];for(let i=0;n&&!e.closed&&i<t.length;i++)n.push(Re(t[i]).subscribe(se(e,r=>{if(n){for(let s=0;s<n.length;s++)s!==i&&n[s].unsubscribe();n=null}e.next(r)})))}}function tl(...t){let e=Sr(t),n=rh(t);return n.length?new re(i=>{let r=n.map(()=>[]),s=n.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<n.length;o++)Re(n[o]).subscribe(se(i,a=>{if(r[o].push(a),r.every(c=>c.length)){let c=r.map(l=>l.shift());i.next(e?e(...c):c),r.some((l,d)=>!l.length&&s[d])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):kt}function Pr(t){return fe((e,n)=>{let i=null,r=!1,s;i=e.subscribe(se(n,void 0,void 0,o=>{s=Re(t(o,Pr(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function O1(t,e,n,i,r){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(se(o,d=>{let h=l++;c=a?t(c,d,h):(a=!0,d),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function Vs(t,e){return ee(e)?Ze(t,e,1):Ze(t,1)}function kr(t){return fe((e,n)=>{let i=!1;e.subscribe(se(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function cn(t){return t<=0?()=>kt:fe((e,n)=>{let i=0;e.subscribe(se(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function D_(t){return oe(()=>t)}function nl(t,e=Pt){return t=t??pB,fe((n,i)=>{let r,s=!0;n.subscribe(se(i,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function pB(t,e){return t===e}function sh(t=gB){return fe((e,n)=>{let i=!1;e.subscribe(se(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function gB(){return new $i}function T_(...t){return e=>Nr(e,J(...t))}function ia(t){return fe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ni(t,e){let n=arguments.length>=2;return i=>i.pipe(t?St((r,s)=>t(r,s,i)):Pt,cn(1),n?kr(e):sh(()=>new $i))}function ra(t){return t<=0?()=>kt:fe((e,n)=>{let i=[];e.subscribe(se(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function C_(t,e){let n=arguments.length>=2;return i=>i.pipe(t?St((r,s)=>t(r,s,i)):Pt,ra(1),n?kr(e):sh(()=>new $i))}function oh(t,e){return fe(O1(t,e,arguments.length>=2,!0))}function il(...t){let e=Ar(t);return fe((n,i)=>{(e?Nr(t,n,e):Nr(t,n)).subscribe(i)})}function ln(t,e){return fe((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(se(i,c=>{r?.unsubscribe();let l=0,d=s++;Re(t(c,d)).subscribe(r=se(i,h=>i.next(e?e(c,h,d,l++):h),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function qt(t){return fe((e,n)=>{Re(t).subscribe(se(n,()=>n.complete(),Ps)),!n.closed&&e.subscribe(n)})}function dt(t,e,n){let i=ee(t)||e||n?{next:t,error:e,complete:n}:t;return i?fe((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(se(s,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),s.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Pt}function ah(...t){let e=Sr(t);return fe((n,i)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let c=0;c<r;c++)Re(t[c]).subscribe(se(i,l=>{s[c]=l,!a&&!o[c]&&(o[c]=!0,(a=o.every(Pt))&&(o=null))},Ps));n.subscribe(se(i,c=>{if(a){let l=[c,...s];i.next(e?e(...l):l)}}))})}var mC="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(Fy(e,n)),this.code=e}};function Fy(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function _l(t){return{toString:t}.toString()}var ch="__parameters__";function mB(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function _C(t,e,n){return _l(()=>{let i=mB(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,l,d){let h=c.hasOwnProperty(ch)?c[ch]:Object.defineProperty(c,ch,{value:[]})[ch];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var nn=globalThis;function Fe(t){for(let e in t)if(t[e]===Fe)return e;throw Error("Could not find renamed property on target object.")}function _B(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function rn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(rn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function U_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var yB=Fe({__forward_ref__:Fe});function Hn(t){return t.__forward_ref__=Hn,t.toString=function(){return rn(this())},t}function tn(t){return yC(t)?t():t}function yC(t){return typeof t=="function"&&t.hasOwnProperty(yB)&&t.__forward_ref__===Hn}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function be(t){return{providers:t.providers||[],imports:t.imports||[]}}function Uh(t){return N1(t,bC)||N1(t,wC)}function vC(t){return Uh(t)!==null}function N1(t,e){return t.hasOwnProperty(e)?t[e]:null}function vB(t){let e=t&&(t[bC]||t[wC]);return e||null}function P1(t){return t&&(t.hasOwnProperty(k1)||t.hasOwnProperty(bB))?t[k1]:null}var bC=Fe({\u0275prov:Fe}),k1=Fe({\u0275inj:Fe}),wC=Fe({ngInjectableDef:Fe}),bB=Fe({ngInjectorDef:Fe}),Y=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function IC(t){return t&&!!t.\u0275providers}var wB=Fe({\u0275cmp:Fe}),IB=Fe({\u0275dir:Fe}),EB=Fe({\u0275pipe:Fe}),DB=Fe({\u0275mod:Fe}),vh=Fe({\u0275fac:Fe}),rl=Fe({__NG_ELEMENT_ID__:Fe}),F1=Fe({__NG_ENV_ID__:Fe});function $h(t){return typeof t=="string"?t:t==null?"":String(t)}function TB(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():$h(t)}function CB(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function Ly(t,e){throw new Q(-201,!1)}var pe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(pe||{}),$_;function EC(){return $_}function xn(t){let e=$_;return $_=t,e}function DC(t,e,n){let i=Uh(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&pe.Optional)return null;if(e!==void 0)return e;Ly(t,"Injector")}var SB={},ol=SB,H_="__NG_DI_FLAG__",bh="ngTempTokenPath",AB="ngTokenPath",xB=/\n/gm,MB="\u0275",L1="__source",la;function RB(){return la}function Fr(t){let e=la;return la=t,e}function OB(t,e=pe.Default){if(la===void 0)throw new Q(-203,!1);return la===null?DC(t,void 0,e):la.get(t,e&pe.Optional?null:void 0,e)}function W(t,e=pe.Default){return(EC()||OB)(tn(t),e)}function V(t,e=pe.Default){return W(t,Hh(e))}function Hh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function z_(t){let e=[];for(let n=0;n<t.length;n++){let i=tn(t[n]);if(Array.isArray(i)){if(i.length===0)throw new Q(900,!1);let r,s=pe.Default;for(let o=0;o<i.length;o++){let a=i[o],c=NB(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(W(r,s))}else e.push(W(i))}return e}function TC(t,e){return t[H_]=e,t.prototype[H_]=e,t}function NB(t){return t[H_]}function PB(t,e,n,i){let r=t[bh];throw e[L1]&&r.unshift(e[L1]),t.message=kB(`
`+t.message,r,n,i),t[AB]=r,t[bh]=null,t}function kB(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==MB?t.slice(2):t;let r=rn(e);if(Array.isArray(e))r=e.map(rn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):rn(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(xB,`
  `)}`}var ht=TC(_C("Optional"),8);var Vy=TC(_C("SkipSelf"),4);function da(t,e){let n=t.hasOwnProperty(vh);return n?t[vh]:null}function FB(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function LB(t){return t.flat(Number.POSITIVE_INFINITY)}function By(t,e){t.forEach(n=>Array.isArray(n)?By(n,e):e(n))}function CC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function wh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function VB(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function BB(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function jy(t,e,n){let i=yl(t,e);return i>=0?t[i|1]=n:(i=~i,BB(t,i,e,n)),i}function S_(t,e){let n=yl(t,e);if(n>=0)return t[n|1]}function yl(t,e){return jB(t,e,1)}function jB(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}var ha={},un=[],fa=new Y(""),SC=new Y("",-1),AC=new Y(""),Ih=class{get(e,n=ol){if(n===ol){let i=new Error(`NullInjectorError: No provider for ${rn(e)}!`);throw i.name="NullInjectorError",i}return n}},xC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(xC||{}),si=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(si||{}),At=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(At||{});function UB(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function G_(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];$B(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function MC(t){return t===3||t===4||t===6}function $B(t){return t.charCodeAt(0)===64}function al(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?V1(t,n,r,null,e[++i]):V1(t,n,r,null,null))}}return t}function V1(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var RC="ng-template";function HB(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&UB(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Uy(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Uy(t){return t.type===4&&t.value!==RC}function zB(t,e,n){let i=t.type===4&&!n?RC:t.value;return e===i}function GB(t,e,n){let i=4,r=t.attrs,s=r!==null?KB(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Vn(i)&&!Vn(c))return!1;if(o&&Vn(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!zB(t,c,n)||c===""&&e.length===1){if(Vn(i))return!1;o=!0}}else if(i&8){if(r===null||!HB(t,r,c,n)){if(Vn(i))return!1;o=!0}}else{let l=e[++a],d=qB(c,r,Uy(t),n);if(d===-1){if(Vn(i))return!1;o=!0;continue}if(l!==""){let h;if(d>s?h="":h=r[d+1].toLowerCase(),i&2&&l!==h){if(Vn(i))return!1;o=!0}}}}return Vn(i)||o}function Vn(t){return(t&1)===0}function qB(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return YB(e,t)}function OC(t,e,n=!1){for(let i=0;i<e.length;i++)if(GB(t,e[i],n))return!0;return!1}function WB(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function KB(t){for(let e=0;e<t.length;e++){let n=t[e];if(MC(n))return e}return t.length}function YB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function QB(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function B1(t,e){return t?":not("+e.trim()+")":e}function JB(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!Vn(o)&&(e+=B1(s,r),r=""),i=o,s=s||!Vn(i);n++}return r!==""&&(e+=B1(s,r)),e}function XB(t){return t.map(JB).join(",")}function ZB(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!Vn(r))break;r=s}i++}return{attrs:e,classes:n}}function ft(t){return _l(()=>{let e=LC(t),n=ve(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===xC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||si.Emulated,styles:t.styles||un,_:null,schemas:t.schemas||null,tView:null,id:""});VC(n);let i=t.dependencies;return n.directiveDefs=U1(i,!1),n.pipeDefs=U1(i,!0),n.id=nj(n),n})}function ej(t){return Hi(t)||NC(t)}function tj(t){return t!==null}function we(t){return _l(()=>({type:t.type,bootstrap:t.bootstrap||un,declarations:t.declarations||un,imports:t.imports||un,exports:t.exports||un,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function j1(t,e){if(t==null)return ha;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,o,a=At.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(n[s]=a!==At.None?[i,a]:i,e[s]=o):n[s]=i}return n}function Le(t){return _l(()=>{let e=LC(t);return VC(e),e})}function Hi(t){return t[wB]||null}function NC(t){return t[IB]||null}function PC(t){return t[EB]||null}function kC(t){let e=Hi(t)||NC(t)||PC(t);return e!==null?e.standalone:!1}function FC(t,e){let n=t[DB]||null;if(!n&&e===!0)throw new Error(`Type ${rn(t)} does not have '\u0275mod' property.`);return n}function LC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ha,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||un,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:j1(t.inputs,e),outputs:j1(t.outputs),debugInfo:null}}function VC(t){t.features?.forEach(e=>e(t))}function U1(t,e){if(!t)return null;let n=e?PC:ej;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(tj)}function nj(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ui(t){return{\u0275providers:t}}function ij(...t){return{\u0275providers:BC(!0,t),\u0275fromNgModule:!0}}function BC(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return By(e,o=>{let a=o;q_(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&jC(r,s),n}function jC(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];$y(r,s=>{e(s,i)})}}function q_(t,e,n,i){if(t=tn(t),!t)return!1;let r=null,s=P1(t),o=!s&&Hi(t);if(!s&&!o){let c=t.ngModule;if(s=P1(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)q_(l,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let l;try{By(s.imports,d=>{q_(d,e,n,i)&&(l||=[],l.push(d))})}finally{}l!==void 0&&jC(l,e)}if(!a){let l=da(r)||(()=>new r);e({provide:r,useFactory:l,deps:un},r),e({provide:AC,useValue:r,multi:!0},r),e({provide:fa,useValue:()=>W(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let l=t;$y(c,d=>{e(d,l)})}}else return!1;return r!==t&&t.providers!==void 0}function $y(t,e){for(let n of t)IC(n)&&(n=n.\u0275providers),Array.isArray(n)?$y(n,e):e(n)}var rj=Fe({provide:String,useValue:Fe});function UC(t){return t!==null&&typeof t=="object"&&rj in t}function sj(t){return!!(t&&t.useExisting)}function oj(t){return!!(t&&t.useFactory)}function pa(t){return typeof t=="function"}function aj(t){return!!t.useClass}var zh=new Y(""),fh={},cj={},A_;function Gh(){return A_===void 0&&(A_=new Ih),A_}var Ft=class{},cl=class extends Ft{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,K_(e,o=>this.processProvider(o)),this.records.set(SC,sa(void 0,this)),r.has("environment")&&this.records.set(Ft,sa(void 0,this));let s=this.records.get(zh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(AC,un,pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Se(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Se(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Fr(this),i=xn(void 0),r;try{return e()}finally{Fr(n),xn(i)}}get(e,n=ol,i=pe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(F1))return e[F1](this);i=Hh(i);let r,s=Fr(this),o=xn(void 0);try{if(!(i&pe.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=fj(e)&&Uh(e);l&&this.injectableDefInScope(l)?c=sa(W_(e),fh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&pe.Self?Gh():this.parent;return n=i&pe.Optional&&n===ol?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[bh]=a[bh]||[]).unshift(rn(e)),s)throw a;return PB(a,e,"R3InjectorError",this.source)}else throw a}finally{xn(o),Fr(s)}}resolveInjectorInitializers(){let e=Se(null),n=Fr(this),i=xn(void 0),r;try{let s=this.get(fa,un,pe.Self);for(let o of s)o()}finally{Fr(n),xn(i),Se(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(rn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=tn(e);let n=pa(e)?e:tn(e&&e.provide),i=uj(e);if(!pa(e)&&e.multi===!0){let r=this.records.get(n);r||(r=sa(void 0,fh,!0),r.factory=()=>z_(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=Se(null);try{return n.value===fh&&(n.value=cj,n.value=n.factory()),typeof n.value=="object"&&n.value&&hj(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Se(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=tn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function W_(t){let e=Uh(t),n=e!==null?e.factory:da(t);if(n!==null)return n;if(t instanceof Y)throw new Q(204,!1);if(t instanceof Function)return lj(t);throw new Q(204,!1)}function lj(t){if(t.length>0)throw new Q(204,!1);let n=vB(t);return n!==null?()=>n.factory(t):()=>new t}function uj(t){if(UC(t))return sa(void 0,t.useValue);{let e=$C(t);return sa(e,fh)}}function $C(t,e,n){let i;if(pa(t)){let r=tn(t);return da(r)||W_(r)}else if(UC(t))i=()=>tn(t.useValue);else if(oj(t))i=()=>t.useFactory(...z_(t.deps||[]));else if(sj(t))i=()=>W(tn(t.useExisting));else{let r=tn(t&&(t.useClass||t.provide));if(dj(t))i=()=>new r(...z_(t.deps));else return da(r)||W_(r)}return i}function sa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function dj(t){return!!t.deps}function hj(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function fj(t){return typeof t=="function"||typeof t=="object"&&t instanceof Y}function K_(t,e){for(let n of t)Array.isArray(n)?K_(n,e):n&&IC(n)?K_(n.\u0275providers,e):e(n)}function Ki(t,e){t instanceof cl&&t.assertNotDestroyed();let n,i=Fr(t),r=xn(void 0);try{return e()}finally{Fr(i),xn(r)}}function HC(){return EC()!==void 0||RB()!=null}function pj(t){if(!HC())throw new Q(-203,!1)}function gj(t){let e=nn.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function mj(t){return typeof t=="function"}var Yi=0,he=1,te=2,Lt=3,jn=4,wn=5,ll=6,ul=7,oi=8,ga=9,Un=10,It=11,dl=12,$1=13,vl=14,$n=15,bl=16,oa=17,zi=18,qh=19,zC=20,Lr=21,x_=22,Us=23,ai=25,GC=1;var $s=7,Eh=8,ma=9,bn=10,Hy=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Hy||{});function Bs(t){return Array.isArray(t)&&typeof t[GC]=="object"}function Qi(t){return Array.isArray(t)&&t[GC]===!0}function qC(t){return(t.flags&4)!==0}function Wh(t){return t.componentOffset>-1}function zy(t){return(t.flags&1)===1}function Vr(t){return!!t.template}function _j(t){return(t[te]&512)!==0}var Y_=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function WC(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function In(){return KC}function KC(t){return t.type.prototype.ngOnChanges&&(t.setInput=vj),yj}In.ngInherit=!0;function yj(){let t=QC(this),e=t?.current;if(e){let n=t.previous;if(n===ha)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function vj(t,e,n,i,r){let s=this.declaredInputs[i],o=QC(t)||bj(t,{previous:ha,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new Y_(l&&l.currentValue,n,c===ha),WC(t,e,r,n)}var YC="__ngSimpleChanges__";function QC(t){return t[YC]||null}function bj(t,e){return t[YC]=e}var H1=null;var ii=function(t,e,n){H1?.(t,e,n)},wj="svg",Ij="math",Ej=!1;function Dj(){return Ej}function ci(t){for(;Array.isArray(t);)t=t[Yi];return t}function JC(t,e){return ci(e[t])}function Mn(t,e){return ci(e[t.index])}function XC(t,e){return t.data[e]}function Tj(t,e){return t[e]}function Ur(t,e){let n=e[t];return Bs(n)?n:n[Yi]}function Cj(t){return(t[te]&4)===4}function Gy(t){return(t[te]&128)===128}function Sj(t){return Qi(t[Lt])}function Dh(t,e){return e==null?null:t[e]}function ZC(t){t[oa]=0}function Aj(t){t[te]&1024||(t[te]|=1024,Gy(t)&&hl(t))}function qy(t){return!!(t[te]&9216||t[Us]?.dirty)}function Q_(t){t[Un].changeDetectionScheduler?.notify(1),qy(t)?hl(t):t[te]&64&&(Dj()?(t[te]|=1024,hl(t)):t[Un].changeDetectionScheduler?.notify())}function hl(t){t[Un].changeDetectionScheduler?.notify();let e=fl(t);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!Gy(e)));)e=fl(e)}function eS(t,e){if((t[te]&256)===256)throw new Q(911,!1);t[Lr]===null&&(t[Lr]=[]),t[Lr].push(e)}function xj(t,e){if(t[Lr]===null)return;let n=t[Lr].indexOf(e);n!==-1&&t[Lr].splice(n,1)}function fl(t){let e=t[Lt];return Qi(e)?e[Lt]:e}var ge={lFrame:uS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Mj(){return ge.lFrame.elementDepthCount}function Rj(){ge.lFrame.elementDepthCount++}function Oj(){ge.lFrame.elementDepthCount--}function tS(){return ge.bindingsEnabled}function nS(){return ge.skipHydrationRootTNode!==null}function Nj(t){return ge.skipHydrationRootTNode===t}function Pj(){ge.skipHydrationRootTNode=null}function Te(){return ge.lFrame.lView}function Wt(){return ge.lFrame.tView}function kj(t){return ge.lFrame.contextLView=t,t[oi]}function Fj(t){return ge.lFrame.contextLView=null,t}function dn(){let t=iS();for(;t!==null&&t.type===64;)t=t.parent;return t}function iS(){return ge.lFrame.currentTNode}function Lj(){let t=ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function wl(t,e){let n=ge.lFrame;n.currentTNode=t,n.isParent=e}function rS(){return ge.lFrame.isParent}function sS(){ge.lFrame.isParent=!1}function Vj(){return ge.lFrame.contextLView}function Wy(){let t=ge.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Bj(t){return ge.lFrame.bindingIndex=t}function Ky(){return ge.lFrame.bindingIndex++}function oS(t){let e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function jj(){return ge.lFrame.inI18n}function Uj(t,e){let n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,J_(e)}function $j(){return ge.lFrame.currentDirectiveIndex}function J_(t){ge.lFrame.currentDirectiveIndex=t}function Hj(t){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function aS(){return ge.lFrame.currentQueryIndex}function Yy(t){ge.lFrame.currentQueryIndex=t}function zj(t){let e=t[he];return e.type===2?e.declTNode:e.type===1?t[wn]:null}function cS(t,e,n){if(n&pe.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&pe.Host);)if(r=zj(s),r===null||(s=s[vl],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=ge.lFrame=lS();return i.currentTNode=e,i.lView=t,!0}function Qy(t){let e=lS(),n=t[he];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lS(){let t=ge.lFrame,e=t===null?null:t.child;return e===null?uS(t):e}function uS(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function dS(){let t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var hS=dS;function Jy(){let t=dS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Qs(){return ge.lFrame.selectedIndex}function Hs(t){ge.lFrame.selectedIndex=t}function fS(){let t=ge.lFrame;return XC(t.tView,t.selectedIndex)}function Gj(){return ge.lFrame.currentNamespace}var pS=!0;function Xy(){return pS}function Zy(t){pS=t}function qj(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=KC(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function ev(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function ph(t,e,n){gS(t,e,3,n)}function gh(t,e,n,i){(t[te]&3)===n&&gS(t,e,n,i)}function M_(t,e){let n=t[te];(n&3)===e&&(n&=16383,n+=1,t[te]=n)}function gS(t,e,n,i){let r=i!==void 0?t[oa]&65535:0,s=i??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[oa]+=65536),(a<s||s==-1)&&(Wj(t,n,e,c),t[oa]=(t[oa]&4294901760)+c+2),c++}function z1(t,e){ii(4,t,e);let n=Se(null);try{e.call(t)}finally{Se(n),ii(5,t,e)}}function Wj(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[te]>>14<t[oa]>>16&&(t[te]&3)===e&&(t[te]+=16384,z1(a,s)):z1(a,s)}var ua=-1,zs=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function Kj(t){return t instanceof zs}function Yj(t){return(t.flags&8)!==0}function Qj(t){return(t.flags&16)!==0}function mS(t){return t!==ua}function Th(t){return t&32767}function Jj(t){return t>>16}function Ch(t,e){let n=Jj(t),i=e;for(;n>0;)i=i[vl],n--;return i}var X_=!0;function G1(t){let e=X_;return X_=t,e}var Xj=256,_S=Xj-1,yS=5,Zj=0,ri={};function eU(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(rl)&&(i=n[rl]),i==null&&(i=n[rl]=Zj++);let r=i&_S,s=1<<r;e.data[t+(r>>yS)]|=s}function Sh(t,e){let n=vS(t,e);if(n!==-1)return n;let i=e[he];i.firstCreatePass&&(t.injectorIndex=e.length,R_(i.data,t),R_(e,null),R_(i.blueprint,null));let r=tv(t,e),s=t.injectorIndex;if(mS(r)){let o=Th(r),a=Ch(r,e),c=a[he].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=r,s}function R_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function vS(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function tv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=DS(r),i===null)return ua;if(n++,r=r[vl],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return ua}function Z_(t,e,n){eU(t,e,n)}function tU(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let s=n[r];if(MC(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(s===e)return n[r+1];r=r+2}}}return null}function bS(t,e,n){if(n&pe.Optional||t!==void 0)return t;Ly(e,"NodeInjector")}function wS(t,e,n,i){if(n&pe.Optional&&i===void 0&&(i=null),!(n&(pe.Self|pe.Host))){let r=t[ga],s=xn(void 0);try{return r?r.get(e,i,n&pe.Optional):DC(e,i,n&pe.Optional)}finally{xn(s)}}return bS(i,e,n)}function IS(t,e,n,i=pe.Default,r){if(t!==null){if(e[te]&2048&&!(i&pe.Self)){let o=sU(t,e,n,i,ri);if(o!==ri)return o}let s=ES(t,e,n,i,ri);if(s!==ri)return s}return wS(e,n,i,r)}function ES(t,e,n,i,r){let s=iU(n);if(typeof s=="function"){if(!cS(e,t,i))return i&pe.Host?bS(r,n,i):wS(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&pe.Optional))Ly(n);else return o}finally{hS()}}else if(typeof s=="number"){let o=null,a=vS(t,e),c=ua,l=i&pe.Host?e[$n][wn]:null;for((a===-1||i&pe.SkipSelf)&&(c=a===-1?tv(t,e):e[a+8],c===ua||!W1(i,!1)?a=-1:(o=e[he],a=Th(c),e=Ch(c,e)));a!==-1;){let d=e[he];if(q1(s,a,d.data)){let h=nU(a,e,n,o,i,l);if(h!==ri)return h}c=e[a+8],c!==ua&&W1(i,e[he].data[a+8]===l)&&q1(s,a,e)?(o=d,a=Th(c),e=Ch(c,e)):a=-1}}return r}function nU(t,e,n,i,r,s){let o=e[he],a=o.data[t+8],c=i==null?Wh(a)&&X_:i!=o&&(a.type&3)!==0,l=r&pe.Host&&s===a,d=mh(a,o,n,c,l);return d!==null?Gs(e,o,d,a):ri}function mh(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,d=s>>20,h=i?a:a+d,f=r?a+d:l;for(let g=h;g<f;g++){let _=o[g];if(g<c&&n===_||g>=c&&_.type===n)return g}if(r){let g=o[c];if(g&&Vr(g)&&g.type===n)return c}return null}function Gs(t,e,n,i){let r=t[n],s=e.data;if(Kj(r)){let o=r;o.resolving&&CB(TB(s[n]));let a=G1(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?xn(o.injectImpl):null,d=cS(t,i,pe.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&qj(n,s[n],e)}finally{l!==null&&xn(l),G1(a),o.resolving=!1,hS()}}return r}function iU(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(rl)?t[rl]:void 0;return typeof e=="number"?e>=0?e&_S:rU:e}function q1(t,e,n){let i=1<<t;return!!(n[e+(t>>yS)]&i)}function W1(t,e){return!(t&pe.Self)&&!(t&pe.Host&&e)}var js=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return IS(this._tNode,this._lView,e,Hh(i),n)}};function rU(){return new js(dn(),Te())}function di(t){return _l(()=>{let e=t.prototype.constructor,n=e[vh]||ey(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[vh]||ey(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function ey(t){return yC(t)?()=>{let e=ey(tn(t));return e&&e()}:da(t)}function sU(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[te]&2048&&!(o[te]&512);){let a=ES(s,o,n,i|pe.Self,ri);if(a!==ri)return a;let c=s.parent;if(!c){let l=o[zC];if(l){let d=l.get(n,ri,i);if(d!==ri)return d}c=DS(o),o=o[vl]}s=c}return r}function DS(t){let e=t[he],n=e.type;return n===2?e.declTNode:n===1?t[wn]:null}function Kh(t){return tU(dn(),t)}function K1(t,e=null,n=null,i){let r=TS(t,e,n,i);return r.resolveInjectorInitializers(),r}function TS(t,e=null,n=null,i,r=new Set){let s=[n||un,ij(t)];return i=i||(typeof t=="object"?void 0:rn(t)),new cl(s,e||Gh(),i||null,r)}var et=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return K1({name:""},r,i,"");{let s=i.name??"";return K1({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=ol,e.NULL=new Ih,e.\u0275prov=H({token:e,providedIn:"any",factory:()=>W(SC)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var oU="ngOriginalError";function O_(t){return t[oU]}var li=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&O_(e);for(;n&&O_(n);)n=O_(n);return n||null}},CS=new Y("",{providedIn:"root",factory:()=>V(li).handleError.bind(void 0)}),Yh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=aU,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),ty=class extends Yh{constructor(e){super(),this._lView=e}onDestroy(e){return eS(this._lView,e),()=>xj(this._lView,e)}};function aU(){return new ty(Te())}function cU(){return ya(dn(),Te())}function ya(t,e){return new _t(Mn(t,e))}var _t=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=cU;let t=e;return t})();function lU(t){return t instanceof _t?t.nativeElement:t}var ny=class extends je{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,HC()&&(this.destroyRef=V(Yh,{optional:!0})??void 0)}emit(e){let n=Se(null);try{super.next(e)}finally{Se(n)}}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=N_(s),r&&(r=N_(r)),o&&(o=N_(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof We&&e.add(a),a}};function N_(t){return e=>{setTimeout(t,void 0,e)}}var Ne=ny;function uU(){return this._results[Symbol.iterator]()}var iy=class t{get changes(){return this._changes??=new Ne}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=uU)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=LB(e);(this._changesDetected=!FB(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function SS(t){return(t.flags&128)===128}var AS=new Map,dU=0;function hU(){return dU++}function fU(t){AS.set(t[qh],t)}function pU(t){AS.delete(t[qh])}var Y1="__ngContext__";function qs(t,e){Bs(e)?(t[Y1]=e[qh],fU(e)):t[Y1]=e}function xS(t){return RS(t[dl])}function MS(t){return RS(t[jn])}function RS(t){for(;t!==null&&!Qi(t);)t=t[jn];return t}var ry;function OS(t){ry=t}function gU(){if(ry!==void 0)return ry;if(typeof document<"u")return document;throw new Q(210,!1)}var Qh=new Y("",{providedIn:"root",factory:()=>mU}),mU="ng",nv=new Y(""),zn=new Y("",{providedIn:"platform",factory:()=>"unknown"});var iv=new Y("",{providedIn:"root",factory:()=>gU().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var _U="h",yU="b";var vU=()=>null;function rv(t,e,n=!1){return vU(t,e,n)}var NS=!1,bU=new Y("",{providedIn:"root",factory:()=>NS});var lh;function wU(){if(lh===void 0&&(lh=null,nn.trustedTypes))try{lh=nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lh}function Q1(t){return wU()?.createScriptURL(t)||t}var Ah=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mC})`}};function va(t){return t instanceof Ah?t.changingThisBreaksApplicationSecurity:t}function sv(t,e){let n=IU(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${mC})`)}return n===e}function IU(t){return t instanceof Ah&&t.getTypeName()||null}var EU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function PS(t){return t=String(t),t.match(EU)?t:"unsafe:"+t}var Jh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Jh||{});function ov(t){let e=FS();return e?e.sanitize(Jh.URL,t)||"":sv(t,"URL")?va(t):PS($h(t))}function DU(t){let e=FS();if(e)return Q1(e.sanitize(Jh.RESOURCE_URL,t)||"");if(sv(t,"ResourceURL"))return Q1(va(t));throw new Q(904,!1)}function TU(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?DU:ov}function kS(t,e,n){return TU(e,n)(t)}function FS(){let t=Te();return t&&t[Un].sanitizer}function LS(t){return t instanceof Function?t():t}function CU(t){return(t??V(et)).get(zn)==="browser"}var Gi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Gi||{}),SU;function av(t,e){return SU(t,e)}function aa(t,e,n,i,r){if(i!=null){let s,o=!1;Qi(i)?s=i:Bs(i)&&(o=!0,i=i[Yi]);let a=ci(i);t===0&&n!==null?r==null?HS(e,n,a):xh(e,n,a,r||null,!0):t===1&&n!==null?xh(e,n,a,r||null,!0):t===2?$U(e,a,o):t===3&&e.destroyNode(a),s!=null&&zU(e,t,s,n,r)}}function AU(t,e){return t.createText(e)}function xU(t,e,n){t.setValue(e,n)}function VS(t,e,n){return t.createElement(e,n)}function MU(t,e){BS(t,e),e[Yi]=null,e[wn]=null}function RU(t,e,n,i,r,s){i[Yi]=r,i[wn]=e,Xh(t,i,n,1,r,s)}function BS(t,e){e[Un].changeDetectionScheduler?.notify(1),Xh(t,e,e[It],2,null,null)}function OU(t){let e=t[dl];if(!e)return P_(t[he],t);for(;e;){let n=null;if(Bs(e))n=e[dl];else{let i=e[bn];i&&(n=i)}if(!n){for(;e&&!e[jn]&&e!==t;)Bs(e)&&P_(e[he],e),e=e[Lt];e===null&&(e=t),Bs(e)&&P_(e[he],e),n=e&&e[jn]}e=n}}function NU(t,e,n,i){let r=bn+i,s=n.length;i>0&&(n[r-1][jn]=e),i<s-bn?(e[jn]=n[r],CC(n,bn+i,e)):(n.push(e),e[jn]=null),e[Lt]=n;let o=e[bl];o!==null&&n!==o&&PU(o,e);let a=e[zi];a!==null&&a.insertView(t),Q_(e),e[te]|=128}function PU(t,e){let n=t[ma],r=e[Lt][Lt][$n];e[$n]!==r&&(t[te]|=Hy.HasTransplantedViews),n===null?t[ma]=[e]:n.push(e)}function jS(t,e){let n=t[ma],i=n.indexOf(e);n.splice(i,1)}function sy(t,e){if(t.length<=bn)return;let n=bn+e,i=t[n];if(i){let r=i[bl];r!==null&&r!==t&&jS(r,i),e>0&&(t[n-1][jn]=i[jn]);let s=wh(t,bn+e);MU(i[he],i);let o=s[zi];o!==null&&o.detachView(s[he]),i[Lt]=null,i[jn]=null,i[te]&=-129}return i}function US(t,e){if(!(e[te]&256)){let n=e[It];n.destroyNode&&Xh(t,e,n,3,null,null),OU(e)}}function P_(t,e){if(e[te]&256)return;let n=Se(null);try{e[te]&=-129,e[te]|=256,e[Us]&&o1(e[Us]),FU(t,e),kU(t,e),e[he].type===1&&e[It].destroy();let i=e[bl];if(i!==null&&Qi(e[Lt])){i!==e[Lt]&&jS(i,e);let r=e[zi];r!==null&&r.detachView(t)}pU(e)}finally{Se(n)}}function kU(t,e){let n=t.cleanup,i=e[ul];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(e[ul]=null);let r=e[Lr];if(r!==null){e[Lr]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function FU(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof zs)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];ii(4,a,c);try{c.call(a)}finally{ii(5,a,c)}}else{ii(4,r,s);try{s.call(r)}finally{ii(5,r,s)}}}}}function $S(t,e,n){return LU(t,e.parent,n)}function LU(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[Yi];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===si.None||s===si.Emulated)return null}return Mn(i,n)}}function xh(t,e,n,i,r){t.insertBefore(e,n,i,r)}function HS(t,e,n){t.appendChild(e,n)}function J1(t,e,n,i,r){i!==null?xh(t,e,n,i,r):HS(t,e,n)}function VU(t,e,n,i){t.removeChild(e,n,i)}function cv(t,e){return t.parentNode(e)}function BU(t,e){return t.nextSibling(e)}function zS(t,e,n){return UU(t,e,n)}function jU(t,e,n){return t.type&40?Mn(t,n):null}var UU=jU,X1;function lv(t,e,n,i){let r=$S(t,i,e),s=e[It],o=i.parent||e[wn],a=zS(o,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)J1(s,r,n[c],a,!1);else J1(s,r,n,a,!1);X1!==void 0&&X1(s,i,e,n,r)}function _h(t,e){if(e!==null){let n=e.type;if(n&3)return Mn(e,t);if(n&4)return oy(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return _h(t,i);{let r=t[e.index];return Qi(r)?oy(-1,r):ci(r)}}else{if(n&32)return av(e,t)()||ci(t[e.index]);{let i=GS(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=fl(t[$n]);return _h(r,i)}else return _h(t,e.next)}}}return null}function GS(t,e){if(e!==null){let i=t[$n][wn],r=e.projection;return i.projection[r]}return null}function oy(t,e){let n=bn+t+1;if(n<e.length){let i=e[n],r=i[he].firstChild;if(r!==null)return _h(i,r)}return e[$s]}function $U(t,e,n){let i=cv(t,e);i&&VU(t,i,e,n)}function uv(t,e,n,i,r,s,o){for(;n!=null;){let a=i[n.index],c=n.type;if(o&&e===0&&(a&&qs(ci(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)uv(t,e,n.child,i,r,s,!1),aa(e,t,r,a,s);else if(c&32){let l=av(n,i),d;for(;d=l();)aa(e,t,r,d,s);aa(e,t,r,a,s)}else c&16?qS(t,e,i,n,r,s):aa(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Xh(t,e,n,i,r,s){uv(n,i,t.firstChild,e,r,s,!1)}function HU(t,e,n){let i=e[It],r=$S(t,n,e),s=n.parent||e[wn],o=zS(s,n,e);qS(i,0,e,n,r,o)}function qS(t,e,n,i,r,s){let o=n[$n],c=o[wn].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];aa(e,t,r,d,s)}else{let l=c,d=o[Lt];SS(i)&&(l.flags|=128),uv(t,e,l,d,r,s,!0)}}function zU(t,e,n,i,r){let s=n[$s],o=ci(n);s!==o&&aa(e,t,i,s,r);for(let a=bn;a<n.length;a++){let c=n[a];Xh(c[he],c,t,e,i,s)}}function GU(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:Gi.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Gi.Important),t.setStyle(n,i,r,s))}}function qU(t,e,n){t.setAttribute(e,"style",n)}function WS(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function KS(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&G_(t,e,i),r!==null&&WS(t,e,r),s!==null&&qU(t,e,s)}var hi={};function st(t=1){YS(Wt(),Te(),Qs()+t,!1)}function YS(t,e,n,i){if(!i)if((e[te]&3)===3){let s=t.preOrderCheckHooks;s!==null&&ph(e,s,n)}else{let s=t.preOrderHooks;s!==null&&gh(e,s,0,n)}Hs(n)}function q(t,e=pe.Default){let n=Te();if(n===null)return W(t,e);let i=dn();return IS(i,n,tn(t),e)}function QS(){let t="invalid";throw new Error(t)}function JS(t,e,n,i,r,s){let o=Se(null);try{let a=null;r&At.SignalBased&&(a=e[i][n1]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&At.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,i):WC(e,a,i,s)}finally{Se(o)}}function WU(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Hs(~r);else{let s=r,o=n[++i],a=n[++i];Uj(o,s);let c=e[s];a(2,c)}}}finally{Hs(-1)}}function Zh(t,e,n,i,r,s,o,a,c,l,d){let h=e.blueprint.slice();return h[Yi]=r,h[te]=i|4|128|8|64,(l!==null||t&&t[te]&2048)&&(h[te]|=2048),ZC(h),h[Lt]=h[vl]=t,h[oi]=n,h[Un]=o||t&&t[Un],h[It]=a||t&&t[It],h[ga]=c||t&&t[ga]||null,h[wn]=s,h[qh]=hU(),h[ll]=d,h[zC]=l,h[$n]=e.type==2?t[$n]:h,h}function Il(t,e,n,i,r){let s=t.data[e];if(s===null)s=KU(t,e,n,i,r),jj()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=Lj();s.injectorIndex=o===null?-1:o.injectorIndex}return wl(s,!0),s}function KU(t,e,n,i,r){let s=iS(),o=rS(),a=o?s:s&&s.parent,c=t.data[e]=e$(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function XS(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function ZS(t,e,n,i,r){let s=Qs(),o=i&2;try{Hs(-1),o&&e.length>ai&&YS(t,e,ai,!1),ii(o?2:0,r),n(i,r)}finally{Hs(s),ii(o?3:1,r)}}function eA(t,e,n){if(qC(e)){let i=Se(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{Se(i)}}}function tA(t,e,n){tS()&&(a$(t,e,n,Mn(n,e)),(n.flags&64)===64&&oA(t,e,n))}function nA(t,e,n=Mn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function iA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=dv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function dv(t,e,n,i,r,s,o,a,c,l,d){let h=ai+i,f=h+r,g=YU(h,f),_=typeof l=="function"?l():l;return g[he]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:d}}function YU(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:hi);return n}function QU(t,e,n,i){let s=i.get(bU,NS)||n===si.ShadowDom,o=t.selectRootElement(e,s);return JU(o),o}function JU(t){XU(t)}var XU=()=>null;function ZU(t,e,n,i){let r=lA(e);r.push(n),t.firstCreatePass&&uA(t).push(i,r.length-1)}function e$(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return nS()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Z1(t,e,n,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,c=At.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(r!==null){if(!r.hasOwnProperty(s))continue;l=r[s]}t===0?eC(i,n,l,a,c):eC(i,n,l,a)}return i}function eC(t,e,n,i,r){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,i):s=t[n]=[e,i],r!==void 0&&s.push(r)}function t$(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let d=i;d<r;d++){let h=s[d],f=n?n.get(h):null,g=f?f.inputs:null,_=f?f.outputs:null;c=Z1(0,h.inputs,d,c,g),l=Z1(1,h.outputs,d,l,_);let y=c!==null&&o!==null&&!Uy(e)?y$(c,d,o):null;a.push(y)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function n$(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function i$(t,e,n,i,r,s,o,a){let c=Mn(e,n),l=e.inputs,d;!a&&l!=null&&(d=l[i])?(hv(t,n,d,i,r),Wh(e)&&r$(n,e.index)):e.type&3?(i=n$(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(c,i,r)):e.type&12}function r$(t,e){let n=Ur(e,t);n[te]&16||(n[te]|=64)}function rA(t,e,n,i){if(tS()){let r=i===null?null:{"":-1},s=l$(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&sA(t,e,n,o,r,a),r&&u$(n,i,r)}n.mergedAttrs=al(n.mergedAttrs,n.attrs)}function sA(t,e,n,i,r,s){for(let l=0;l<i.length;l++)Z_(Sh(n,e),t,i[l].type);h$(n,t.data.length,i.length);for(let l=0;l<i.length;l++){let d=i[l];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,c=XS(t,e,i.length,null);for(let l=0;l<i.length;l++){let d=i[l];n.mergedAttrs=al(n.mergedAttrs,d.hostAttrs),f$(t,n,e,c,d),d$(c,d,r),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let h=d.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}t$(t,n,s)}function s$(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;o$(o)!=a&&o.push(a),o.push(n,i,s)}}function o$(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function a$(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;Wh(n)&&p$(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Sh(n,e),qs(i,e);let o=n.initialInputs;for(let a=r;a<s;a++){let c=t.data[a],l=Gs(e,t,a,n);if(qs(l,e),o!==null&&_$(e,a-r,l,c,n,o),Vr(c)){let d=Ur(n.index,e);d[oi]=Gs(e,t,a,n)}}}function oA(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=$j();try{Hs(s);for(let a=i;a<r;a++){let c=t.data[a],l=e[a];J_(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&c$(c,l)}}finally{Hs(-1),J_(o)}}function c$(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function l$(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(OC(e,o.selectors,!1))if(i||(i=[]),Vr(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let c=a.length;ay(t,e,c)}else i.unshift(o),ay(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function ay(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function u$(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new Q(-301,!1);i.push(e[r],s)}}}function d$(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Vr(e)&&(n[""]=t)}}function h$(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function f$(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=da(r.type,!0)),o=new zs(s,Vr(r),q);t.blueprint[i]=o,n[i]=o,s$(t,e,i,XS(t,n,r.hostVars,hi),r)}function p$(t,e,n){let i=Mn(e,t),r=iA(n),s=t[Un].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=ef(t,Zh(t,r,null,o,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=a}function g$(t,e,n,i,r,s){let o=Mn(t,e);m$(e[It],o,s,t.value,n,i,r)}function m$(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?$h(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function _$(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],d=o[a++],h=o[a++];JS(i,n,c,l,d,h)}}function y$(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function aA(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function cA(t,e){let n=t.contentQueries;if(n!==null){let i=Se(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];Yy(s),a.contentQueries(2,e[o],o)}}}finally{Se(i)}}}function ef(t,e){return t[dl]?t[$1][jn]=e:t[dl]=e,t[$1]=e,e}function cy(t,e,n){Yy(0);let i=Se(null);try{e(t,n)}finally{Se(i)}}function lA(t){return t[ul]||(t[ul]=[])}function uA(t){return t.cleanup||(t.cleanup=[])}function dA(t,e){let n=t[ga],i=n?n.get(li,null):null;i&&i.handleError(e)}function hv(t,e,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],d=t.data[o];JS(d,l,i,a,c,r)}}function v$(t,e,n){let i=JC(e,t);xU(t[It],i,n)}function b$(t,e){let n=Ur(e,t),i=n[he];w$(i,n);let r=n[Yi];r!==null&&n[ll]===null&&(n[ll]=rv(r,n[ga])),fv(i,n,n[oi])}function w$(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function fv(t,e,n){Qy(e);try{let i=t.viewQuery;i!==null&&cy(1,i,n);let r=t.template;r!==null&&ZS(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[zi]?.finishViewCreation(t),t.staticContentQueries&&cA(t,e),t.staticViewQueries&&cy(2,t.viewQuery,n);let s=t.components;s!==null&&I$(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[te]&=-5,Jy()}}function I$(t,e){for(let n=0;n<e.length;n++)b$(t,e[n])}function E$(t,e,n,i){let r=Se(null);try{let s=e.tView,a=t[te]&4096?4096:16,c=Zh(t,s,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=t[e.index];c[bl]=l;let d=t[zi];return d!==null&&(c[zi]=d.createEmbeddedView(s)),fv(s,c,n),c}finally{Se(r)}}function tC(t,e){return!e||e.firstChild===null||SS(t)}function D$(t,e,n,i=!0){let r=e[he];if(NU(r,e,t,n),i){let o=oy(n,t),a=e[It],c=cv(a,t[$s]);c!==null&&RU(r,t[wn],a,e,c,o)}let s=e[ll];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Mh(t,e,n,i,r=!1){for(;n!==null;){let s=e[n.index];s!==null&&i.push(ci(s)),Qi(s)&&T$(s,i);let o=n.type;if(o&8)Mh(t,e,n.child,i);else if(o&32){let a=av(n,e),c;for(;c=a();)i.push(c)}else if(o&16){let a=GS(e,n);if(Array.isArray(a))i.push(...a);else{let c=fl(e[$n]);Mh(c[he],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function T$(t,e){for(let n=bn;n<t.length;n++){let i=t[n],r=i[he].firstChild;r!==null&&Mh(i[he],i,r,e)}t[$s]!==t[Yi]&&e.push(t[$s])}var hA=[];function C$(t){return t[Us]??S$(t)}function S$(t){let e=hA.pop()??Object.create(x$);return e.lView=t,e}function A$(t){t.lView[Us]!==t&&(t.lView=null,hA.push(t))}var x$=ve(U({},i1),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{hl(t.lView)},consumerOnSignalRead(){this.lView[Us]=this}}),fA=100;function pA(t,e=!0,n=0){let i=t[Un],r=i.rendererFactory,s=!1;s||r.begin?.();try{M$(t,n)}catch(o){throw e&&dA(t,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function M$(t,e){ly(t,e);let n=0;for(;qy(t);){if(n===fA)throw new Q(103,!1);n++,ly(t,1)}}function R$(t,e,n,i){let r=e[te];if((r&256)===256)return;let s=!1;!s&&e[Un].inlineEffectRunner?.flush(),Qy(e);let o=null,a=null;!s&&O$(t)&&(a=C$(e),o=r1(a));try{ZC(e),Bj(t.bindingStartIndex),n!==null&&ZS(t,e,n,2,i);let c=(r&3)===3;if(!s)if(c){let h=t.preOrderCheckHooks;h!==null&&ph(e,h,null)}else{let h=t.preOrderHooks;h!==null&&gh(e,h,0,null),M_(e,0)}if(N$(e),gA(e,0),t.contentQueries!==null&&cA(t,e),!s)if(c){let h=t.contentCheckHooks;h!==null&&ph(e,h)}else{let h=t.contentHooks;h!==null&&gh(e,h,1),M_(e,1)}WU(t,e);let l=t.components;l!==null&&_A(e,l,0);let d=t.viewQuery;if(d!==null&&cy(2,d,i),!s)if(c){let h=t.viewCheckHooks;h!==null&&ph(e,h)}else{let h=t.viewHooks;h!==null&&gh(e,h,2),M_(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[x_]){for(let h of e[x_])h();e[x_]=null}s||(e[te]&=-73)}catch(c){throw hl(e),c}finally{a!==null&&(s1(a,o),A$(a)),Jy()}}function O$(t){return t.type!==2}function gA(t,e){for(let n=xS(t);n!==null;n=MS(n))for(let i=bn;i<n.length;i++){let r=n[i];mA(r,e)}}function N$(t){for(let e=xS(t);e!==null;e=MS(e)){if(!(e[te]&Hy.HasTransplantedViews))continue;let n=e[ma];for(let i=0;i<n.length;i++){let r=n[i],s=r[Lt];Aj(r)}}}function P$(t,e,n){let i=Ur(e,t);mA(i,n)}function mA(t,e){Gy(t)&&ly(t,e)}function ly(t,e){let i=t[he],r=t[te],s=t[Us],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&s_(s)),s&&(s.dirty=!1),t[te]&=-9217,o)R$(i,t,i.template,t[oi]);else if(r&8192){gA(t,1);let a=i.components;a!==null&&_A(t,a,1)}}function _A(t,e,n){for(let i=0;i<e.length;i++)P$(t,e[i],n)}function pv(t){for(t[Un].changeDetectionScheduler?.notify();t;){t[te]|=64;let e=fl(t);if(_j(t)&&!e)return t;t=e}return null}var Ws=class{get rootNodes(){let e=this._lView,n=e[he];return Mh(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[oi]}set context(e){this._lView[oi]=e}get destroyed(){return(this._lView[te]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Lt];if(Qi(e)){let n=e[Eh],i=n?n.indexOf(this):-1;i>-1&&(sy(e,i),wh(n,i))}this._attachedToViewContainer=!1}US(this._lView[he],this._lView)}onDestroy(e){eS(this._lView,e)}markForCheck(){pv(this._cdRefInjectingView||this._lView)}detach(){this._lView[te]&=-129}reattach(){Q_(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,pA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,BS(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e,Q_(this._lView)}},qi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=L$;let t=e;return t})(),k$=qi,F$=class extends k${constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=E$(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new Ws(r)}};function L$(){return gv(dn(),Te())}function gv(t,e){return t.type&4?new F$(e,t,ya(t,e)):null}var cue=new RegExp(`^(\\d+)*(${yU}|${_U})*(.*)`);var V$=()=>null;function nC(t,e){return V$(t,e)}var Rh=class{},uy=class{},Oh=class{};function B$(t){let e=Error(`No component factory found for ${rn(t)}.`);return e[j$]=t,e}var j$="ngComponent";var dy=class{resolveComponentFactory(e){throw B$(e)}},tf=(()=>{let e=class e{};e.NULL=new dy;let t=e;return t})(),pl=class{},Gn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>U$();let t=e;return t})();function U$(){let t=Te(),e=dn(),n=Ur(e.index,t);return(Bs(n)?n:t)[It]}var $$=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),k_={};var iC=new Set;function mv(t){iC.has(t)||(iC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function rC(...t){}function H$(){let t=typeof nn.requestAnimationFrame=="function",e=nn[t?"requestAnimationFrame":"setTimeout"],n=nn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var le=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ne(!1),this.onMicrotaskEmpty=new Ne(!1),this.onStable=new Ne(!1),this.onError=new Ne(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=H$().nativeRequestAnimationFrame,q$(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,z$,rC,rC);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},z$={};function _v(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function G$(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(nn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hy(t),t.isCheckStableRunning=!0,_v(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hy(t))}function q$(t){let e=()=>{G$(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(W$(a))return n.invokeTask(r,s,o,a);try{return sC(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),oC(t)}},onInvoke:(n,i,r,s,o,a,c)=>{try{return sC(t),n.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),oC(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,hy(t),_v(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function hy(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function sC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function oC(t){t._nesting--,_v(t)}var fy=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ne,this.onMicrotaskEmpty=new Ne,this.onStable=new Ne,this.onError=new Ne}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function W$(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function K$(t="zone.js",e){return t==="noop"?new fy:t==="zone.js"?new le(e):t}var ca=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ca||{}),Y$={destroy(){}};function nf(t,e){!e&&pj(nf);let n=e?.injector??V(et);if(!CU(n))return Y$;mv("NgAfterNextRender");let i=n.get(yv),r=i.handler??=new gy,s=e?.phase??ca.MixedReadWrite,o=()=>{r.unregister(c),a()},a=n.get(Yh).onDestroy(o),c=Ki(n,()=>new py(s,()=>{o(),t()}));return r.register(c),{destroy:o}}var py=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=V(le),this.errorHandler=V(li,{optional:!0}),V(Rh,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},gy=class{constructor(){this.executingCallbacks=!1,this.buckets={[ca.EarlyRead]:new Set,[ca.Write]:new Set,[ca.MixedReadWrite]:new Set,[ca.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},yv=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function my(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=U_(r,a);else if(s==2){let c=a,l=e[++o];i=U_(i,c+": "+l+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Nh=class extends tf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Hi(e);return new Ks(n,this.ngModule)}};function aC(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function Q$(t){let e=t.toLowerCase();return e==="svg"?wj:e==="math"?Ij:null}var _y=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Hh(i);let r=this.injector.get(e,k_,i);return r!==k_||n===k_?r:this.parentInjector.get(e,n,i)}},Ks=class extends Oh{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=aC(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return aC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=XB(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let s=Se(null);try{r=r||this.ngModule;let o=r instanceof Ft?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new _y(e,o):e,c=a.get(pl,null);if(c===null)throw new Q(407,!1);let l=a.get($$,null),d=a.get(yv,null),h=a.get(Rh,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:h},g=c.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",y=i?QU(g,i,this.componentDef.encapsulation,a):VS(g,_,Q$(_)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let A=null;y!==null&&(A=rv(y,a,!0));let x=dv(0,null,null,1,0,null,null,null,null,null,null),O=Zh(null,x,null,v,null,null,f,g,a,null,A);Qy(O);let N,k;try{let P=this.componentDef,E,b=null;P.findHostDirectiveDefs?(E=[],b=new Map,P.findHostDirectiveDefs(P,E,b),E.push(P)):E=[P];let I=J$(O,y),T=X$(I,y,P,E,O,f,g);k=XC(x,ai),y&&tH(g,P,y,i),n!==void 0&&nH(k,this.ngContentSelectors,n),N=eH(T,P,E,b,O,[iH]),fv(x,O,null)}finally{Jy()}return new yy(this.componentType,N,ya(k,O),O,k)}finally{Se(s)}}},yy=class extends uy{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ws(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;hv(s[he],s,r,e,n),this.previousInputValues.set(e,n);let o=Ur(this._tNode.index,s);pv(o)}}get injector(){return new js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function J$(t,e){let n=t[he],i=ai;return t[i]=e,Il(n,i,2,"#host",null)}function X$(t,e,n,i,r,s,o){let a=r[he];Z$(i,t,e,o);let c=null;e!==null&&(c=rv(e,r[ga]));let l=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let h=Zh(r,iA(n),null,d,r[t.index],t,s,l,null,null,c);return a.firstCreatePass&&ay(a,t,i.length-1),ef(r,h),r[t.index]=h}function Z$(t,e,n,i){for(let r of t)e.mergedAttrs=al(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(my(e,e.mergedAttrs,!0),n!==null&&KS(i,n,e))}function eH(t,e,n,i,r,s){let o=dn(),a=r[he],c=Mn(o,r);sA(a,r,o,n,null,i);for(let d=0;d<n.length;d++){let h=o.directiveStart+d,f=Gs(r,a,h,o);qs(f,r)}oA(a,r,o),c&&qs(c,r);let l=Gs(r,a,o.directiveStart+o.componentOffset,o);if(t[oi]=r[oi]=l,s!==null)for(let d of s)d(l,e);return eA(a,o,r),l}function tH(t,e,n,i){if(i)G_(t,n,["ng-version","17.3.9"]);else{let{attrs:r,classes:s}=ZB(e.selectors[0]);r&&G_(t,n,r),s&&s.length>0&&WS(t,n,s.join(" "))}}function nH(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function iH(){let t=dn();ev(Te()[he],t)}var Ji=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rH;let t=e;return t})();function rH(){let t=dn();return vA(t,Te())}var sH=Ji,yA=class extends sH{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return ya(this._hostTNode,this._hostLView)}get injector(){return new js(this._hostTNode,this._hostLView)}get parentInjector(){let e=tv(this._hostTNode,this._hostLView);if(mS(e)){let n=Ch(e,this._hostLView),i=Th(e),r=n[he].data[i+8];return new js(r,n)}else return new js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=cC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-bn}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=nC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,tC(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!mj(e),a;if(o)a=n;else{let _=n||{};a=_.index,i=_.injector,r=_.projectableNodes,s=_.environmentInjector||_.ngModuleRef}let c=o?e:new Ks(Hi(e)),l=i||this.parentInjector;if(!s&&c.ngModule==null){let y=(o?l:this.parentInjector).get(Ft,null);y&&(s=y)}let d=Hi(c.componentType??{}),h=nC(this._lContainer,d?.id??null),f=h?.firstChild??null,g=c.create(l,r,f,s);return this.insertImpl(g.hostView,a,tC(this._hostTNode,h)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(Sj(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Lt],l=new yA(c,c[wn],c[Lt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return D$(o,r,s,i),e.attachToViewContainerRef(),CC(F_(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=cC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=sy(this._lContainer,n);i&&(wh(F_(this._lContainer),n),US(i[he],i))}detach(e){let n=this._adjustIndex(e,-1),i=sy(this._lContainer,n);return i&&wh(F_(this._lContainer),n)!=null?new Ws(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function cC(t){return t[Eh]}function F_(t){return t[Eh]||(t[Eh]=[])}function vA(t,e){let n,i=e[t.index];return Qi(i)?n=i:(n=aA(i,e,null,t),e[t.index]=n,ef(e,n)),aH(n,e,t,i),new yA(n,t,e)}function oH(t,e){let n=t[It],i=n.createComment(""),r=Mn(e,t),s=cv(n,r);return xh(n,s,i,BU(n,r),!1),i}var aH=uH,cH=()=>!1;function lH(t,e,n){return cH(t,e,n)}function uH(t,e,n,i){if(t[$s])return;let r;n.type&8?r=ci(i):r=oH(e,n),t[$s]=r}var vy=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},by=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)vv(e,n).matches!==null&&this.queries[n].setDirty()}},Ph=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=yH(e):this.predicate=e}},wy=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Iy=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,n,dH(n,s)),this.matchTNodeWithReadOption(e,n,mh(n,e,s,!1,!1))}else i===qi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,mh(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===_t||r===Ji||r===qi&&n.type&4)this.addMatch(n.index,-2);else{let s=mh(n,e,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function dH(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function hH(t,e){return t.type&11?ya(t,e):t.type&4?gv(t,e):null}function fH(t,e,n,i){return n===-1?hH(e,t):n===-2?pH(t,e,i):Gs(t,t[he],n,e)}function pH(t,e,n){if(n===_t)return ya(e,t);if(n===qi)return gv(e,t);if(n===Ji)return vA(e,t)}function bA(t,e,n,i){let r=e[zi].queries[i];if(r.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let d=s[l];a.push(fH(e,d,o[c+1],n.metadata.read))}}r.matches=a}return r.matches}function Ey(t,e,n,i){let r=t.queries.getByIndex(n),s=r.matches;if(s!==null){let o=bA(t,e,r,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)i.push(o[a/2]);else{let l=s[a+1],d=e[-c];for(let h=bn;h<d.length;h++){let f=d[h];f[bl]===f[Lt]&&Ey(f[he],f,l,i)}if(d[ma]!==null){let h=d[ma];for(let f=0;f<h.length;f++){let g=h[f];Ey(g[he],g,l,i)}}}}}return i}function gH(t,e){return t[zi].queries[e].queryList}function wA(t,e,n){let i=new iy((n&4)===4);return ZU(t,e,i,i.destroy),(e[zi]??=new by).queries.push(new vy(i))-1}function mH(t,e,n){let i=Wt();return i.firstCreatePass&&(IA(i,new Ph(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),wA(i,Te(),e)}function _H(t,e,n,i){let r=Wt();if(r.firstCreatePass){let s=dn();IA(r,new Ph(e,n,i),s.index),vH(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return wA(r,Te(),n)}function yH(t){return t.split(",").map(e=>e.trim())}function IA(t,e,n){t.queries===null&&(t.queries=new wy),t.queries.track(new Iy(e,n))}function vH(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function vv(t,e){return t.queries.getByIndex(e)}function bH(t,e){let n=t[he],i=vv(n,e);return i.crossesNgTemplate?Ey(n,t,e,[]):bA(n,t,i,e)}function wH(t){let e=[],n=new Map;function i(r){let s=n.get(r);if(!s){let o=t(r);n.set(r,s=o.then(TH))}return s}return kh.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(l=>{r.template=l}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let l=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((h,f)=>{a.push(""),o.push(i(h).then(g=>{a[l+f]=g,d.splice(d.indexOf(h),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(l=>{a.push(l),r.styleUrl=void 0}));let c=Promise.all(o).then(()=>CH(s));e.push(c)}),EH(),Promise.all(e).then(()=>{})}var kh=new Map,IH=new Set;function EH(){let t=kh;return kh=new Map,t}function DH(){return kh.size===0}function TH(t){return typeof t=="string"?t:t.text()}function CH(t){IH.delete(t)}function SH(t){return Object.getPrototypeOf(t.prototype).constructor}function En(t){let e=SH(t.type),n=!0,i=[t];for(;e;){let r;if(Vr(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=uh(t.inputs),o.inputTransforms=uh(t.inputTransforms),o.declaredInputs=uh(t.declaredInputs),o.outputs=uh(t.outputs);let a=r.hostBindings;a&&OH(t,a);let c=r.viewQuery,l=r.contentQueries;if(c&&MH(t,c),l&&RH(t,l),AH(t,r),_B(t.outputs,r.outputs),Vr(r)&&r.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===En&&(n=!1)}}e=Object.getPrototypeOf(e)}xH(i)}function AH(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function xH(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=al(r.hostAttrs,n=al(n,r.hostAttrs))}}function uh(t){return t===ha?{}:t===un?[]:t}function MH(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function RH(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function OH(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function bv(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var Br=class{},gl=class{};var Fh=class extends Br{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nh(this);let r=FC(e);this._bootstrapComponents=LS(r.bootstrap),this._r3Injector=TS(e,n,[{provide:Br,useValue:this},{provide:tf,useValue:this.componentFactoryResolver},...i],rn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Lh=class extends gl{constructor(e){super(),this.moduleType=e}create(e){return new Fh(this.moduleType,e,[])}};function NH(t,e,n){return new Fh(t,e,n)}var Dy=class extends Br{constructor(e){super(),this.componentFactoryResolver=new Nh(this),this.instance=null;let n=new cl([...e.providers,{provide:Br,useValue:this},{provide:tf,useValue:this.componentFactoryResolver}],e.parent||Gh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function rf(t,e,n=null){return new Dy({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var sf=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new mt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function EA(t){return kH(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function PH(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function kH(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function wv(t,e,n){return t[e]=n}function FH(t,e){return t[e]}function jr(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function LH(t,e,n,i){let r=jr(t,e,n);return jr(t,e+1,i)||r}function VH(t){return(t.flags&32)===32}function BH(t,e,n,i,r,s,o,a,c){let l=e.consts,d=Il(e,t,4,o||null,Dh(l,a));rA(e,n,d,Dh(l,c)),ev(e,d);let h=d.tView=dv(2,d,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}function ba(t,e,n,i,r,s,o,a){let c=Te(),l=Wt(),d=t+ai,h=l.firstCreatePass?BH(d,l,c,e,n,i,r,s,o):l.data[d];wl(h,!1);let f=jH(l,c,h,t);Xy()&&lv(l,c,f,h),qs(f,c);let g=aA(f,c,f,h);return c[d]=g,ef(c,g),lH(g,h,c),zy(h)&&tA(l,c,h),o!=null&&nA(c,h,a),ba}var jH=UH;function UH(t,e,n,i){return Zy(!0),e[It].createComment("")}function Js(t,e,n,i){let r=Te(),s=Ky();if(jr(r,s,e)){let o=Wt(),a=fS();g$(a,r,t,e,n,i)}return Js}function $H(t,e,n,i){return jr(t,Ky(),n)?e+$h(n)+i:hi}function dh(t,e){return t<<17|e<<2}function Ys(t){return t>>17&32767}function HH(t){return(t&2)==2}function zH(t,e){return t&131071|e<<17}function Ty(t){return t|2}function _a(t){return(t&131068)>>2}function L_(t,e){return t&-131069|e<<2}function GH(t){return(t&1)===1}function Cy(t){return t|1}function qH(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Ys(o),c=_a(o);t[i]=n;let l=!1,d;if(Array.isArray(n)){let h=n;d=h[1],(d===null||yl(h,d)>0)&&(l=!0)}else d=n;if(r)if(c!==0){let f=Ys(t[a+1]);t[i+1]=dh(f,a),f!==0&&(t[f+1]=L_(t[f+1],i)),t[a+1]=zH(t[a+1],i)}else t[i+1]=dh(a,0),a!==0&&(t[a+1]=L_(t[a+1],i)),a=i;else t[i+1]=dh(c,0),a===0?a=i:t[c+1]=L_(t[c+1],i),c=i;l&&(t[i+1]=Ty(t[i+1])),lC(t,d,i,!0),lC(t,d,i,!1),WH(e,d,t,i,s),o=dh(a,c),s?e.classBindings=o:e.styleBindings=o}function WH(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&yl(s,e)>=0&&(n[i+1]=Cy(n[i+1]))}function lC(t,e,n,i){let r=t[n+1],s=e===null,o=i?Ys(r):_a(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];KH(c,e)&&(a=!0,t[o+1]=i?Cy(l):Ty(l)),o=i?Ys(l):_a(l)}a&&(t[n+1]=i?Ty(r):Cy(r))}function KH(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?yl(t,e)>=0:!1}var Bn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function YH(t){return t.substring(Bn.key,Bn.keyEnd)}function QH(t){return JH(t),DA(t,TA(t,0,Bn.textEnd))}function DA(t,e){let n=Bn.textEnd;return n===e?-1:(e=Bn.keyEnd=XH(t,Bn.key=e,n),TA(t,e,n))}function JH(t){Bn.key=0,Bn.keyEnd=0,Bn.value=0,Bn.valueEnd=0,Bn.textEnd=t.length}function TA(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function XH(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Kt(t,e,n){let i=Te(),r=Ky();if(jr(i,r,e)){let s=Wt(),o=fS();i$(s,o,i,t,e,i[It],n,!1)}return Kt}function Sy(t,e,n,i,r){let s=e.inputs,o=r?"class":"style";hv(t,n,s[o],o,i)}function Xs(t,e){return ez(t,e,null,!0),Xs}function of(t){tz(az,ZH,t,!0)}function ZH(t,e){for(let n=QH(e);n>=0;n=DA(e,n))jy(t,YH(e),!0)}function ez(t,e,n,i){let r=Te(),s=Wt(),o=oS(2);if(s.firstUpdatePass&&SA(s,t,o,i),e!==hi&&jr(r,o,e)){let a=s.data[Qs()];AA(s,a,r,r[It],t,r[o+1]=lz(e,n),i,o)}}function tz(t,e,n,i){let r=Wt(),s=oS(2);r.firstUpdatePass&&SA(r,null,s,i);let o=Te();if(n!==hi&&jr(o,s,n)){let a=r.data[Qs()];if(xA(a,i)&&!CA(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=U_(c,n||"")),Sy(r,a,o,n,i)}else cz(r,a,o,o[It],o[s+1],o[s+1]=oz(t,e,n),i,s)}}function CA(t,e){return e>=t.expandoStartIndex}function SA(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[Qs()],o=CA(t,n);xA(s,i)&&e===null&&!o&&(e=!1),e=nz(r,s,e,i),qH(r,s,e,n,o,i)}}function nz(t,e,n,i){let r=Hj(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=V_(null,t,e,n,i),n=ml(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=V_(r,t,e,n,i),s===null){let c=iz(t,e,i);c!==void 0&&Array.isArray(c)&&(c=V_(null,t,e,c[1],i),c=ml(c,e.attrs,i),rz(t,e,i,c))}else s=sz(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function iz(t,e,n){let i=n?e.classBindings:e.styleBindings;if(_a(i)!==0)return t[Ys(i)]}function rz(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Ys(r)]=i}function sz(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=ml(i,o,n)}return ml(i,e.attrs,n)}function V_(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=ml(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function ml(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),jy(t,o,n?!0:e[++s]))}return t===void 0?null:t}function oz(t,e,n){if(n==null||n==="")return un;let i=[],r=va(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function az(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&jy(t,i,n)}function cz(t,e,n,i,r,s,o,a){r===hi&&(r=un);let c=0,l=0,d=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;d!==null||h!==null;){let f=c<r.length?r[c+1]:void 0,g=l<s.length?s[l+1]:void 0,_=null,y;d===h?(c+=2,l+=2,f!==g&&(_=h,y=g)):h===null||d!==null&&d<h?(c+=2,_=d):(l+=2,_=h,y=g),_!==null&&AA(t,e,n,i,_,y,o,a),d=c<r.length?r[c]:null,h=l<s.length?s[l]:null}}function AA(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],d=GH(l)?uC(c,e,n,r,_a(l),o):void 0;if(!Vh(d)){Vh(s)||HH(l)&&(s=uC(c,null,n,r,a,o));let h=JC(Qs(),n);GU(i,o,h,r,s)}}function uC(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let c=t[r],l=Array.isArray(c),d=l?c[1]:c,h=d===null,f=n[r+1];f===hi&&(f=h?un:void 0);let g=h?S_(f,i):d===i?f:void 0;if(l&&!Vh(g)&&(g=S_(c,i)),Vh(g)&&(a=g,o))return a;let _=t[r+1];r=o?Ys(_):_a(_)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=S_(c,i))}return a}function Vh(t){return t!==void 0}function lz(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=rn(va(t)))),t}function xA(t,e){return(t.flags&(e?8:16))!==0}function uz(t,e,n,i,r,s){let o=e.consts,a=Dh(o,r),c=Il(e,t,2,i,a);return rA(e,n,c,Dh(o,s)),c.attrs!==null&&my(c,c.attrs,!1),c.mergedAttrs!==null&&my(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function $(t,e,n,i){let r=Te(),s=Wt(),o=ai+t,a=r[It],c=s.firstCreatePass?uz(o,s,r,e,n,i):s.data[o],l=dz(s,r,c,a,e,t);r[o]=l;let d=zy(c);return wl(c,!0),KS(a,l,c),!VH(c)&&Xy()&&lv(s,r,l,c),Mj()===0&&qs(l,r),Rj(),d&&(tA(s,r,c),eA(s,c,r)),i!==null&&nA(r,c),$}function z(){let t=dn();rS()?sS():(t=t.parent,wl(t,!1));let e=t;Nj(e)&&Pj(),Oj();let n=Wt();return n.firstCreatePass&&(ev(n,t),qC(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Yj(e)&&Sy(n,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Qj(e)&&Sy(n,e,Te(),e.stylesWithoutHost,!1),z}function Oe(t,e,n,i){return $(t,e,n,i),z(),Oe}var dz=(t,e,n,i,r,s)=>(Zy(!0),VS(i,r,Gj()));function hz(){return Te()}var Bh="en-US";var fz=Bh;function pz(t){typeof t=="string"&&(fz=t.toLowerCase().replace(/_/g,"-"))}function Ue(t,e,n,i){let r=Te(),s=Wt(),o=dn();return mz(s,r,r[It],o,t,e,i),Ue}function gz(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[ul],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function mz(t,e,n,i,r,s,o){let a=zy(i),l=t.firstCreatePass&&uA(t),d=e[oi],h=lA(e),f=!0;if(i.type&3||o){let y=Mn(i,e),v=o?o(y):y,A=h.length,x=o?N=>o(ci(N[i.index])):i.index,O=null;if(!o&&a&&(O=gz(t,e,r,i.index)),O!==null){let N=O.__ngLastListenerFn__||O;N.__ngNextListenerFn__=s,O.__ngLastListenerFn__=s,f=!1}else{s=hC(i,e,d,s,!1);let N=n.listen(v,r,s);h.push(s,N),l&&l.push(r,x,A,A+1)}}else s=hC(i,e,d,s,!1);let g=i.outputs,_;if(f&&g!==null&&(_=g[r])){let y=_.length;if(y)for(let v=0;v<y;v+=2){let A=_[v],x=_[v+1],k=e[A][x].subscribe(s),P=h.length;h.push(s,k),l&&l.push(r,i.index,P,-(P+1))}}}function dC(t,e,n,i){let r=Se(null);try{return ii(6,e,n),n(i)!==!1}catch(s){return dA(t,s),!1}finally{ii(7,e,n),Se(r)}}function hC(t,e,n,i,r){return function s(o){if(o===Function)return i;let a=t.componentOffset>-1?Ur(t.index,e):e;pv(a);let c=dC(e,n,i,o),l=s.__ngNextListenerFn__;for(;l;)c=dC(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&o.preventDefault(),c}}function _z(t,e){let n=null,i=WB(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){n=r;continue}if(i===null?OC(t,s,!0):QB(i,s))return r}return n}function MA(t){let e=Te()[$n][wn];if(!e.projection){let n=t?t.length:1,i=e.projection=VB(n,null),r=i.slice(),s=e.child;for(;s!==null;){let o=t?_z(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function RA(t,e=0,n){let i=Te(),r=Wt(),s=Il(r,ai+t,16,null,n||null);s.projection===null&&(s.projection=e),sS(),(!i[ll]||nS())&&(s.flags&32)!==32&&HU(r,i,s)}function Iv(t,e,n,i){_H(t,e,n,i)}function OA(t,e,n){mH(t,e,n)}function af(t){let e=Te(),n=Wt(),i=aS();Yy(i+1);let r=vv(n,i);if(t.dirty&&Cj(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=bH(e,i);t.reset(s,lU),t.notifyOnChanges()}return!0}return!1}function cf(){return gH(Te(),aS())}function yz(t){let e=Vj();return Tj(e,ai+t)}function X(t,e=""){let n=Te(),i=Wt(),r=t+ai,s=i.firstCreatePass?Il(i,r,1,e,null):i.data[r],o=vz(i,n,s,e,t);n[r]=o,Xy()&&lv(i,n,o,s),wl(s,!1)}var vz=(t,e,n,i,r)=>(Zy(!0),AU(e[It],i));function fi(t){return El("",t,""),fi}function El(t,e,n){let i=Te(),r=$H(i,t,e,n);return r!==hi&&v$(i,Qs(),r),El}function bz(t,e,n){let i=Wt();if(i.firstCreatePass){let r=Vr(t);Ay(n,i.data,i.blueprint,r,!0),Ay(e,i.data,i.blueprint,r,!1)}}function Ay(t,e,n,i,r){if(t=tn(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ay(t[s],e,n,i,r);else{let s=Wt(),o=Te(),a=dn(),c=pa(t)?t:tn(t.provide),l=$C(t),d=a.providerIndexes&1048575,h=a.directiveStart,f=a.providerIndexes>>20;if(pa(t)||!t.multi){let g=new zs(l,r,q),_=j_(c,e,r?d:d+f,h);_===-1?(Z_(Sh(a,o),s,c),B_(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(g),o.push(g)):(n[_]=g,o[_]=g)}else{let g=j_(c,e,d+f,h),_=j_(c,e,d,d+f),y=g>=0&&n[g],v=_>=0&&n[_];if(r&&!v||!r&&!y){Z_(Sh(a,o),s,c);let A=Ez(r?Iz:wz,n.length,r,i,l);!r&&v&&(n[_].providerFactory=A),B_(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(A),o.push(A)}else{let A=NA(n[r?_:g],l,!r&&i);B_(s,t,g>-1?g:_,A)}!r&&i&&v&&n[_].componentProviders++}}}function B_(t,e,n,i){let r=pa(e),s=aj(e);if(r||s){let c=(s?tn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let d=l.indexOf(n);d===-1?l.push(n,[i,c]):l[d+1].push(i,c)}else l.push(n,c)}}}function NA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function j_(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function wz(t,e,n,i){return xy(this.multi,[])}function Iz(t,e,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Gs(n,n[he],this.providerFactory.index,i);s=a.slice(0,o),xy(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],xy(r,s);return s}function xy(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function Ez(t,e,n,i,r){let s=new zs(t,n,q);return s.multi=[],s.index=e,s.componentProviders=0,NA(s,r,i&&!n),s}function Xi(t,e=[]){return n=>{n.providersResolver=(i,r)=>bz(i,r?r(t):t,e)}}var Dz=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=BC(!1,i.type),s=r.length>0?rf([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(W(Ft))});let t=e;return t})();function Dl(t){mv("NgStandalone"),t.getStandaloneInjector=e=>e.get(Dz).getOrCreateStandaloneInjector(t)}function PA(t,e,n){let i=Wy()+t,r=Te();return r[i]===hi?wv(r,i,n?e.call(n):e()):FH(r,i)}function Ev(t,e,n,i){return Cz(Te(),Wy(),t,e,n,i)}function Tz(t,e,n,i,r){return Sz(Te(),Wy(),t,e,n,i,r)}function kA(t,e){let n=t[e];return n===hi?void 0:n}function Cz(t,e,n,i,r,s){let o=e+n;return jr(t,o,r)?wv(t,o+1,s?i.call(s,r):i(r)):kA(t,o+1)}function Sz(t,e,n,i,r,s,o){let a=e+n;return LH(t,a,r,s)?wv(t,a+2,o?i.call(o,r,s):i(r,s)):kA(t,a+2)}var hh=null;function Az(t){hh!==null&&(t.defaultEncapsulation!==hh.defaultEncapsulation||t.preserveWhitespaces!==hh.preserveWhitespaces)||(hh=t)}var Wi=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},FA=new Wi("17.3.9"),lf=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Dv=new Y(""),Tl=new Y(""),uf=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Tv||(xz(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i()},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(W(le),W(df),W(Tl))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),df=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return Tv?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function xz(t){Tv=t}var Tv;function Zs(t){return!!t&&typeof t.then=="function"}function LA(t){return!!t&&typeof t.subscribe=="function"}var hf=new Y(""),VA=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=V(hf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(Zs(o))i.push(o);else if(LA(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cv=new Y("");function Mz(){a1(()=>{throw new Q(600,!1)})}function Rz(t){return t.isBoundToModule}function Oz(t,e,n){try{let i=n();return Zs(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function BA(t,e){return Array.isArray(e)?e.reduce(BA,t):U(U({},t),e)}var $r=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(CS),this.afterRenderEffectManager=V(yv),this.externalTestViews=new Set,this.beforeRender=new je,this.afterTick=new je,this.componentTypes=[],this.components=[],this.isStable=V(sf).hasPendingTasks.pipe(oe(i=>!i)),this._injector=V(Ft)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof Oh;if(!this._injector.get(VA).done){let g=!s&&kC(i),_=!1;throw new Q(405,_)}let a;s?a=i:a=this._injector.get(tf).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=Rz(a)?void 0:this._injector.get(Br),l=r||a.selector,d=a.create(et.NULL,[],l,c),h=d.location.nativeElement,f=d.injector.get(Dv,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),yh(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new Q(101,!1);let r=Se(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,Se(r)}}detectChangesInAttachedViews(i){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===fA)throw new Q(103,!1);if(i){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)Nz(a,o,c)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>My(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>My(o))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;yh(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Cv,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>yh(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Q(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Nz(t,e,n){!e&&!My(t)||Pz(t,n,e)}function My(t){return qy(t)}function Pz(t,e,n){let i;n?(i=0,t[te]|=1024):t[te]&64?i=0:i=1,pA(t,e,i)}var Ry=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ff=(()=>{let e=class e{compileModuleSync(i){return new Lh(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=FC(i),o=LS(s.declarations).reduce((a,c)=>{let l=Hi(c);return l&&a.push(new Ks(l)),a},[]);return new Ry(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kz=new Y("");function Fz(t,e,n){let i=new Lh(n);return Promise.resolve(i)}function fC(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Lz=(()=>{let e=class e{constructor(){this.zone=V(le),this.applicationRef=V($r)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vz(t){return[{provide:le,useFactory:t},{provide:fa,multi:!0,useFactory:()=>{let e=V(Lz,{optional:!0});return()=>e.initialize()}},{provide:fa,multi:!0,useFactory:()=>{let e=V(Uz);return()=>{e.initialize()}}},{provide:CS,useFactory:Bz}]}function Bz(){let t=V(le),e=V(li);return n=>t.runOutsideAngular(()=>e.handleError(n))}function jz(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Uz=(()=>{let e=class e{constructor(){this.subscription=new We,this.initialized=!1,this.zone=V(le),this.pendingTasks=V(sf)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{le.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $z(){return typeof $localize<"u"&&$localize.locale||Bh}var pf=new Y("",{providedIn:"root",factory:()=>V(pf,pe.Optional|pe.SkipSelf)||$z()});var jA=new Y(""),UA=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let s=K$(r?.ngZone,jz({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=NH(i.moduleType,this.injector,Vz(()=>s)),a=o.injector.get(li,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{yh(this._modules,o),c.unsubscribe()})}),Oz(a,s,()=>{let c=o.injector.get(VA);return c.runInitializers(),c.donePromise.then(()=>{let l=o.injector.get(pf,Bh);return pz(l||Bh),this._moduleDoBootstrap(o),o})})})}bootstrapModule(i,r=[]){let s=BA({},r);return Fz(this.injector,s,i).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(i){let r=i.injector.get($r);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new Q(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Q(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(jA,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(W(et))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),sl=null,$A=new Y("");function Hz(t){if(sl&&!sl.get($A,!1))throw new Q(400,!1);Mz(),sl=t;let e=t.get(UA);return qz(t),e}function Sv(t,e,n=[]){let i=`Platform: ${e}`,r=new Y(i);return(s=[])=>{let o=HA();if(!o||o.injector.get($A,!1)){let a=[...n,...s,{provide:r,useValue:!0}];t?t(a):Hz(zz(a,i))}return Gz(r)}}function zz(t=[],e){return et.create({name:e,providers:[{provide:zh,useValue:"platform"},{provide:jA,useValue:new Set([()=>sl=null])},...t]})}function Gz(t){let e=HA();if(!e)throw new Q(401,!1);return e}function HA(){return sl?.get(UA)??null}function qz(t){t.get(nv,null)?.forEach(n=>n())}var Zi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Wz;let t=e;return t})();function Wz(t){return Kz(dn(),Te(),(t&16)===16)}function Kz(t,e,n){if(Wh(t)&&!n){let i=Ur(t.index,e);return new Ws(i,i)}else if(t.type&47){let i=e[$n];return new Ws(i,e)}return null}var Oy=class{constructor(){}supports(e){return EA(e)}create(e){return new Ny(e)}},Yz=(t,e)=>e,Ny=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Yz}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<pC(i,r,s)?n:i,a=pC(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let l=a-r,d=c-r;if(l!=d){for(let f=0;f<l;f++){let g=f<s.length?s[f]:s[f]=0,_=g+f;d<=_&&_<l&&(s[f]=g+1)}let h=o.previousIndex;s[h]=d-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!EA(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,PH(e,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new Py(n,i),s,r)),e}_verifyReinsertion(e,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new jh),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new jh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Py=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ky=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},jh=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new ky,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function pC(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function gC(){return new Av([new Oy])}var Av=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||gC()),deps:[[e,new Vy,new ht]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new Q(901,!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:gC});let t=e;return t})();var zA=Sv(null,"core",[]),GA=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(W($r))},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();function eo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function gf(t,e){let n=Hi(t),i=e.elementInjector||Gh();return new Ks(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function qA(t){let e=Hi(t);if(!e)return null;let n=new Ks(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var XA=null;function pi(){return XA}function ZA(t){XA??=t}var mf=class{};var xt=new Y(""),Pv=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>V(Jz),providedIn:"platform"});let t=e;return t})(),ex=new Y(""),Jz=(()=>{let e=class e extends Pv{constructor(){super(),this._doc=V(xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pi().getBaseHref(this._doc)}onPopState(i){let r=pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function kv(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function WA(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function er(t){return t&&t[0]!=="?"?"?"+t:t}var tr=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>V(Fv),providedIn:"root"});let t=e;return t})(),tx=new Y(""),Fv=(()=>{let e=class e extends tr{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return kv(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+er(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+er(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+er(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(W(Pv),W(tx,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nx=(()=>{let e=class e extends tr{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=kv(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+er(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+er(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(W(Pv),W(tx,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Hr=(()=>{let e=class e{constructor(i){this._subject=new Ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=e3(WA(KA(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+er(r))}normalize(i){return e.stripTrailingSlash(Zz(this._basePath,KA(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+er(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+er(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=er,e.joinWithSlash=kv,e.stripTrailingSlash=WA,e.\u0275fac=function(r){return new(r||e)(W(tr))},e.\u0275prov=H({token:e,factory:()=>Xz(),providedIn:"root"});let t=e;return t})();function Xz(){return new Hr(W(tr))}function Zz(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function KA(t){return t.replace(/\/index.html$/,"")}function e3(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function ix(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var xv=/\s+/,YA=[],Pue=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=YA,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(xv):YA}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(xv):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(xv).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(q(_t),q(Gn))},e.\u0275dir=Le({type:e,selectors:[["","ngClass",""]],inputs:{klass:[At.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Mv=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yf=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new Mv(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,a),QA(c,s)}});for(let s=0,o=r.length;s<o;s++){let c=r.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);QA(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(q(Ji),q(qi),q(Av))},e.\u0275dir=Le({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function QA(t,e){t.context.$implicit=e.item}var kue=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new Rv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){JA("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){JA("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(q(Ji),q(qi))},e.\u0275dir=Le({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Rv=class{constructor(){this.$implicit=null,this.ngIf=null}};function JA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${rn(e)}'.`)}var vf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})(),Lv="browser",t3="server";function rx(t){return t===Lv}function Vv(t){return t===t3}var sx=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>rx(V(zn))?new Ov(V(xt),window):new Nv});let t=e;return t})(),Ov=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=n3(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function n3(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var Nv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},_f=class{};var $v=class extends mf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Hv=class t extends $v{static makeCurrent(){ZA(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=i3();return n==null?null:r3(n)}resetBaseElement(){Cl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ix(document.cookie,e)}},Cl=null;function i3(){return Cl=Cl||document.querySelector("base"),Cl?Cl.getAttribute("href"):null}function r3(t){return new URL(t,document.baseURI).pathname}var zv=class{addToWindow(e){nn.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new Q(5103,!1);return s},nn.getAllAngularTestabilities=()=>e.getAllTestabilities(),nn.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=nn.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};nn.frameworkStabilizers||(nn.frameworkStabilizers=[]),nn.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?pi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},s3=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Gv=new Y(""),lx=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(W(Gv),W(le))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),bf=class{constructor(e){this._doc=e}},jv="ng-app-id",ux=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vv(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${jv}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(jv),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(jv,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(W(xt),W(Qh),W(iv,8),W(zn))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Uv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wv=/%COMP%/g,dx="%COMP%",o3=`_nghost-${dx}`,a3=`_ngcontent-${dx}`,c3=!0,l3=new Y("",{providedIn:"root",factory:()=>c3});function u3(t){return a3.replace(Wv,t)}function d3(t){return o3.replace(Wv,t)}function hx(t,e){return e.map(n=>n.replace(Wv,t))}var ox=(()=>{let e=class e{constructor(i,r,s,o,a,c,l,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Vv(c),this.defaultRenderer=new Sl(i,a,l,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===si.ShadowDom&&(r=ve(U({},r),{encapsulation:si.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof wf?s.applyToHost(i):s instanceof Al&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case si.Emulated:o=new wf(l,d,r,this.appId,h,a,c,f);break;case si.ShadowDom:return new qv(l,d,i,r,a,c,this.nonce,f);default:o=new Al(l,d,r,h,a,c,f);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(W(lx),W(ux),W(Qh),W(l3),W(xt),W(zn),W(le),W(iv))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Sl=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Uv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ax(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(ax(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Q(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=Uv[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=Uv[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Gi.DashCase|Gi.Important)?e.style.setProperty(n,i,r&Gi.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Gi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=pi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ax(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var qv=class extends Sl{constructor(e,n,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=hx(r.id,r.styles);for(let d of l){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Al=class extends Sl{constructor(e,n,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?hx(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},wf=class extends Al{constructor(e,n,i,r,s,o,a,c){let l=r+"-"+i.id;super(e,n,i,s,o,a,c,l),this.contentAttr=u3(l),this.hostAttr=d3(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},h3=(()=>{let e=class e extends bf{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(W(xt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),cx=["alt","control","meta","shift"],f3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},p3={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},g3=(()=>{let e=class e extends bf{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pi().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),cx.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(i,r){let s=f3[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),cx.forEach(a=>{if(a!==s){let c=p3[a];c(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(W(xt))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function m3(){Hv.makeCurrent()}function _3(){return new li}function y3(){return OS(document),document}var v3=[{provide:zn,useValue:Lv},{provide:nv,useValue:m3,multi:!0},{provide:xt,useFactory:y3,deps:[]}],tde=Sv(zA,"browser",v3),b3=new Y(""),w3=[{provide:Tl,useClass:zv,deps:[]},{provide:Dv,useClass:uf,deps:[le,df,Tl]},{provide:uf,useClass:uf,deps:[le,df,Tl]}],I3=[{provide:zh,useValue:"root"},{provide:li,useFactory:_3,deps:[]},{provide:Gv,useClass:h3,multi:!0,deps:[xt,le,zn]},{provide:Gv,useClass:g3,multi:!0,deps:[xt]},ox,ux,lx,{provide:pl,useExisting:ox},{provide:_f,useClass:s3,deps:[]},[]],nde=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:Qh,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(W(b3,12))},e.\u0275mod=we({type:e}),e.\u0275inj=be({providers:[...I3,...w3],imports:[vf,GA]});let t=e;return t})();var fx=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(W(xt))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var de="primary",Hl=Symbol("RouteTitle"),Xv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ta(t){return new Xv(t)}function D3(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function T3(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!gi(t[n],e[n]))return!1;return!0}function gi(t,e){let n=t?Zv(t):void 0,i=e?Zv(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!Ix(t[r],e[r]))return!1;return!0}function Zv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Ix(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function Ex(t){return t.length>0?t[t.length-1]:null}function Wr(t){return b_(t)?t:Zs(t)?Ke(Promise.resolve(t)):J(t)}var C3={exact:Tx,subset:Cx},Dx={exact:S3,subset:A3,ignored:()=>!0};function px(t,e,n){return C3[n.paths](t.root,e.root,n.matrixParams)&&Dx[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function S3(t,e){return gi(t,e)}function Tx(t,e,n){if(!no(t.segments,e.segments)||!Df(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!Tx(t.children[i],e.children[i],n))return!1;return!0}function A3(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ix(t[n],e[n]))}function Cx(t,e,n){return Sx(t,e,e.segments,n)}function Sx(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!no(r,n)||e.hasChildren()||!Df(r,n,i))}else if(t.segments.length===n.length){if(!no(t.segments,n)||!Df(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!Cx(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!no(t.segments,r)||!Df(t.segments,r,i)||!t.children[de]?!1:Sx(t.children[de],e,s,i)}}function Df(t,e,n){return e.every((i,r)=>Dx[n](t[r].parameters,i.parameters))}var zr=class{constructor(e=new xe([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ta(this.queryParams),this._queryParamMap}toString(){return R3.serialize(this)}},xe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tf(this)}},to=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ta(this.parameters),this._parameterMap}toString(){return xx(this)}};function x3(t,e){return no(t,e)&&t.every((n,i)=>gi(n.parameters,e[i].parameters))}function no(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function M3(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===de&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==de&&(n=n.concat(e(r,i)))}),n}var zl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>new kl,providedIn:"root"});let t=e;return t})(),kl=class{parse(e){let n=new t0(e);return new zr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${xl(e.root,!0)}`,i=P3(e.queryParams),r=typeof e.fragment=="string"?`#${O3(e.fragment)}`:"";return`${n}${i}${r}`}},R3=new kl;function Tf(t){return t.segments.map(e=>xx(e)).join("/")}function xl(t,e){if(!t.hasChildren())return Tf(t);if(e){let n=t.children[de]?xl(t.children[de],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==de&&i.push(`${r}:${xl(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=M3(t,(i,r)=>r===de?[xl(t.children[de],!1)]:[`${r}:${xl(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[de]!=null?`${Tf(t)}/${n[0]}`:`${Tf(t)}/(${n.join("//")})`}}function Ax(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function If(t){return Ax(t).replace(/%3B/gi,";")}function O3(t){return encodeURI(t)}function e0(t){return Ax(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cf(t){return decodeURIComponent(t)}function gx(t){return Cf(t.replace(/\+/g,"%20"))}function xx(t){return`${e0(t.path)}${N3(t.parameters)}`}function N3(t){return Object.entries(t).map(([e,n])=>`;${e0(e)}=${e0(n)}`).join("")}function P3(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${If(n)}=${If(r)}`).join("&"):`${If(n)}=${If(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var k3=/^[^\/()?;#]+/;function Kv(t){let e=t.match(k3);return e?e[0]:""}var F3=/^[^\/()?;=#]+/;function L3(t){let e=t.match(F3);return e?e[0]:""}var V3=/^[^=?&#]+/;function B3(t){let e=t.match(V3);return e?e[0]:""}var j3=/^[^&#]+/;function U3(t){let e=t.match(j3);return e?e[0]:""}var t0=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[de]=new xe(e,n)),i}parseSegment(){let e=Kv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new to(Cf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=L3(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Kv(this.remaining);r&&(i=r,this.capture(i))}e[Cf(n)]=Cf(i)}parseQueryParam(e){let n=B3(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=U3(this.remaining);o&&(i=o,this.capture(i))}let r=gx(n),s=gx(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Kv(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Q(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=de);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[de]:new xe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function Mx(t){return t.segments.length>0?new xe([],{[de]:t}):t}function Rx(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=Rx(r);if(i===de&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new xe(t.segments,e);return $3(n)}function $3(t){if(t.numberOfChildren===1&&t.children[de]){let e=t.children[de];return new xe(t.segments.concat(e.segments),e.children)}return t}function Ca(t){return t instanceof zr}function H3(t,e,n=null,i=null){let r=Ox(t);return Nx(r,e,n,i)}function Ox(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new xe(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=Mx(i);return e??r}function Nx(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Yv(r,r,r,n,i);let s=z3(e);if(s.toRoot())return Yv(r,r,new xe([],{}),n,i);let o=G3(s,r,t),a=o.processChildren?Ol(o.segmentGroup,o.index,s.commands):kx(o.segmentGroup,o.index,s.commands);return Yv(r,o.segmentGroup,a,n,i)}function Sf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Fl(t){return typeof t=="object"&&t!=null&&t.outlets}function Yv(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let o;t===e?o=n:o=Px(t,e,n);let a=Mx(Rx(o));return new zr(a,s,r)}function Px(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=Px(s,e,n)}),new xe(t.segments,i)}var Af=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Sf(i[0]))throw new Q(4003,!1);let r=i.find(Fl);if(r&&r!==Ex(i))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function z3(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Af(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Af(n,e,i)}var Ea=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function G3(t,e,n){if(t.isAbsolute)return new Ea(e,!0,0);if(!n)return new Ea(e,!1,NaN);if(n.parent===null)return new Ea(n,!0,0);let i=Sf(t.commands[0])?0:1,r=n.segments.length-1+i;return q3(n,r,t.numberOfDoubleDots)}function q3(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Q(4005,!1);r=i.segments.length}return new Ea(i,!1,r-s)}function W3(t){return Fl(t[0])?t[0].outlets:{[de]:t}}function kx(t,e,n){if(t??=new xe([],{}),t.segments.length===0&&t.hasChildren())return Ol(t,e,n);let i=K3(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new xe(t.segments.slice(0,i.pathIndex),{});return s.children[de]=new xe(t.segments.slice(i.pathIndex),t.children),Ol(s,0,r)}else return i.match&&r.length===0?new xe(t.segments,{}):i.match&&!t.hasChildren()?n0(t,e,n):i.match?Ol(t,0,r):n0(t,e,n)}function Ol(t,e,n){if(n.length===0)return new xe(t.segments,{});{let i=W3(n),r={};if(Object.keys(i).some(s=>s!==de)&&t.children[de]&&t.numberOfChildren===1&&t.children[de].segments.length===0){let s=Ol(t.children[de],e,n);return new xe(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=kx(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new xe(t.segments,r)}}function K3(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(Fl(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!_x(c,l,o))return s;i+=2}else{if(!_x(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function n0(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(Fl(s)){let c=Y3(s.outlets);return new xe(i,c)}if(r===0&&Sf(n[0])){let c=t.segments[e];i.push(new to(c.path,mx(n[0]))),r++;continue}let o=Fl(s)?s.outlets[de]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Sf(a)?(i.push(new to(o,mx(a))),r+=2):(i.push(new to(o,{})),r++)}return new xe(i,{})}function Y3(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=n0(new xe([],{}),0,i))}),e}function mx(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function _x(t,e,n){return t==n.path&&gi(e,n.parameters)}var Nl="imperative",Mt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Mt||{}),Rn=class{constructor(e,n){this.id=e,this.url=n}},Sa=class extends Rn{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Mt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qn=class extends Rn{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Mt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Tn||{}),xf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(xf||{}),Gr=class extends Rn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Mt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},qr=class extends Rn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Mt.NavigationSkipped}},Ll=class extends Rn{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Mt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Mf=class extends Rn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Mt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},i0=class extends Rn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Mt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},r0=class extends Rn{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Mt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},s0=class extends Rn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Mt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},o0=class extends Rn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Mt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},a0=class{constructor(e){this.route=e,this.type=Mt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},c0=class{constructor(e){this.route=e,this.type=Mt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},l0=class{constructor(e){this.snapshot=e,this.type=Mt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},u0=class{constructor(e){this.snapshot=e,this.type=Mt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},d0=class{constructor(e){this.snapshot=e,this.type=Mt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},h0=class{constructor(e){this.snapshot=e,this.type=Mt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rf=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=Mt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Vl=class{},Bl=class{constructor(e){this.url=e}};var f0=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Gl,this.attachRef=null}},Gl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new f0,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Of=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=p0(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=p0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=g0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return g0(e,this._root).map(n=>n.value)}};function p0(t,e){if(t===e.value)return e;for(let n of e.children){let i=p0(t,n);if(i)return i}return null}function g0(t,e){if(t===e.value)return[e];for(let n of e.children){let i=g0(t,n);if(i.length)return i.unshift(e),i}return[]}var Dn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ia(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Nf=class extends Of{constructor(e,n){super(e),this.snapshot=n,T0(this,e)}toString(){return this.snapshot.toString()}};function Fx(t){let e=Q3(t),n=new mt([new to("",{})]),i=new mt({}),r=new mt({}),s=new mt({}),o=new mt(""),a=new nr(n,i,s,o,r,de,t,e.root);return a.snapshot=e.root,new Nf(new Dn(a,[]),e)}function Q3(t){let e={},n={},i={},r="",s=new jl([],e,i,r,n,de,t,null,{});return new Pf("",new Dn(s,[]))}var nr=class{constructor(e,n,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(oe(l=>l[Hl]))??J(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>Ta(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>Ta(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function D0(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),r?.data),t._resolvedData)}:i={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},r&&Vx(r)&&(i.resolve[Hl]=r.title),i}var jl=class{get title(){return this.data?.[Hl]}constructor(e,n,i,r,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ta(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ta(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Pf=class extends Of{constructor(e,n){super(n),this.url=e,T0(this,n)}toString(){return Lx(this._root)}};function T0(t,e){e.value._routerState=t,e.children.forEach(n=>T0(t,n))}function Lx(t){let e=t.children.length>0?` { ${t.children.map(Lx).join(", ")} } `:"";return`${t.value}${e}`}function Qv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,gi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),gi(e.params,n.params)||t.paramsSubject.next(n.params),T3(e.url,n.url)||t.urlSubject.next(n.url),gi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function m0(t,e){let n=gi(t.params,e.params)&&x3(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||m0(t.parent,e.parent))}function Vx(t){return typeof t.title=="string"||t.title===null}var C0=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.parentContexts=V(Gl),this.location=V(Ji),this.changeDetector=V(Zi),this.environmentInjector=V(Ft),this.inputBinder=V(Bf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new _0(i,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Le({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[In]});let t=e;return t})(),_0=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===nr?this.route:e===Gl?this.childContexts:this.parent.get(e,n)}},Bf=new Y(""),yx=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=Rr([r.queryParams,r.params,r.data]).pipe(ln(([o,a,c],l)=>(c=U(U(U({},o),a),c),l===0?J(c):Promise.resolve(c)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=qA(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function J3(t,e,n){let i=Ul(t,e._root,n?n._root:void 0);return new Nf(i,e)}function Ul(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=X3(t,e,n);return new Dn(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ul(t,a)),o}}let i=Z3(e.value),r=e.children.map(s=>Ul(t,s));return new Dn(i,r)}}function X3(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Ul(t,i,r);return Ul(t,i)})}function Z3(t){return new nr(new mt(t.url),new mt(t.params),new mt(t.queryParams),new mt(t.fragment),new mt(t.data),t.outlet,t.component,t)}var Bx="ngNavigationCancelingError";function jx(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Ca(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Ux(!1,Tn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Ux(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Bx]=!0,n.cancellationCode=e,n}function eG(t){return $x(t)&&Ca(t.url)}function $x(t){return!!t&&t[Bx]}var tG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ft({type:e,selectors:[["ng-component"]],standalone:!0,features:[Dl],decls:1,vars:0,template:function(r,s){r&1&&Oe(0,"router-outlet")},dependencies:[C0],encapsulation:2});let t=e;return t})();function nG(t,e){return t.providers&&!t._injector&&(t._injector=rf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function S0(t){let e=t.children&&t.children.map(S0),n=e?ve(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==de&&(n.component=tG),n}function mi(t){return t.outlet||de}function iG(t,e){let n=t.filter(i=>mi(i)===e);return n.push(...t.filter(i=>mi(i)!==e)),n}function ql(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var rG=(t,e,n,i)=>oe(r=>(new y0(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),y0=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Qv(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Ia(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Ia(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Ia(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Ia(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new h0(s.value.snapshot))}),e.children.length&&this.forwardEvent(new u0(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(Qv(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Qv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ql(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},kf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Da=class{constructor(e,n){this.component=e,this.route=n}};function sG(t,e,n){let i=t._root,r=e?e._root:null;return Ml(i,r,n,[i.value])}function oG(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ma(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!vC(t)?t:e.get(t):i}function Ml(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ia(e);return t.children.forEach(o=>{aG(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Pl(a,n.getContext(o),r)),r}function aG(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=cG(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new kf(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ml(t,e,a?a.children:null,i,r):Ml(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Da(a.outlet.component,o))}else o&&Pl(e,a,r),r.canActivateChecks.push(new kf(i)),s.component?Ml(t,null,a?a.children:null,i,r):Ml(t,null,n,i,r);return r}function cG(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!no(t.url,e.url);case"pathParamsOrQueryParamsChange":return!no(t.url,e.url)||!gi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!m0(t,e)||!gi(t.queryParams,e.queryParams);case"paramsChange":default:return!m0(t,e)}}function Pl(t,e,n){let i=Ia(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Pl(o,e.children.getContext(s),n):Pl(o,null,n):Pl(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Da(e.outlet.component,r)):n.canDeactivateChecks.push(new Da(null,r)):n.canDeactivateChecks.push(new Da(null,r))}function Wl(t){return typeof t=="function"}function lG(t){return typeof t=="boolean"}function uG(t){return t&&Wl(t.canLoad)}function dG(t){return t&&Wl(t.canActivate)}function hG(t){return t&&Wl(t.canActivateChild)}function fG(t){return t&&Wl(t.canDeactivate)}function pG(t){return t&&Wl(t.canMatch)}function Hx(t){return t instanceof $i||t?.name==="EmptyError"}var Ef=Symbol("INITIAL_VALUE");function Aa(){return ln(t=>Rr(t.map(e=>e.pipe(cn(1),il(Ef)))).pipe(oe(e=>{for(let n of e)if(n!==!0){if(n===Ef)return Ef;if(n===!1||n instanceof zr)return n}return!0}),St(e=>e!==Ef),cn(1)))}function gG(t,e){return Ze(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?J(ve(U({},n),{guardsResult:!0})):mG(o,i,r,t).pipe(Ze(a=>a&&lG(a)?_G(i,s,t,e):J(a)),oe(a=>ve(U({},n),{guardsResult:a})))})}function mG(t,e,n,i){return Ke(t).pipe(Ze(r=>IG(r.component,r.route,n,e,i)),ni(r=>r!==!0,!0))}function _G(t,e,n,i){return Ke(e).pipe(Vs(r=>Nr(vG(r.route.parent,i),yG(r.route,i),wG(t,r.path,n),bG(t,r.route,n))),ni(r=>r!==!0,!0))}function yG(t,e){return t!==null&&e&&e(new d0(t)),J(!0)}function vG(t,e){return t!==null&&e&&e(new l0(t)),J(!0)}function bG(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return J(!0);let r=i.map(s=>ih(()=>{let o=ql(e)??n,a=Ma(s,o),c=dG(a)?a.canActivate(e,t):Ki(o,()=>a(e,t));return Wr(c).pipe(ni())}));return J(r).pipe(Aa())}function wG(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>oG(o)).filter(o=>o!==null).map(o=>ih(()=>{let a=o.guards.map(c=>{let l=ql(o.node)??n,d=Ma(c,l),h=hG(d)?d.canActivateChild(i,t):Ki(l,()=>d(i,t));return Wr(h).pipe(ni())});return J(a).pipe(Aa())}));return J(s).pipe(Aa())}function IG(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return J(!0);let o=s.map(a=>{let c=ql(e)??r,l=Ma(a,c),d=fG(l)?l.canDeactivate(t,e,n,i):Ki(c,()=>l(t,e,n,i));return Wr(d).pipe(ni())});return J(o).pipe(Aa())}function EG(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return J(!0);let s=r.map(o=>{let a=Ma(o,t),c=uG(a)?a.canLoad(e,n):Ki(t,()=>a(e,n));return Wr(c)});return J(s).pipe(Aa(),zx(i))}function zx(t){return Bd(dt(e=>{if(Ca(e))throw jx(t,e)}),oe(e=>e===!0))}function DG(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return J(!0);let s=r.map(o=>{let a=Ma(o,t),c=pG(a)?a.canMatch(e,n):Ki(t,()=>a(e,n));return Wr(c)});return J(s).pipe(Aa(),zx(i))}var $l=class{constructor(e){this.segmentGroup=e||null}},Ff=class extends Error{constructor(e){super(),this.urlTree=e}};function wa(t){return ta(new $l(t))}function TG(t){return ta(new Q(4e3,!1))}function CG(t){return ta(Ux(!1,Tn.GuardRejected))}var v0=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return J(i);if(r.numberOfChildren>1||!r.children[de])return TG(e.redirectTo);r=r.children[de]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new Ff(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new zr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new xe(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new Q(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},b0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SG(t,e,n,i,r){let s=A0(t,e,n);return s.matched?(i=nG(e,i),DG(i,e,n,r).pipe(oe(o=>o===!0?s:U({},b0)))):J(s)}function A0(t,e,n){if(e.path==="**")return AG(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},b0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||D3)(n,t,e);if(!r)return U({},b0);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?U(U({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function AG(t){return{matched:!0,parameters:t.length>0?Ex(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function vx(t,e,n,i){return n.length>0&&RG(t,n,i)?{segmentGroup:new xe(e,MG(i,new xe(n,t.children))),slicedSegments:[]}:n.length===0&&OG(t,n,i)?{segmentGroup:new xe(t.segments,xG(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new xe(t.segments,t.children),slicedSegments:n}}function xG(t,e,n,i){let r={};for(let s of n)if(jf(t,e,s)&&!i[mi(s)]){let o=new xe([],{});r[mi(s)]=o}return U(U({},i),r)}function MG(t,e){let n={};n[de]=e;for(let i of t)if(i.path===""&&mi(i)!==de){let r=new xe([],{});n[mi(i)]=r}return n}function RG(t,e,n){return n.some(i=>jf(t,e,i)&&mi(i)!==de)}function OG(t,e,n){return n.some(i=>jf(t,e,i))}function jf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function NG(t,e,n,i){return mi(t)!==i&&(i===de||!jf(e,n,t))?!1:A0(e,t,n).matched}function PG(t,e,n){return e.length===0&&!t.children[n]}var w0=class{};function kG(t,e,n,i,r,s,o="emptyOnly"){return new I0(t,e,n,i,r,o,s).recognize()}var FG=31,I0=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new v0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=vx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(n=>{let i=new jl([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),r=new Dn(i,n),s=new Pf("",r),o=H3(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,de).pipe(Pr(i=>{if(i instanceof Ff)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof $l?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=D0(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(oe(s=>s instanceof Dn?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return Ke(r).pipe(Vs(s=>{let o=i.children[s],a=iG(n,s);return this.processSegmentGroup(e,a,o,s)}),oh((s,o)=>(s.push(...o),s)),kr(null),C_(),Ze(s=>{if(s===null)return wa(i);let o=Gx(s);return LG(o),J(o)}))}processSegment(e,n,i,r,s,o){return Ke(n).pipe(Vs(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(Pr(c=>{if(c instanceof $l)return J(null);throw c}))),ni(a=>!!a),Pr(a=>{if(Hx(a))return PG(i,r,s)?J(new w0):wa(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return NG(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):wa(r):wa(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:d}=A0(n,r,s);if(!a)return wa(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FG&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,h).pipe(Ze(f=>this.processSegment(e,i,n,f.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=SG(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(ln(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(ln(({routes:c})=>{let l=i._loadedInjector??e,{consumedSegments:d,remainingSegments:h,parameters:f}=a,g=new jl(d,f,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,BG(i),mi(i),i.component??i._loadedComponent??null,i,jG(i)),{segmentGroup:_,slicedSegments:y}=vx(n,d,h,c);if(y.length===0&&_.hasChildren())return this.processChildren(l,c,_).pipe(oe(A=>A===null?null:new Dn(g,A)));if(c.length===0&&y.length===0)return J(new Dn(g,[]));let v=mi(i)===s;return this.processSegment(l,c,_,y,v?de:s,!0).pipe(oe(A=>new Dn(g,A instanceof Dn?[A]:[])))}))):wa(n)))}getChildConfig(e,n,i){return n.children?J({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?J({routes:n._loadedRoutes,injector:n._loadedInjector}):EG(e,n,i,this.urlSerializer).pipe(Ze(r=>r?this.configLoader.loadChildren(e,n).pipe(dt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):CG(n))):J({routes:[],injector:e})}};function LG(t){t.sort((e,n)=>e.value.outlet===de?-1:n.value.outlet===de?1:e.value.outlet.localeCompare(n.value.outlet))}function VG(t){let e=t.value.routeConfig;return e&&e.path===""}function Gx(t){let e=[],n=new Set;for(let i of t){if(!VG(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=Gx(i.children);e.push(new Dn(i.value,r))}return e.filter(i=>!n.has(i))}function BG(t){return t.data||{}}function jG(t){return t.resolve||{}}function UG(t,e,n,i,r,s){return Ze(o=>kG(t,e,n,i,o.extractedUrl,r,s).pipe(oe(({state:a,tree:c})=>ve(U({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function $G(t,e){return Ze(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return J(n);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of qx(c))o.add(l);let a=0;return Ke(o).pipe(Vs(c=>s.has(c)?HG(c,i,t,e):(c.data=D0(c,c.parent,t).resolve,J(void 0))),dt(()=>a++),ra(1),Ze(c=>a===o.size?J(n):kt))})}function qx(t){let e=t.children.map(n=>qx(n)).flat();return[t,...e]}function HG(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!Vx(r)&&(s[Hl]=r.title),zG(s,t,e,i).pipe(oe(o=>(t._resolvedData=o,t.data=D0(t,t.parent,n).resolve,null)))}function zG(t,e,n,i){let r=Zv(t);if(r.length===0)return J({});let s={};return Ke(r).pipe(Ze(o=>GG(t[o],e,n,i).pipe(ni(),dt(a=>{s[o]=a}))),ra(1),D_(s),Pr(o=>Hx(o)?kt:ta(o)))}function GG(t,e,n,i){let r=ql(e)??i,s=Ma(t,r),o=s.resolve?s.resolve(e,n):Ki(r,()=>s(e,n));return Wr(o)}function Jv(t){return ln(e=>{let n=t(e);return n?Ke(n).pipe(oe(()=>e)):J(e)})}var Wx=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===de);return r}getResolvedTitleForRoute(i){return i.data[Hl]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>V(qG),providedIn:"root"});let t=e;return t})(),qG=(()=>{let e=class e extends Wx{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(W(fx))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kl=new Y("",{providedIn:"root",factory:()=>({})}),Lf=new Y(""),x0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(ff)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return J(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Wr(i.loadComponent()).pipe(oe(Kx),dt(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),ia(()=>{this.componentLoaders.delete(i)})),s=new Qo(r,()=>new je).pipe(Yo());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return J({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=WG(r,this.compiler,i,this.onLoadEndListener).pipe(ia(()=>{this.childrenLoaders.delete(r)})),a=new Qo(o,()=>new je).pipe(Yo());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function WG(t,e,n,i){return Wr(t.loadChildren()).pipe(oe(Kx),Ze(r=>r instanceof gl||Array.isArray(r)?J(r):Ke(e.compileModuleAsync(r))),oe(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(Lf,[],{optional:!0,self:!0}).flat()),{routes:o.map(S0),injector:s}}))}function KG(t){return t&&typeof t=="object"&&"default"in t}function Kx(t){return KG(t)?t.default:t}var M0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>V(YG),providedIn:"root"});let t=e;return t})(),YG=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yx=new Y(""),Qx=new Y("");function QG(t,e,n){let i=t.get(Qx),r=t.get(xt);return t.get(le).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=r.startViewTransition(()=>(s(),JG(t))),{onViewTransitionCreated:c}=i;return c&&Ki(t,()=>c({transition:a,from:e,to:n})),o})}function JG(t){return new Promise(e=>{nf(e,{injector:t})})}var R0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new je,this.transitionAbortSubject=new je,this.configLoader=V(x0),this.environmentInjector=V(Ft),this.urlSerializer=V(zl),this.rootContexts=V(Gl),this.location=V(Hr),this.inputBindingEnabled=V(Bf,{optional:!0})!==null,this.titleStrategy=V(Wx),this.options=V(Kl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(M0),this.createViewTransition=V(Yx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let i=s=>this.events.next(new a0(s)),r=s=>this.events.next(new c0(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(ve(U(U({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new mt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Nl,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(St(o=>o.id!==0),oe(o=>ve(U({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ln(o=>{let a=!1,c=!1;return J(o).pipe(ln(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Tn.SupersededByNewNavigation),kt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ve(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&h!=="reload"){let f="";return this.events.next(new qr(l.id,this.urlSerializer.serialize(l.rawUrl),f,xf.IgnoredSameUrlNavigation)),l.resolve(null),kt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return J(l).pipe(ln(f=>{let g=this.transitions?.getValue();return this.events.next(new Sa(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),g!==this.transitions?.getValue()?kt:Promise.resolve(f)}),UG(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),dt(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=ve(U({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let g=new Mf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:g,source:_,restoredState:y,extras:v}=l,A=new Sa(f,this.urlSerializer.serialize(g),_,y);this.events.next(A);let x=Fx(this.rootComponentType).snapshot;return this.currentTransition=o=ve(U({},l),{targetSnapshot:x,urlAfterRedirects:g,extras:ve(U({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,J(o)}else{let f="";return this.events.next(new qr(l.id,this.urlSerializer.serialize(l.extractedUrl),f,xf.IgnoredByUrlHandlingStrategy)),l.resolve(null),kt}}),dt(l=>{let d=new i0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),oe(l=>(this.currentTransition=o=ve(U({},l),{guards:sG(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),gG(this.environmentInjector,l=>this.events.next(l)),dt(l=>{if(o.guardsResult=l.guardsResult,Ca(l.guardsResult))throw jx(this.urlSerializer,l.guardsResult);let d=new r0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),St(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Tn.GuardRejected),!1)),Jv(l=>{if(l.guards.canActivateChecks.length)return J(l).pipe(dt(d=>{let h=new s0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),ln(d=>{let h=!1;return J(d).pipe($G(this.paramsInheritanceStrategy,this.environmentInjector),dt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",Tn.NoDataFromResolver)}}))}),dt(d=>{let h=new o0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),Jv(l=>{let d=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(dt(g=>{h.component=g}),oe(()=>{})));for(let g of h.children)f.push(...d(g));return f};return Rr(d(l.targetSnapshot.root)).pipe(kr(null),cn(1))}),Jv(()=>this.afterPreactivation()),ln(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return h?Ke(h).pipe(oe(()=>o)):J(o)}),oe(l=>{let d=J3(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ve(U({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),dt(()=>{this.events.next(new Vl)}),rG(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),cn(1),dt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),qt(this.transitionAbortSubject.pipe(dt(l=>{throw l}))),ia(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Tn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Pr(l=>{if(c=!0,$x(l))this.events.next(new Gr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),eG(l)?this.events.next(new Bl(l.url)):o.resolve(!1);else{this.events.next(new Ll(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(l))}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return kt}))}))}cancelNavigationTransition(i,r,s){let o=new Gr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function XG(t){return t!==Nl}var ZG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>V(eq),providedIn:"root"});let t=e;return t})(),E0=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},eq=(()=>{let e=class e extends E0{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=di(e)))(s||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jx=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:()=>V(tq),providedIn:"root"});let t=e;return t})(),tq=(()=>{let e=class e extends Jx{constructor(){super(...arguments),this.location=V(Hr),this.urlSerializer=V(zl),this.options=V(Kl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(M0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new zr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Fx(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Sa)this.stateMemento=this.createStateMemento();else if(i instanceof qr)this.rawUrlTree=r.initialUrl;else if(i instanceof Mf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof Vl?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Gr&&(i.code===Tn.GuardRejected||i.code===Tn.NoDataFromResolver)?this.restoreHistory(r):i instanceof Ll?this.restoreHistory(r,!0):i instanceof qn&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=U(U({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=di(e)))(s||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Rl||{});function Xx(t,e){t.events.pipe(St(n=>n instanceof qn||n instanceof Gr||n instanceof Ll||n instanceof qr),oe(n=>n instanceof qn||n instanceof qr?Rl.COMPLETE:(n instanceof Gr?n.code===Tn.Redirect||n.code===Tn.SupersededByNewNavigation:!1)?Rl.REDIRECTING:Rl.FAILED),St(n=>n!==Rl.REDIRECTING),cn(1)).subscribe(()=>{e()})}function nq(t){throw t}var iq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=V(lf),this.stateManager=V(Jx),this.options=V(Kl,{optional:!0})||{},this.pendingTasks=V(sf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(R0),this.urlSerializer=V(zl),this.location=V(Hr),this.urlHandlingStrategy=V(M0),this._events=new je,this.errorHandler=this.options.errorHandler||nq,this.navigated=!1,this.routeReuseStrategy=V(ZG),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(Lf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(Bf,{optional:!0}),this.eventsSubscription=new We,this.isNgZoneEnabled=V(le)instanceof le&&le.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Gr&&r.code!==Tn.Redirect&&r.code!==Tn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof qn)this.navigated=!0;else if(r instanceof Bl){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||XG(s.source)};this.scheduleNavigation(a,Nl,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}oq(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=U({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(S0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:a,h=null;switch(c){case"merge":h=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let g=s?s.snapshot:this.routerState.snapshot.root;f=Ox(g)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),f=this.currentUrlTree.root}return Nx(f,i,h,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=Ca(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Nl,null,r)}navigate(i,r={skipLocationChange:!1}){return sq(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=U({},iq):r===!1?s=U({},rq):s=r,Ca(i))return px(this.currentUrlTree,i,s);let o=this.parseUrl(i);return px(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,d;a?(c=a.resolve,l=a.reject,d=a.promise):d=new Promise((f,g)=>{c=f,l=g});let h=this.pendingTasks.add();return Xx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sq(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function oq(t){return!(t instanceof Vl)&&!(t instanceof Bl)}var xa=(()=>{let e=class e{constructor(i,r,s,o,a,c){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new je,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=i.events.subscribe(d=>{d instanceof qn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:kS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(q(Wn),q(nr),Kh("tabindex"),q(Gn),q(_t),q(tr))},e.\u0275dir=Le({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&Ue("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Js("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[At.HasDecoratorInputTransform,"preserveFragment","preserveFragment",eo],skipLocationChange:[At.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",eo],replaceUrl:[At.HasDecoratorInputTransform,"replaceUrl","replaceUrl",eo],routerLink:"routerLink"},standalone:!0,features:[bv,In]});let t=e;return t})(),Zx=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,s,o,a){this.router=i,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ne,this.routerEventsSubscription=i.events.subscribe(c=>{c instanceof qn&&this.update()})}ngAfterContentInit(){J(this.links.changes,J(null)).pipe(Or()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ke(i).pipe(Or()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=aq(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?i.isActive(o,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(q(Wn),q(_t),q(Gn),q(Zi),q(xa,8))},e.\u0275dir=Le({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&Iv(o,xa,5),r&2){let a;af(a=cf())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[In]});let t=e;return t})();function aq(t){return!!t.paths}var Vf=class{};var cq=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(St(i=>i instanceof qn),Vs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=rf(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Ke(s).pipe(Or())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=J(null);let o=s.pipe(Ze(a=>a===null?J(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Ke([o,a]).pipe(Or())}else return o})}};e.\u0275fac=function(r){return new(r||e)(W(Wn),W(ff),W(Ft),W(Vf),W(x0))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eM=new Y(""),lq=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=V(Ft),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Sa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof qn?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof qr&&i.code===xf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Rf&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>C(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),nf(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Rf(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){QS()},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function uq(t){return t.routerState.root}function Yl(t,e){return{\u0275kind:t,\u0275providers:e}}function dq(){let t=V(et);return e=>{let n=t.get($r);if(e!==n.components[0])return;let i=t.get(Wn),r=t.get(tM);t.get(O0)===1&&i.initialNavigation(),t.get(nM,null,pe.Optional)?.setUpPreloading(),t.get(eM,null,pe.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var tM=new Y("",{factory:()=>new je}),O0=new Y("",{providedIn:"root",factory:()=>1});function hq(){return Yl(2,[{provide:O0,useValue:0},{provide:hf,multi:!0,deps:[et],useFactory:e=>{let n=e.get(ex,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(Wn),s=e.get(tM);Xx(r,()=>{i(!0)}),e.get(R0).afterPreactivation=()=>(i(!0),s.closed?J(void 0):s),r.initialNavigation()}))}}])}function fq(){return Yl(3,[{provide:hf,multi:!0,useFactory:()=>{let e=V(Wn);return()=>{e.setUpLocationChangeListener()}}},{provide:O0,useValue:2}])}var nM=new Y("");function pq(t){return Yl(0,[{provide:nM,useExisting:cq},{provide:Vf,useExisting:t}])}function gq(){return Yl(8,[yx,{provide:Bf,useExisting:yx}])}function mq(t){let e=[{provide:Yx,useValue:QG},{provide:Qx,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return Yl(9,e)}var bx=new Y("ROUTER_FORROOT_GUARD"),_q=[Hr,{provide:zl,useClass:kl},Wn,Gl,{provide:nr,useFactory:uq,deps:[Wn]},x0,[]],N0=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[_q,[],{provide:Lf,multi:!0,useValue:i},{provide:bx,useFactory:wq,deps:[[Wn,new ht,new Vy]]},{provide:Kl,useValue:r||{}},r?.useHash?vq():bq(),yq(),r?.preloadingStrategy?pq(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Iq(r):[],r?.bindToComponentInputs?gq().\u0275providers:[],r?.enableViewTransitions?mq().\u0275providers:[],Eq()]}}static forChild(i){return{ngModule:e,providers:[{provide:Lf,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(W(bx,8))},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();function yq(){return{provide:eM,useFactory:()=>{let t=V(sx),e=V(le),n=V(Kl),i=V(R0),r=V(zl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new lq(r,i,t,e,n)}}}function vq(){return{provide:tr,useClass:nx}}function bq(){return{provide:tr,useClass:Fv}}function wq(t){return"guarded"}function Iq(t){return[t.initialNavigation==="disabled"?fq().\u0275providers:[],t.initialNavigation==="enabledBlocking"?hq().\u0275providers:[]]}var wx=new Y("");function Eq(){return[{provide:wx,useFactory:dq},{provide:Cv,multi:!0,useExisting:wx}]}var hM=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(q(Gn),q(_t))},e.\u0275dir=Le({type:e});let t=e;return t})(),Qf=(()=>{let e=class e extends hM{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=di(e)))(s||e)}})(),e.\u0275dir=Le({type:e,features:[En]});let t=e;return t})(),Zl=new Y("");var Dq={provide:Zl,useExisting:Hn(()=>Pa),multi:!0};function Tq(){let t=pi()?pi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Cq=new Y(""),Pa=(()=>{let e=class e extends hM{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Tq())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(q(Gn),q(_t),q(Cq,8))},e.\u0275dir=Le({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Ue("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Xi([Dq]),En]});let t=e;return t})();function Kr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function fM(t){return t!=null&&typeof t.length=="number"}var V0=new Y(""),pM=new Y(""),Sq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Cn=class{static min(e){return Aq(e)}static max(e){return xq(e)}static required(e){return gM(e)}static requiredTrue(e){return Mq(e)}static email(e){return Rq(e)}static minLength(e){return Oq(e)}static maxLength(e){return Nq(e)}static pattern(e){return Pq(e)}static nullValidator(e){return Hf(e)}static compose(e){return wM(e)}static composeAsync(e){return EM(e)}};function Aq(t){return e=>{if(Kr(e.value)||Kr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function xq(t){return e=>{if(Kr(e.value)||Kr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function gM(t){return Kr(t.value)?{required:!0}:null}function Mq(t){return t.value===!0?null:{required:!0}}function Rq(t){return Kr(t.value)||Sq.test(t.value)?null:{email:!0}}function Oq(t){return e=>Kr(e.value)||!fM(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Nq(t){return e=>fM(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Pq(t){if(!t)return Hf;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(Kr(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Hf(t){return null}function mM(t){return t!=null}function _M(t){return Zs(t)?Ke(t):t}function yM(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function vM(t,e){return e.map(n=>n(t))}function kq(t){return!t.validate}function bM(t){return t.map(e=>kq(e)?e:n=>e.validate(n))}function wM(t){if(!t)return null;let e=t.filter(mM);return e.length==0?null:function(n){return yM(vM(n,e))}}function IM(t){return t!=null?wM(bM(t)):null}function EM(t){if(!t)return null;let e=t.filter(mM);return e.length==0?null:function(n){let i=vM(n,e).map(_M);return w_(i).pipe(oe(yM))}}function DM(t){return t!=null?EM(bM(t)):null}function iM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function TM(t){return t._rawValidators}function CM(t){return t._rawAsyncValidators}function k0(t){return t?Array.isArray(t)?t:[t]:[]}function zf(t,e){return Array.isArray(t)?t.includes(e):t===e}function rM(t,e){let n=k0(e);return k0(t).forEach(r=>{zf(n,r)||n.push(r)}),n}function sM(t,e){return k0(e).filter(n=>!zf(t,n))}var Gf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=IM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=DM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Oa=class extends Gf{get formDirective(){return null}get path(){return null}},Xl=class extends Gf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Fq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Fde=ve(U({},Fq),{"[class.ng-submitted]":"isSubmitted"}),Jf=(()=>{let e=class e extends qf{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(q(Xl,2))},e.\u0275dir=Le({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Xs("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[En]});let t=e;return t})(),Xf=(()=>{let e=class e extends qf{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(q(Oa,10))},e.\u0275dir=Le({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Xs("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[En]});let t=e;return t})();var Ql="VALID",Uf="INVALID",Ra="PENDING",Jl="DISABLED";function B0(t){return(Zf(t)?t.validators:t)||null}function Lq(t){return Array.isArray(t)?IM(t):t||null}function j0(t,e){return(Zf(e)?e.asyncValidators:t)||null}function Vq(t){return Array.isArray(t)?DM(t):t||null}function Zf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function SM(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new Q(1e3,"");if(!i[n])throw new Q(1001,"")}function AM(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new Q(1002,"")})}var Na=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ql}get invalid(){return this.status===Uf}get pending(){return this.status==Ra}get disabled(){return this.status===Jl}get enabled(){return this.status!==Jl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sM(e,this._rawAsyncValidators))}hasValidator(e){return zf(this._rawValidators,e)}hasAsyncValidator(e){return zf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ra,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Jl,this.errors=null,this._forEachChild(i=>{i.disable(ve(U({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(U({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ql,this._forEachChild(i=>{i.enable(ve(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ve(U({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ql||this.status===Ra)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jl:Ql}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ra,this._hasOwnPendingAsyncValidator=!0;let n=_M(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?Jl:this.errors?Uf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ra)?Ra:this._anyControlsHaveStatus(Uf)?Uf:Ql}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Lq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Vq(this._rawAsyncValidators)}},Wf=class extends Na{constructor(e,n,i){super(B0(n),j0(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){AM(this,!0,e),Object.keys(e).forEach(i=>{SM(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var F0=class extends Wf{};var U0=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>ep}),ep="always";function Bq(t,e){return[...e.path,t]}function oM(t,e,n=ep){$0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Uq(t,e),Hq(t,e),$q(t,e),jq(t,e)}function aM(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Yf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Kf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function jq(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function $0(t,e){let n=TM(t);e.validator!==null?t.setValidators(iM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=CM(t);e.asyncValidator!==null?t.setAsyncValidators(iM(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Kf(e._rawValidators,r),Kf(e._rawAsyncValidators,r)}function Yf(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=TM(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=CM(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return Kf(e._rawValidators,i),Kf(e._rawAsyncValidators,i),n}function Uq(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&xM(t,e)})}function $q(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&xM(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function xM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Hq(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function zq(t,e){t==null,$0(t,e)}function Gq(t,e){return Yf(t,e)}function qq(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Wq(t){return Object.getPrototypeOf(t.constructor)===Qf}function Kq(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Yq(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===Pa?n=s:Wq(s)?i=s:r=s}),r||i||n||null}function Qq(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function lM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var $f=class extends Na{constructor(e=null,n,i){super(B0(n),j0(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(lM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){lM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Jq=t=>t instanceof $f;var tp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Le({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Xq={provide:Zl,useExisting:Hn(()=>eu),multi:!0},eu=(()=>{let e=class e extends Qf{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=di(e)))(s||e)}})(),e.\u0275dir=Le({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&Ue("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Xi([Xq]),En]});let t=e;return t})();var MM=new Y("");var Zq={provide:Oa,useExisting:Hn(()=>tu)},tu=(()=>{let e=class e extends Oa{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ne,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return oM(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){aM(i.control||null,i,!1),Qq(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,Kq(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(aM(r||null,i),Jq(s)&&(oM(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);zq(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&Gq(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$0(this.form,this),this._oldForm&&Yf(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(q(V0,10),q(pM,10),q(U0,8))},e.\u0275dir=Le({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&Ue("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[At.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xi([Zq]),En,In]});let t=e;return t})();var e4={provide:Xl,useExisting:Hn(()=>nu)},nu=(()=>{let e=class e extends Xl{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ne,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=Yq(this,o)}ngOnChanges(i){this._added||this._setUpControl(),qq(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return Bq(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(q(Oa,13),q(V0,10),q(pM,10),q(Zl,10),q(MM,8))},e.\u0275dir=Le({type:e,selectors:[["","formControlName",""]],inputs:{name:[At.None,"formControlName","name"],isDisabled:[At.None,"disabled","isDisabled"],model:[At.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Xi([e4]),En,In]});let t=e;return t})(),t4={provide:Zl,useExisting:Hn(()=>np),multi:!0};function RM(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function n4(t){return t.split(":")[0]}var np=(()=>{let e=class e extends Qf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),s=RM(r,i);this.setProperty("value",s)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=n4(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=di(e)))(s||e)}})(),e.\u0275dir=Le({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){r&1&&Ue("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xi([t4]),En]});let t=e;return t})(),OM=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(RM(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(q(_t),q(Gn),q(np,9))},e.\u0275dir=Le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),i4={provide:Zl,useExisting:Hn(()=>NM),multi:!0};function uM(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function r4(t){return t.split(":")[0]}var NM=(()=>{let e=class e extends Qf{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let s=i.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else r=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let s=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let l=a[c],d=this._getOptionValue(l.value);s.push(d)}}else{let a=r.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let d=this._getOptionValue(l.value);s.push(d)}}}this.value=s,i(s)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=r4(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=di(e)))(s||e)}})(),e.\u0275dir=Le({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){r&1&&Ue("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xi([i4]),En]});let t=e;return t})(),PM=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(uM(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(uM(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(q(_t),q(Gn),q(NM,9))},e.\u0275dir=Le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var s4=(()=>{let e=class e{constructor(){this._validator=Hf}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Hf,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Le({type:e,features:[In]});let t=e;return t})();var o4={provide:V0,useExisting:Hn(()=>a4),multi:!0};var a4=(()=>{let e=class e extends s4{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=eo,this.createValidator=i=>gM}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=di(e)))(s||e)}})(),e.\u0275dir=Le({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){r&2&&Js("required",s._enabled?"":null)},inputs:{required:"required"},features:[Xi([o4]),En]});let t=e;return t})();var kM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})(),L0=class extends Na{constructor(e,n,i){super(B0(n),j0(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){AM(this,!1,e),e.forEach((i,r)=>{SM(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function dM(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var ip=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return dM(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Wf(s,o)}record(i,r=null){let s=this._reduceControls(i);return new F0(s,r)}control(i,r,s){let o={};return this.useNonNullable?(dM(r)?o=r:(o.validators=r,o.asyncValidators=s),new $f(i,ve(U({},o),{nonNullable:!0}))):new $f(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new L0(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof $f)return i;if(i instanceof Na)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var FM=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:U0,useValue:i.callSetDisabledState??ep}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({imports:[kM]});let t=e;return t})(),LM=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:MM,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:U0,useValue:i.callSetDisabledState??ep}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({imports:[kM]});let t=e;return t})();var c4=["*"];var l4=["dialog"];var BM={animation:!0,transitionTimerDelayMs:5},u4=(()=>{let e=class e{constructor(){this.animation=BM.animation}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function d4(t){let{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t),i=parseFloat(e),r=parseFloat(n);return(i+r)*1e3}function jM(t){return typeof t=="string"}function H0(t){return t!=null}function h4(t){return t&&t.then}function UM(t){return(t||document.body).getBoundingClientRect()}function f4(t){return e=>new re(n=>{let i=o=>t.run(()=>n.next(o)),r=o=>t.run(()=>n.error(o)),s=()=>t.run(()=>n.complete());return e.subscribe({next:i,error:r,complete:s})})}var p4=()=>{},{transitionTimerDelayMs:g4}=BM,rp=new Map,io=(t,e,n,i)=>{let r=i.context||{},s=rp.get(e);if(s)switch(i.runningTransition){case"continue":return kt;case"stop":t.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),rp.delete(e)}let o=n(e,i.animation,r)||p4;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return t.run(()=>o()),J(void 0).pipe(f4(t));let a=new je,c=new je,l=a.pipe(T_(!0));rp.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});let d=d4(e);return t.runOutsideAngular(()=>{let h=An(e,"transitionend").pipe(qt(l),St(({target:g})=>g===e)),f=I_(d+g4).pipe(qt(l));E_(f,h,c).pipe(qt(l)).subscribe(()=>{rp.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};var $M=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();var HM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();var zM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})(),GM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();var q0=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(q0||{});var Ohe=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})();var m4=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function qM(t){let e=Array.from(t.querySelectorAll(m4)).filter(n=>n.tabIndex!==-1);return[e[0],e[e.length-1]]}var _4=(t,e,n,i=!1)=>{t.runOutsideAngular(()=>{let r=An(e,"focusin").pipe(qt(n),oe(s=>s.target));An(e,"keydown").pipe(qt(n),St(s=>s.which===q0.Tab),ah(r)).subscribe(([s,o])=>{let[a,c]=qM(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&An(e,"click").pipe(qt(n),ah(r),oe(s=>s[1])).subscribe(s=>s.focus())})};var Nhe=new Date(1882,10,12),Phe=new Date(2174,10,25);var khe=1e3*60*60*24;var W0=1080,y4=24*W0,v4=12*W0+793,Fhe=29*y4+v4,Lhe=11*W0+204;var WM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();var KM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})(),b4=(()=>{let e=class e{constructor(){this._ngbConfig=V(u4),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ka=class{constructor(e,n,i){this.nodes=e,this.viewRef=n,this.componentRef=i}};var w4=(()=>{let e=class e{constructor(){this._document=V(xt)}hide(){let i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,s=r.style,{overflow:o,paddingRight:a}=s;if(i>0){let c=parseFloat(window.getComputedStyle(r).paddingRight);s.paddingRight=`${c+i}px`}return s.overflow="hidden",()=>{i>0&&(s.paddingRight=a),s.overflow=o}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),I4=(()=>{let e=class e{constructor(){this._nativeElement=V(_t).nativeElement,this._zone=V(le)}ngOnInit(){this._zone.onStable.asObservable().pipe(cn(1)).subscribe(()=>{io(this._zone,this._nativeElement,(i,r)=>{r&&UM(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return io(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ft({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,s){r&2&&(of("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),Xs("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Dl],decls:0,vars:0,template:function(r,s){},encapsulation:2});let t=e;return t})(),Yr=class{update(e){}close(e){}dismiss(e){}},E4=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],D4=["animation","backdropClass"],z0=class{_applyWindowOptions(e,n){E4.forEach(i=>{H0(n[i])&&(e[i]=n[i])})}_applyBackdropOptions(e,n){D4.forEach(i=>{H0(n[i])&&(e[i]=n[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(qt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(qt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,i,r){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new je,this._dismissed=new je,this._hidden=new je,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let n=this._beforeDismiss();h4(n)?n.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):n!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():J(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),tl(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},G0=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(G0||{}),T4=(()=>{let e=class e{constructor(){this._document=V(xt),this._elRef=V(_t),this._zone=V(le),this._closed$=new je,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ne,this.shown=new je,this.hidden=new je}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":jM(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(cn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:i}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=io(this._zone,i,()=>i.classList.remove("show"),r),o=io(this._zone,this._dialogEl.nativeElement,()=>{},r),a=tl(s,o);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let i={animation:this.animation,runningTransition:"continue"},r=io(this._zone,this._elRef.nativeElement,(o,a)=>{a&&UM(o),o.classList.add("show")},i),s=io(this._zone,this._dialogEl.nativeElement,()=>{},i);tl(r,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{An(i,"keydown").pipe(qt(this._closed$),St(s=>s.which===q0.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(G0.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;An(this._dialogEl.nativeElement,"mousedown").pipe(qt(this._closed$),dt(()=>r=!1),ln(()=>An(i,"mouseup").pipe(qt(this._closed$),cn(1))),St(({target:s})=>i===s)).subscribe(()=>{r=!0}),An(i,"click").pipe(qt(this._closed$)).subscribe(({target:s})=>{i===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(G0.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let r=i.querySelector("[ngbAutofocus]"),s=qM(i)[0];(r||s||i).focus()}}_restoreFocus(){let i=this._document.body,r=this._elWithFocus,s;r&&r.focus&&i.contains(r)?s=r:s=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&io(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ft({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,s){if(r&1&&OA(l4,7),r&2){let o;af(o=cf())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,s){r&2&&(Js("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),of("modal d-block"+(s.windowClass?" "+s.windowClass:"")),Xs("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Dl],ngContentSelectors:c4,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,s){r&1&&(MA(),$(0,"div",1,0)(2,"div",2),RA(3),z()()),r&2&&of("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let t=e;return t})(),C4=(()=>{let e=class e{constructor(){this._applicationRef=V($r),this._injector=V(et),this._environmentInjector=V(Ft),this._document=V(xt),this._scrollBar=V(w4),this._activeWindowCmptHasChanged=new je,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Ne;let i=V(le);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];_4(i,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,r,s){let o=s.container instanceof HTMLElement?s.container:H0(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new Yr;i=s.injector||i;let c=i.get(Ft,null)||this._environmentInjector,l=this._getContentRef(i,c,r,a,s),d=s.backdrop!==!1?this._attachBackdrop(o):void 0,h=this._attachWindowComponent(o,l.nodes),f=new z0(h,l,d,s.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.hidden.pipe(cn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=g=>{f.close(g)},a.dismiss=g=>{f.dismiss(g)},a.update=g=>{f.update(g)},f.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),h.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(r=>r.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let r=gf(I4,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(i,r){let s=gf(T4,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_getContentRef(i,r,s,o,a){return s?s instanceof qi?this._createFromTemplateRef(s,o):jM(s)?this._createFromString(s):this._createFromComponent(i,r,s,o,a):new ka([])}_createFromTemplateRef(i,r){let s={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},o=i.createEmbeddedView(s);return this._applicationRef.attachView(o),new ka([o.rootNodes],o)}_createFromString(i){let r=this._document.createTextNode(`${i}`);return new ka([[r]])}_createFromComponent(i,r,s,o,a){let c=et.create({providers:[{provide:Yr,useValue:o}],parent:i}),l=gf(s,{environmentInjector:r,elementInjector:c}),d=l.location.nativeElement;return a.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new ka([[d]],l.hostView,l)}_setAriaHidden(i){let r=i.parentElement;r&&i!==this._document.body&&(Array.from(r.children).forEach(s=>{s!==i&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,r)=>{i?r.setAttribute("aria-hidden",i):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){let r=()=>{let s=this._modalRefs.indexOf(i);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(r,r)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{let r=this._windowCmpts.indexOf(i);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iu=(()=>{let e=class e{constructor(){this._injector=V(et),this._modalStack=V(C4),this._config=V(b4)}open(i,r={}){let s=U(ve(U({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,i,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),YM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({providers:[iu]});let t=e;return t})();var QM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();var JM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();var XM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();var ZM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();var eR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();var tR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();var nR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();var iR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();var rR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();var Vhe=new Y("live announcer delay",{providedIn:"root",factory:()=>100});var sR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();var oR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})(),S4=[$M,HM,zM,GM,WM,KM,YM,QM,oR,JM,XM,ZM,eR,tR,nR,iR,rR,sR],Bhe=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({imports:[S4,$M,HM,zM,GM,WM,KM,YM,QM,oR,JM,XM,ZM,eR,tR,nR,iR,rR,sR]});let t=e;return t})();var cR=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},A4=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,d=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|l>>6,g=l&63;c||(g=64,o||(f=64)),i.push(n[d],n[h],n[f],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let l=r<t.length?n[t.charAt(r)]:64;++r;let h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||l==null||h==null)throw new Y0;let f=s<<2|a>>4;if(i.push(f),l!==64){let g=a<<4&240|l>>2;if(i.push(g),h!==64){let _=l<<6&192|h;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Y0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},x4=function(t){let e=cR(t);return lR.encodeByteArray(e,!0)},ru=function(t){return x4(t).replace(/\./g,"")},J0=function(t){try{return lR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function M4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var R4=()=>M4().__FIREBASE_DEFAULTS__,O4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&J0(t[1]);return e&&JSON.parse(e)},op=()=>{try{return R4()||O4()||N4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},X0=t=>{var e,n;return(n=(e=op())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ap=t=>{let e=X0(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Z0=()=>{var t;return(t=op())===null||t===void 0?void 0:t.config},eb=t=>{var e;return(e=op())===null||e===void 0?void 0:e[`_${t}`]};var sp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function cp(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ru(JSON.stringify(n)),ru(JSON.stringify(o)),""].join(".")}function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function P4(){var t;let e=(t=op())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fR(){let t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pR(){return!P4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tb(){try{return typeof indexedDB=="object"}catch{return!1}}function gR(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var k4="FirebaseError",sn=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=k4,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ir.prototype.create)}},ir=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?F4(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new sn(r,a,i)}};function F4(t,e){return t.replace(L4,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var L4=/\{\$([^}]+)}/g;function mR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ro(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(aR(s)&&aR(o)){if(!ro(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function aR(t){return t!==null&&typeof t=="object"}function su(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Fa(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function La(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _R(t,e){let n=new Q0(t,e);return n.subscribe.bind(n)}var Q0=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");V4(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=K0),r.error===void 0&&(r.error=K0),r.complete===void 0&&(r.complete=K0);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function V4(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function K0(){}var $he=4*60*60*1e3;function ot(t){return t&&t._delegate?t._delegate:t}var hn=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var so="[DEFAULT]";var nb=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new sp;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j4(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:B4(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function B4(t){return t===so?void 0:t}function j4(t){return t.instantiationMode==="EAGER"}var lp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new nb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var U4=[],_e=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(_e||{}),$4={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},H4=_e.INFO,z4={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},G4=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=z4[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qr=class{constructor(e){this.name=e,this._logLevel=H4,this._logHandler=G4,this._userLogHandler=null,U4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}};var q4=(t,e)=>e.some(n=>t instanceof n),yR,vR;function W4(){return yR||(yR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K4(){return vR||(vR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bR=new WeakMap,rb=new WeakMap,wR=new WeakMap,ib=new WeakMap,ob=new WeakMap;function Y4(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(_i(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bR.set(n,t)}).catch(()=>{}),ob.set(e,t),e}function Q4(t){if(rb.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rb.set(t,e)}var sb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IR(t){sb=t(sb)}function J4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(up(this),e,...n);return wR.set(i,e.sort?e.sort():[e]),_i(i)}:K4().includes(t)?function(...e){return t.apply(up(this),e),_i(bR.get(this))}:function(...e){return _i(t.apply(up(this),e))}}function X4(t){return typeof t=="function"?J4(t):(t instanceof IDBTransaction&&Q4(t),q4(t,W4())?new Proxy(t,sb):t)}function _i(t){if(t instanceof IDBRequest)return Y4(t);if(ib.has(t))return ib.get(t);let e=X4(t);return e!==t&&(ib.set(t,e),ob.set(e,t)),e}var up=t=>ob.get(t);function DR(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=_i(o);return i&&o.addEventListener("upgradeneeded",c=>{i(_i(o.result),c.oldVersion,c.newVersion,_i(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Z4=["get","getKey","getAll","getAllKeys","count"],eW=["put","add","delete","clear"],ab=new Map;function ER(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ab.get(e))return ab.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=eW.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Z4.includes(n)))return;let s=function(o,...a){return C(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),r&&c.done]))[0]})};return ab.set(e,s),s}IR(t=>ve(U({},t),{get:(e,n,i)=>ER(e,n)||t.get(e,n,i),has:(e,n)=>!!ER(e,n)||t.has(e,n)}));var lb=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tW(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function tW(t){let e=t.getComponent();return e?.type==="VERSION"}var ub="@firebase/app",TR="0.10.4";var oo=new Qr("@firebase/app"),nW="@firebase/app-compat",iW="@firebase/analytics-compat",rW="@firebase/analytics",sW="@firebase/app-check-compat",oW="@firebase/app-check",aW="@firebase/auth",cW="@firebase/auth-compat",lW="@firebase/database",uW="@firebase/database-compat",dW="@firebase/functions",hW="@firebase/functions-compat",fW="@firebase/installations",pW="@firebase/installations-compat",gW="@firebase/messaging",mW="@firebase/messaging-compat",_W="@firebase/performance",yW="@firebase/performance-compat",vW="@firebase/remote-config",bW="@firebase/remote-config-compat",wW="@firebase/storage",IW="@firebase/storage-compat",EW="@firebase/firestore",DW="@firebase/vertexai-preview",TW="@firebase/firestore-compat",CW="firebase",SW="10.12.1";var db="[DEFAULT]",AW={[ub]:"fire-core",[nW]:"fire-core-compat",[rW]:"fire-analytics",[iW]:"fire-analytics-compat",[oW]:"fire-app-check",[sW]:"fire-app-check-compat",[aW]:"fire-auth",[cW]:"fire-auth-compat",[lW]:"fire-rtdb",[uW]:"fire-rtdb-compat",[dW]:"fire-fn",[hW]:"fire-fn-compat",[fW]:"fire-iid",[pW]:"fire-iid-compat",[gW]:"fire-fcm",[mW]:"fire-fcm-compat",[_W]:"fire-perf",[yW]:"fire-perf-compat",[vW]:"fire-rc",[bW]:"fire-rc-compat",[wW]:"fire-gcs",[IW]:"fire-gcs-compat",[EW]:"fire-fst",[TW]:"fire-fst-compat",[DW]:"fire-vertex","fire-js":"fire-js",[CW]:"fire-js-all"};var ou=new Map,xW=new Map,hb=new Map;function CR(t,e){try{t.container.addComponent(e)}catch(n){oo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yi(t){let e=t.name;if(hb.has(e))return oo.debug(`There were multiple attempts to register component ${e}.`),!1;hb.set(e,t);for(let n of ou.values())CR(n,t);for(let n of xW.values())CR(n,t);return!0}function ao(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vi(t){return t.settings!==void 0}var MW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new ir("app","Firebase",MW);var fb=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}};var bi=SW;function mb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:db,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Jr.create("bad-app-name",{appName:String(r)});if(n||(n=Z0()),!n)throw Jr.create("no-options");let s=ou.get(r);if(s){if(ro(n,s.options)&&ro(i,s.config))return s;throw Jr.create("duplicate-app",{appName:r})}let o=new lp(r);for(let c of hb.values())o.addComponent(c);let a=new fb(n,i,o);return ou.set(r,a),a}function Xr(t=db){let e=ou.get(t);if(!e&&t===db&&Z0())return mb();if(!e)throw Jr.create("no-app",{appName:t});return e}function dp(){return Array.from(ou.values())}function Je(t,e,n){var i;let r=(i=AW[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oo.warn(a.join(" "));return}yi(new hn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var RW="firebase-heartbeat-database",OW=1,au="firebase-heartbeat-store",cb=null;function MR(){return cb||(cb=DR(RW,OW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),cb}function NW(t){return C(this,null,function*(){try{let n=(yield MR()).transaction(au),i=yield n.objectStore(au).get(RR(t));return yield n.done,i}catch(e){if(e instanceof sn)oo.warn(e.message);else{let n=Jr.create("idb-get",{originalErrorMessage:e?.message});oo.warn(n.message)}}})}function SR(t,e){return C(this,null,function*(){try{let i=(yield MR()).transaction(au,"readwrite");yield i.objectStore(au).put(e,RR(t)),yield i.done}catch(n){if(n instanceof sn)oo.warn(n.message);else{let i=Jr.create("idb-set",{originalErrorMessage:n?.message});oo.warn(i.message)}}})}function RR(t){return`${t.name}!${t.options.appId}`}var PW=1024,kW=30*24*60*60*1e3,pb=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new gb(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return C(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=AR();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=kW}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return C(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=AR(),{heartbeatsToSend:i,unsentEntries:r}=FW(this._heartbeatsCache.heartbeats),s=ru(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function AR(){return new Date().toISOString().substring(0,10)}function FW(t,e=PW){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),xR(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),xR(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var gb=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return tb()?gR().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield NW(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return SR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return SR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function xR(t){return ru(JSON.stringify({version:2,heartbeats:t})).length}function LW(t){yi(new hn("platform-logger",e=>new lb(e),"PRIVATE")),yi(new hn("heartbeat",e=>new pb(e),"PRIVATE")),Je(ub,TR,t),Je(ub,TR,"esm2017"),Je("fire-js","")}LW("");var VW="firebase",BW="10.12.1";Je(VW,BW,"app");var rr=new Wi("ANGULARFIRE2_VERSION");function Ba(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var lo=(t,e)=>{let n=e?[e]:dp(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Zr=class{constructor(){return lo(jW)}},jW="app-check";function Va(){}var hp=class{zone;delegate;constructor(e,n=y_){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},_b=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Va,{},Va,Va)),n.pipe(dt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},es=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new hp(Zone.current)),this.insideAngular=n.run(()=>new hp(Zone.current,$d)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(W(le))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fp(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function UW(t){return fp().ngZone.runOutsideAngular(()=>t())}function co(t){return fp().ngZone.run(()=>t())}function $W(t){return HW(fp())(t)}function HW(t){return function(n){return n=n.lift(new _b(t.ngZone)),n.pipe(Mr(t.outsideAngular),xr(t.insideAngular))}}var zW=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),co(()=>t.apply(void 0,i))},Tt=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=co(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Va,{},Va,Va))),i[s]=zW(i[s],n));let r=UW(()=>t.apply(this,i));if(!e)if(r instanceof re){let s=fp();return r.pipe(Mr(s.outsideAngular),xr(s.insideAngular))}else return co(()=>r);return r instanceof re?r.pipe($W):r instanceof Promise?co(()=>new Promise((s,o)=>r.then(a=>co(()=>s(a)),a=>co(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:co(()=>r)};var Kn=class{constructor(e){return e}},sr=class{constructor(){return dp()}};function GW(t){return t&&t.length===1?t[0]:new Kn(Xr())}var yb=new Y("angularfire2._apps"),qW={provide:Kn,useFactory:GW,deps:[[new ht,yb]]},WW={provide:sr,deps:[[new ht,yb]]};function KW(t){return(e,n)=>{let i=n.get(zn);Je("angularfire",rr.full,"core"),Je("angularfire",rr.full,"app"),Je("angular",FA.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new Kn(r)}}function Sfe(t,...e){return ui([qW,WW,{provide:yb,useFactory:KW(t),multi:!0,deps:[le,et,es,...e]}])}var Afe=Tt(mb,!0);function YR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var QR=YR,JR=new ir("auth","Firebase",YR());var vp=new Qr("@firebase/auth");function YW(t,...e){vp.logLevel<=_e.WARN&&vp.warn(`Auth (${bi}): ${t}`,...e)}function gp(t,...e){vp.logLevel<=_e.ERROR&&vp.error(`Auth (${bi}): ${t}`,...e)}function Ii(t,...e){throw jb(t,...e)}function uo(t,...e){return jb(t,...e)}function XR(t,e,n){let i=Object.assign(Object.assign({},QR()),{[e]:n});return new ir("auth","Firebase",i).create(e,{appName:t.name})}function ns(t){return XR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jb(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return JR.create(t,...e)}function ne(t,e,...n){if(!t)throw jb(e,...n)}function or(t){let e="INTERNAL ASSERTION FAILED: "+t;throw gp(e),new Error(e)}function is(t,e){t||or(e)}function Ib(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QW(){return OR()==="http:"||OR()==="https:"}function OR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function JW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QW()||dR()||"connection"in navigator)?navigator.onLine:!0}function XW(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ho=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,is(n>e,"Short delay should be less than long delay!"),this.isMobile=uR()||hR()}get(){return JW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ub(t,e){is(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var bp=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var ZW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var e5=new ho(3e4,6e4);function po(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function rs(s,o,a,c){return C(this,arguments,function*(t,e,n,i,r={}){return ZR(t,r,()=>C(this,null,function*(){let l={},d={};i&&(e==="GET"?d=i:l={body:JSON.stringify(i)});let h=su(Object.assign({key:t.config.apiKey},d)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),bp.fetch()(eO(t,t.config.apiHost,n,h),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},l))}))})}function ZR(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},ZW),e);try{let r=new Eb(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw pp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw pp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw pp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw pp(t,"user-disabled",o);let d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw XR(t,d,l);Ii(t,d)}}catch(r){if(r instanceof sn)throw r;Ii(t,"network-request-failed",{message:String(r)})}})}function Mp(s,o,a,c){return C(this,arguments,function*(t,e,n,i,r={}){let l=yield rs(t,e,n,i,r);return"mfaPendingCredential"in l&&Ii(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function eO(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?Ub(t.config,r):`${t.config.apiScheme}://${r}`}function t5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Eb=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(uo(this.auth,"network-request-failed")),e5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function pp(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=uo(t,e,i);return r.customData._tokenResponse=n,r}function NR(t){return t!==void 0&&t.enterprise!==void 0}var Db=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return t5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function n5(t,e){return C(this,null,function*(){return rs(t,"GET","/v2/recaptchaConfig",po(t,e))})}function i5(t,e){return C(this,null,function*(){return rs(t,"POST","/v1/accounts:delete",e)})}function tO(t,e){return C(this,null,function*(){return rs(t,"POST","/v1/accounts:lookup",e)})}function cu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $b(t,e=!1){return C(this,null,function*(){let n=ot(t),i=yield n.getIdToken(e),r=Hb(i);ne(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:cu(vb(r.auth_time)),issuedAtTime:cu(vb(r.iat)),expirationTime:cu(vb(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function vb(t){return Number(t)*1e3}function Hb(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return gp("JWT malformed, contained fewer than 3 sections"),null;try{let r=J0(n);return r?JSON.parse(r):(gp("Failed to decode base64 JWT payload"),null)}catch(r){return gp("Caught error parsing JWT payload as JSON",r?.toString()),null}}function PR(t){let e=Hb(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function uu(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof sn&&r5(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function r5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Tb=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var du=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wp(t){return C(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield uu(t,tO(n,{idToken:i}));ne(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?nO(s.providerUserInfo):[],a=s5(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,d=c?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new du(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function zb(t){return C(this,null,function*(){let e=ot(t);yield wp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function s5(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function nO(t){return t.map(e=>{var{providerId:n}=e,i=v_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function o5(t,e){return C(this,null,function*(){let n=yield ZR(t,{},()=>C(this,null,function*(){let i=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=eO(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bp.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function a5(t,e){return C(this,null,function*(){return rs(t,"POST","/v2/accounts:revokeToken",po(t,e))})}var lu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");let n=PR(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return C(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield o5(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(ne(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(ne(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ne(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return or("not implemented")}};function ts(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ja=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=v_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new du(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield uu(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return $b(this,e)}reload(){return zb(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield wp(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(vi(this.auth.app))return Promise.reject(ns(this.auth));let e=yield this.getIdToken();return yield uu(this,i5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,c,l,d;let h=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,A=(l=n.createdAt)!==null&&l!==void 0?l:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:O,emailVerified:N,isAnonymous:k,providerData:P,stsTokenManager:E}=n;ne(O&&E,e,"internal-error");let b=lu.fromJSON(this.name,E);ne(typeof O=="string",e,"internal-error"),ts(h,e.name),ts(f,e.name),ne(typeof N=="boolean",e,"internal-error"),ne(typeof k=="boolean",e,"internal-error"),ts(g,e.name),ts(_,e.name),ts(y,e.name),ts(v,e.name),ts(A,e.name),ts(x,e.name);let I=new t({uid:O,auth:e,email:f,emailVerified:N,displayName:h,isAnonymous:k,photoURL:_,phoneNumber:g,tenantId:y,stsTokenManager:b,createdAt:A,lastLoginAt:x});return P&&Array.isArray(P)&&(I.providerData=P.map(T=>Object.assign({},T))),v&&(I._redirectEventId=v),I}static _fromIdTokenResponse(e,n,i=!1){return C(this,null,function*(){let r=new lu;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield wp(s),s})}static _fromGetAccountInfoResponse(e,n,i){return C(this,null,function*(){let r=n.users[0];ne(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?nO(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new lu;a.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new du(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var kR=new Map;function ar(t){is(t instanceof Function,"Expected a class definition");let e=kR.get(t);return e?(is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kR.set(t,e),e)}var c5=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,i){return C(this,null,function*(){this.storage[n]=i})}_get(n){return C(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),Cb=c5;function mp(t,e,n){return`firebase:${t}:${e}:${n}`}var Ip=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=mp(this.userKey,r.apiKey,s),this.fullPersistenceKey=mp("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ja._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return C(this,null,function*(){if(!n.length)return new t(ar(Cb),e,i);let r=(yield Promise.all(n.map(l=>C(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=r[0]||ar(Cb),o=mp(i,e.config.apiKey,e.name),a=null;for(let l of n)try{let d=yield l._get(o);if(d){let h=ja._fromJSON(e,d);l!==s&&(a=h),s=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>C(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,i))})}};function FR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aO(e))return"Blackberry";if(cO(e))return"Webos";if(Gb(e))return"Safari";if((e.includes("chrome/")||rO(e))&&!e.includes("edge/"))return"Chrome";if(oO(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function iO(t=Dt()){return/firefox\//i.test(t)}function Gb(t=Dt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rO(t=Dt()){return/crios\//i.test(t)}function sO(t=Dt()){return/iemobile/i.test(t)}function oO(t=Dt()){return/android/i.test(t)}function aO(t=Dt()){return/blackberry/i.test(t)}function cO(t=Dt()){return/webos/i.test(t)}function Rp(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l5(t=Dt()){var e;return Rp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u5(){return fR()&&document.documentMode===10}function lO(t=Dt()){return Rp(t)||oO(t)||cO(t)||aO(t)||/windows phone/i.test(t)||sO(t)}function d5(){try{return!!(window&&window!==window.top)}catch{return!1}}function uO(t,e=[]){let n;switch(t){case"Browser":n=FR(Dt());break;case"Worker":n=`${FR(Dt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bi}/${i}`}var Sb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function h5(n){return C(this,arguments,function*(t,e={}){return rs(t,"GET","/v2/passwordPolicy",po(t,e))})}var f5=6,Ab=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:f5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var xb=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ep(this),this.idTokenSubscription=new Ep(this),this.beforeStateQueue=new Sb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Ip.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let n=yield tO(this,{idToken:e}),i=yield ja._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;if(vi(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield wp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=XW()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(vi(this.app))return Promise.reject(ns(this));let n=e?ot(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return vi(this.app)?Promise.reject(ns(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return vi(this.app)?Promise.reject(ns(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(ar(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield h5(this),n=new Ab(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ir("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield a5(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ar(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=yield Ip.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return C(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&YW(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ua(t){return ot(t)}var Ep=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=_R(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Op={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p5(t){Op=t}function dO(t){return Op.loadJS(t)}function g5(){return Op.recaptchaEnterpriseScript}function m5(){return Op.gapiScript}function hO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var _5="recaptcha-enterprise",y5="NO_RECAPTCHA",Mb=class{constructor(e){this.type=_5,this.auth=Ua(e)}verify(e="verify",n=!1){return C(this,null,function*(){function i(s){return C(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>C(this,null,function*(){n5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Db(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function r(s,o,a){let c=window.grecaptcha;NR(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(y5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&NR(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=g5();c.length!==0&&(c+=a),dO(c).then(()=>{r(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function LR(t,e,n,i=!1){return C(this,null,function*(){let r=new Mb(t),s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function VR(t,e,n,i){return C(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield LR(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(s=>C(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield LR(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)}))})}function qb(t,e){let n=ao(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(ro(s,e??{}))return r;Ii(r,"already-initialized")}return n.initialize({options:e})}function v5(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ar);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function Wb(t,e,n){let i=Ua(t);ne(i._canInitEmulator,i,"emulator-config-failed"),ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=fO(e),{host:o,port:a}=b5(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||w5()}function fO(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function b5(t){let e=fO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:BR(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:BR(o)}}}function BR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function w5(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var hu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}};function I5(t,e){return C(this,null,function*(){return rs(t,"POST","/v1/accounts:signUp",e)})}function E5(t,e){return C(this,null,function*(){return Mp(t,"POST","/v1/accounts:signInWithPassword",po(t,e))})}function D5(t,e){return C(this,null,function*(){return Mp(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))})}function T5(t,e){return C(this,null,function*(){return Mp(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))})}var fu=class t extends hu{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VR(e,n,"signInWithPassword",E5);case"emailLink":return D5(e,{email:this._email,oobCode:this._password});default:Ii(e,"internal-error")}})}_linkToIdToken(e,n){return C(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VR(e,i,"signUpPassword",I5);case"emailLink":return T5(e,{idToken:n,email:this._email,oobCode:this._password});default:Ii(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function bb(t,e){return C(this,null,function*(){return Mp(t,"POST","/v1/accounts:signInWithIdp",po(t,e))})}function C5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S5(t){let e=Fa(La(t)).link,n=e?Fa(La(e)).deep_link_id:null,i=Fa(La(t)).deep_link_id;return(i?Fa(La(i)).link:null)||i||n||e||t}var Dp=class t{constructor(e){var n,i,r,s,o,a;let c=Fa(La(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(i=c.oobCode)!==null&&i!==void 0?i:null,h=C5((r=c.mode)!==null&&r!==void 0?r:null);ne(l&&d&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=S5(e);try{return new t(n)}catch{return null}}};var pO=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return fu._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=Dp.parseLink(i);return ne(r,"argument-error"),fu._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Tp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Rb=class extends Tp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var pu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return C(this,null,function*(){let s=yield ja._fromIdTokenResponse(e,i,r),o=jR(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return C(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=jR(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function jR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Ob=class t extends sn{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function gO(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ob._fromErrorAndOperation(t,s,e,i):s})}function A5(t,e,n=!1){return C(this,null,function*(){let i=yield uu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return pu._forOperation(t,"link",i)})}function x5(t,e,n=!1){return C(this,null,function*(){let{auth:i}=t;if(vi(i.app))return Promise.reject(ns(i));let r="reauthenticate";try{let s=yield uu(t,gO(i,r,e,t),n);ne(s.idToken,i,"internal-error");let o=Hb(s.idToken);ne(o,i,"internal-error");let{sub:a}=o;return ne(t.uid===a,i,"user-mismatch"),pu._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ii(i,"user-mismatch"),s}})}function mO(t,e,n=!1){return C(this,null,function*(){if(vi(t.app))return Promise.reject(ns(t));let i="signIn",r=yield gO(t,i,e),s=yield pu._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function Kb(t,e){return C(this,null,function*(){return mO(Ua(t),e)})}function M5(t){return C(this,null,function*(){let e=Ua(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Np(t,e,n){return vi(t.app)?Promise.reject(ns(t)):Kb(ot(t),pO.credential(e,n)).catch(i=>C(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&M5(t),i}))}function Yb(t,e,n,i){return ot(t).onIdTokenChanged(e,n,i)}function Qb(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}function Jb(t){return ot(t).signOut()}var Cp="__sak";var Sp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cp,"1"),this.storage.removeItem(Cp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function R5(){let t=Dt();return Gb(t)||Rp(t)}var O5=1e3,N5=10,P5=(()=>{class t extends Sp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=R5()&&d5(),this.fallbackToPolling=lO(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);u5()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,N5):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},O5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return C(this,null,function*(){yield Cr(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return C(this,null,function*(){let i=yield Cr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return C(this,null,function*(){yield Cr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),_O=P5;var k5=(()=>{class t extends Sp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),Xb=k5;function F5(t){return Promise.all(t.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var L5=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return C(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(d=>C(this,null,function*(){return d(i.origin,o)})),l=yield F5(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function yO(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var Nb=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return C(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=yO("",20);r.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){let f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function wi(){return window}function V5(t){wi().location.href=t}function vO(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}function B5(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function j5(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function U5(){return vO()?self:null}var bO="firebaseLocalStorageDb",$5=1,Ap="firebaseLocalStorage",wO="fbase_key",fo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Pp(t,e){return t.transaction([Ap],e?"readwrite":"readonly").objectStore(Ap)}function H5(){let t=indexedDB.deleteDatabase(bO);return new fo(t).toPromise()}function Pb(){let t=indexedDB.open(bO,$5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Ap,{keyPath:wO})}catch(r){n(r)}}),t.addEventListener("success",()=>C(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Ap)?e(i):(i.close(),yield H5(),e(yield Pb()))}))})}function UR(t,e,n){return C(this,null,function*(){let i=Pp(t,!0).put({[wO]:e,value:n});return new fo(i).toPromise()})}function z5(t,e){return C(this,null,function*(){let n=Pp(t,!1).get(e),i=yield new fo(n).toPromise();return i===void 0?null:i.value})}function $R(t,e){let n=Pp(t,!0).delete(e);return new fo(n).toPromise()}var G5=800,q5=3,W5=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield Pb(),this.db)})}_withRetries(n){return C(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>q5)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return vO()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=L5._getInstance(U5()),this.receiver._subscribe("keyChanged",(n,i)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var n,i;if(this.activeServiceWorker=yield B5(),!this.activeServiceWorker)return;this.sender=new Nb(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||j5()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Pb();return yield UR(n,Cp,"1"),yield $R(n,Cp),!0}catch{}return!1})}_withPendingWrite(n){return C(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>UR(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return C(this,null,function*(){let i=yield this._withRetries(r=>z5(r,n));return this.localCache[n]=i,i})}_remove(n){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>$R(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return C(this,null,function*(){let n=yield this._withRetries(s=>{let o=Pp(s,!1).getAll();return new fo(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),G5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),IO=W5;var Ffe=hO("rcb"),Lfe=new ho(3e4,6e4);function K5(t,e){return e?ar(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var gu=class extends hu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bb(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bb(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bb(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Y5(t){return mO(t.auth,new gu(t),t.bypassAuthState)}function Q5(t){let{auth:e,user:n}=t;return ne(n,e,"internal-error"),x5(n,new gu(t),t.bypassAuthState)}function J5(t){return C(this,null,function*(){let{auth:e,user:n}=t;return ne(n,e,"internal-error"),A5(n,new gu(t),t.bypassAuthState)})}var kb=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y5;case"linkViaPopup":case"linkViaRedirect":return J5;case"reauthViaPopup":case"reauthViaRedirect":return Q5;default:Ii(this.auth,"internal-error")}}resolve(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Vfe=new ho(2e3,1e4);var X5="pendingRedirect",_p=new Map,Fb=class t extends kb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return C(this,null,function*(){let e=_p.get(this.auth._key());if(!e){try{let i=(yield Z5(this.resolver,this.auth))?yield Cr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}_p.set(this.auth._key(),e)}return this.bypassAuthState||_p.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return Cr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Cr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function Z5(t,e){return C(this,null,function*(){let n=n6(e),i=t6(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function e6(t,e){_p.set(t._key(),e)}function t6(t){return ar(t._redirectPersistence)}function n6(t){return mp(X5,t.config.apiKey,t.name)}function i6(t,e,n=!1){return C(this,null,function*(){if(vi(t.app))return Promise.reject(ns(t));let i=Ua(t),r=K5(i,e),o=yield new Fb(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var r6=10*60*1e3,Lb=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!EO(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(uo(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r6&&this.cachedEventUids.clear(),this.cachedEventUids.has(HR(e))}saveEventToCache(e){this.cachedEventUids.add(HR(e)),this.lastProcessedEventTime=Date.now()}};function HR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EO({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function s6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EO(t);default:return!1}}function o6(n){return C(this,arguments,function*(t,e={}){return rs(t,"GET","/v1/projects",e)})}var a6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c6=/^https?/;function l6(t){return C(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield o6(t);for(let n of e)try{if(u6(n))return}catch{}Ii(t,"unauthorized-domain")})}function u6(t){let e=Ib(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!c6.test(n))return!1;if(a6.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var d6=new ho(3e4,6e4);function zR(){let t=wi().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h6(t){return new Promise((e,n)=>{var i,r,s;function o(){zR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zR(),n(uo(t,"network-request-failed"))},timeout:d6.get()})}if(!((r=(i=wi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=wi().gapi)===null||s===void 0)&&s.load)o();else{let a=hO("iframefcb");return wi()[a]=()=>{gapi.load?o():n(uo(t,"network-request-failed"))},dO(`${m5()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw yp=null,e})}var yp=null;function f6(t){return yp=yp||h6(t),yp}var p6=new ho(5e3,15e3),g6="__/auth/iframe",m6="emulator/auth/iframe",_6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v6(t){let e=t.config;ne(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Ub(e,m6):`https://${t.config.authDomain}/${g6}`,i={apiKey:e.apiKey,appName:t.name,v:bi},r=y6.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${su(i).slice(1)}`}function b6(t){return C(this,null,function*(){let e=yield f6(t),n=wi().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:v6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_6,dontclear:!0},i=>new Promise((r,s)=>C(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=uo(t,"network-request-failed"),a=wi().setTimeout(()=>{s(o)},p6.get());function c(){wi().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var w6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I6=500,E6=600,D6="_blank",T6="http://localhost",xp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function C6(t,e,n,i=I6,r=E6){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},w6),{width:i.toString(),height:r.toString(),top:s,left:o}),l=Dt().toLowerCase();n&&(a=rO(l)?D6:n),iO(l)&&(e=e||T6,c.scrollbars="yes");let d=Object.entries(c).reduce((f,[g,_])=>`${f}${g}=${_},`,"");if(l5(l)&&a!=="_self")return S6(e||"",a),new xp(null);let h=window.open(e||"",a,d);ne(h,t,"popup-blocked");try{h.focus()}catch{}return new xp(h)}function S6(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var A6="__/auth/handler",x6="emulator/auth/handler",M6=encodeURIComponent("fac");function GR(t,e,n,i,r,s){return C(this,null,function*(){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:bi,eventId:r};if(e instanceof Tp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Rb){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),l=c?`#${M6}=${encodeURIComponent(c)}`:"";return`${R6(t)}?${su(a).slice(1)}${l}`})}function R6({config:t}){return t.emulator?Ub(t,x6):`https://${t.authDomain}/${A6}`}var wb="webStorageSupport",Vb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xb,this._completeRedirectFn=i6,this._overrideRedirectResult=e6}_openPopup(e,n,i,r){return C(this,null,function*(){var s;is((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield GR(e,n,i,Ib(),r);return C6(e,o,yO())})}_openRedirect(e,n,i,r){return C(this,null,function*(){yield this._originValidation(e);let s=yield GR(e,n,i,Ib(),r);return V5(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(is(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return C(this,null,function*(){let n=yield b6(e),i=new Lb(e);return n.register("authEvent",r=>(ne(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wb,{type:wb},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[wb];o!==void 0&&n(!!o),Ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lO()||Gb()||Rp()}},DO=Vb;var qR="@firebase/auth",WR="1.7.3";var Bb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function O6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N6(t){yi(new hn("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uO(t)},l=new xb(i,r,s,c);return v5(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),yi(new hn("auth-internal",e=>{let n=Ua(e.getProvider("auth").getImmediate());return(i=>new Bb(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Je(qR,WR,O6(t)),Je(qR,WR,"esm2017")}var P6=5*60,k6=eb("authIdTokenMaxAge")||P6,KR=null,F6=t=>e=>C(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>k6)return;let r=n?.token;KR!==r&&(KR=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Zb(t=Xr()){let e=ao(t,"auth");if(e.isInitialized())return e.getImmediate();let n=qb(t,{popupRedirectResolver:DO,persistence:[IO,_O,Xb]}),i=eb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=F6(s.toString());Qb(n,o,()=>o(n.currentUser)),Yb(n,a=>o(a))}}let r=X0("auth");return r&&Wb(n,`http://${r}`),n}function L6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}p5({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=uo("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",L6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N6("Browser");var TO="auth",go=class{constructor(e){return e}},mo=class{constructor(){return lo(TO)}};var ew=new Y("angularfire2.auth-instances");function A8(t,e){let n=Ba(TO,t,e);return n&&new go(n)}function x8(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new go(i)}}var M8={provide:mo,deps:[[new ht,ew]]},R8={provide:go,useFactory:A8,deps:[[new ht,ew],Kn]};function wpe(t,...e){return Je("angularfire",rr.full,"auth"),ui([R8,M8,{provide:ew,useFactory:x8(t),multi:!0,deps:[le,et,es,sr,[new ht,Zr],...e]}])}var Ipe=Tt(Zb,!0);var CO=Tt(Jb,!0);var SO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},AO={};var ss,tw;(function(){var t;function e(E,b){function I(){}I.prototype=b.prototype,E.D=b.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(T,S,M){for(var D=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)D[Xe-2]=arguments[Xe];return b.prototype[S].apply(T,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,b,I){I||(I=0);var T=Array(16);if(typeof b=="string")for(var S=0;16>S;++S)T[S]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(S=0;16>S;++S)T[S]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=E.g[0],I=E.g[1],S=E.g[2];var M=E.g[3],D=b+(M^I&(S^M))+T[0]+3614090360&4294967295;b=I+(D<<7&4294967295|D>>>25),D=M+(S^b&(I^S))+T[1]+3905402710&4294967295,M=b+(D<<12&4294967295|D>>>20),D=S+(I^M&(b^I))+T[2]+606105819&4294967295,S=M+(D<<17&4294967295|D>>>15),D=I+(b^S&(M^b))+T[3]+3250441966&4294967295,I=S+(D<<22&4294967295|D>>>10),D=b+(M^I&(S^M))+T[4]+4118548399&4294967295,b=I+(D<<7&4294967295|D>>>25),D=M+(S^b&(I^S))+T[5]+1200080426&4294967295,M=b+(D<<12&4294967295|D>>>20),D=S+(I^M&(b^I))+T[6]+2821735955&4294967295,S=M+(D<<17&4294967295|D>>>15),D=I+(b^S&(M^b))+T[7]+4249261313&4294967295,I=S+(D<<22&4294967295|D>>>10),D=b+(M^I&(S^M))+T[8]+1770035416&4294967295,b=I+(D<<7&4294967295|D>>>25),D=M+(S^b&(I^S))+T[9]+2336552879&4294967295,M=b+(D<<12&4294967295|D>>>20),D=S+(I^M&(b^I))+T[10]+4294925233&4294967295,S=M+(D<<17&4294967295|D>>>15),D=I+(b^S&(M^b))+T[11]+2304563134&4294967295,I=S+(D<<22&4294967295|D>>>10),D=b+(M^I&(S^M))+T[12]+1804603682&4294967295,b=I+(D<<7&4294967295|D>>>25),D=M+(S^b&(I^S))+T[13]+4254626195&4294967295,M=b+(D<<12&4294967295|D>>>20),D=S+(I^M&(b^I))+T[14]+2792965006&4294967295,S=M+(D<<17&4294967295|D>>>15),D=I+(b^S&(M^b))+T[15]+1236535329&4294967295,I=S+(D<<22&4294967295|D>>>10),D=b+(S^M&(I^S))+T[1]+4129170786&4294967295,b=I+(D<<5&4294967295|D>>>27),D=M+(I^S&(b^I))+T[6]+3225465664&4294967295,M=b+(D<<9&4294967295|D>>>23),D=S+(b^I&(M^b))+T[11]+643717713&4294967295,S=M+(D<<14&4294967295|D>>>18),D=I+(M^b&(S^M))+T[0]+3921069994&4294967295,I=S+(D<<20&4294967295|D>>>12),D=b+(S^M&(I^S))+T[5]+3593408605&4294967295,b=I+(D<<5&4294967295|D>>>27),D=M+(I^S&(b^I))+T[10]+38016083&4294967295,M=b+(D<<9&4294967295|D>>>23),D=S+(b^I&(M^b))+T[15]+3634488961&4294967295,S=M+(D<<14&4294967295|D>>>18),D=I+(M^b&(S^M))+T[4]+3889429448&4294967295,I=S+(D<<20&4294967295|D>>>12),D=b+(S^M&(I^S))+T[9]+568446438&4294967295,b=I+(D<<5&4294967295|D>>>27),D=M+(I^S&(b^I))+T[14]+3275163606&4294967295,M=b+(D<<9&4294967295|D>>>23),D=S+(b^I&(M^b))+T[3]+4107603335&4294967295,S=M+(D<<14&4294967295|D>>>18),D=I+(M^b&(S^M))+T[8]+1163531501&4294967295,I=S+(D<<20&4294967295|D>>>12),D=b+(S^M&(I^S))+T[13]+2850285829&4294967295,b=I+(D<<5&4294967295|D>>>27),D=M+(I^S&(b^I))+T[2]+4243563512&4294967295,M=b+(D<<9&4294967295|D>>>23),D=S+(b^I&(M^b))+T[7]+1735328473&4294967295,S=M+(D<<14&4294967295|D>>>18),D=I+(M^b&(S^M))+T[12]+2368359562&4294967295,I=S+(D<<20&4294967295|D>>>12),D=b+(I^S^M)+T[5]+4294588738&4294967295,b=I+(D<<4&4294967295|D>>>28),D=M+(b^I^S)+T[8]+2272392833&4294967295,M=b+(D<<11&4294967295|D>>>21),D=S+(M^b^I)+T[11]+1839030562&4294967295,S=M+(D<<16&4294967295|D>>>16),D=I+(S^M^b)+T[14]+4259657740&4294967295,I=S+(D<<23&4294967295|D>>>9),D=b+(I^S^M)+T[1]+2763975236&4294967295,b=I+(D<<4&4294967295|D>>>28),D=M+(b^I^S)+T[4]+1272893353&4294967295,M=b+(D<<11&4294967295|D>>>21),D=S+(M^b^I)+T[7]+4139469664&4294967295,S=M+(D<<16&4294967295|D>>>16),D=I+(S^M^b)+T[10]+3200236656&4294967295,I=S+(D<<23&4294967295|D>>>9),D=b+(I^S^M)+T[13]+681279174&4294967295,b=I+(D<<4&4294967295|D>>>28),D=M+(b^I^S)+T[0]+3936430074&4294967295,M=b+(D<<11&4294967295|D>>>21),D=S+(M^b^I)+T[3]+3572445317&4294967295,S=M+(D<<16&4294967295|D>>>16),D=I+(S^M^b)+T[6]+76029189&4294967295,I=S+(D<<23&4294967295|D>>>9),D=b+(I^S^M)+T[9]+3654602809&4294967295,b=I+(D<<4&4294967295|D>>>28),D=M+(b^I^S)+T[12]+3873151461&4294967295,M=b+(D<<11&4294967295|D>>>21),D=S+(M^b^I)+T[15]+530742520&4294967295,S=M+(D<<16&4294967295|D>>>16),D=I+(S^M^b)+T[2]+3299628645&4294967295,I=S+(D<<23&4294967295|D>>>9),D=b+(S^(I|~M))+T[0]+4096336452&4294967295,b=I+(D<<6&4294967295|D>>>26),D=M+(I^(b|~S))+T[7]+1126891415&4294967295,M=b+(D<<10&4294967295|D>>>22),D=S+(b^(M|~I))+T[14]+2878612391&4294967295,S=M+(D<<15&4294967295|D>>>17),D=I+(M^(S|~b))+T[5]+4237533241&4294967295,I=S+(D<<21&4294967295|D>>>11),D=b+(S^(I|~M))+T[12]+1700485571&4294967295,b=I+(D<<6&4294967295|D>>>26),D=M+(I^(b|~S))+T[3]+2399980690&4294967295,M=b+(D<<10&4294967295|D>>>22),D=S+(b^(M|~I))+T[10]+4293915773&4294967295,S=M+(D<<15&4294967295|D>>>17),D=I+(M^(S|~b))+T[1]+2240044497&4294967295,I=S+(D<<21&4294967295|D>>>11),D=b+(S^(I|~M))+T[8]+1873313359&4294967295,b=I+(D<<6&4294967295|D>>>26),D=M+(I^(b|~S))+T[15]+4264355552&4294967295,M=b+(D<<10&4294967295|D>>>22),D=S+(b^(M|~I))+T[6]+2734768916&4294967295,S=M+(D<<15&4294967295|D>>>17),D=I+(M^(S|~b))+T[13]+1309151649&4294967295,I=S+(D<<21&4294967295|D>>>11),D=b+(S^(I|~M))+T[4]+4149444226&4294967295,b=I+(D<<6&4294967295|D>>>26),D=M+(I^(b|~S))+T[11]+3174756917&4294967295,M=b+(D<<10&4294967295|D>>>22),D=S+(b^(M|~I))+T[2]+718787259&4294967295,S=M+(D<<15&4294967295|D>>>17),D=I+(M^(S|~b))+T[9]+3951481745&4294967295,E.g[0]=E.g[0]+b&4294967295,E.g[1]=E.g[1]+(S+(D<<21&4294967295|D>>>11))&4294967295,E.g[2]=E.g[2]+S&4294967295,E.g[3]=E.g[3]+M&4294967295}i.prototype.u=function(E,b){b===void 0&&(b=E.length);for(var I=b-this.blockSize,T=this.B,S=this.h,M=0;M<b;){if(S==0)for(;M<=I;)r(this,E,M),M+=this.blockSize;if(typeof E=="string"){for(;M<b;)if(T[S++]=E.charCodeAt(M++),S==this.blockSize){r(this,T),S=0;break}}else for(;M<b;)if(T[S++]=E[M++],S==this.blockSize){r(this,T),S=0;break}}this.h=S,this.o+=b},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var b=1;b<E.length-8;++b)E[b]=0;var I=8*this.o;for(b=E.length-8;b<E.length;++b)E[b]=I&255,I/=256;for(this.u(E),E=Array(16),b=I=0;4>b;++b)for(var T=0;32>T;T+=8)E[I++]=this.g[b]>>>T&255;return E};function s(E,b){var I=a;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=b(E)}function o(E,b){this.h=b;for(var I=[],T=!0,S=E.length-1;0<=S;S--){var M=E[S]|0;T&&M==b||(I[S]=M,T=!1)}this.g=I}var a={};function c(E){return-128<=E&&128>E?s(E,function(b){return new o([b|0],0>b?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return h;if(0>E)return v(l(-E));for(var b=[],I=1,T=0;E>=I;T++)b[T]=E/I|0,I*=4294967296;return new o(b,0)}function d(E,b){if(E.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E.charAt(0)=="-")return v(d(E.substring(1),b));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(b,8)),T=h,S=0;S<E.length;S+=8){var M=Math.min(8,E.length-S),D=parseInt(E.substring(S,S+M),b);8>M?(M=l(Math.pow(b,M)),T=T.j(M).add(l(D))):(T=T.j(I),T=T.add(l(D)))}return T}var h=c(0),f=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(y(this))return-v(this).m();for(var E=0,b=1,I=0;I<this.g.length;I++){var T=this.i(I);E+=(0<=T?T:4294967296+T)*b,b*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(_(this))return"0";if(y(this))return"-"+v(this).toString(E);for(var b=l(Math.pow(E,6)),I=this,T="";;){var S=N(I,b).g;I=A(I,S.j(b));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=S,_(I))return M+T;for(;6>M.length;)M="0"+M;T=M+T}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function _(E){if(E.h!=0)return!1;for(var b=0;b<E.g.length;b++)if(E.g[b]!=0)return!1;return!0}function y(E){return E.h==-1}t.l=function(E){return E=A(this,E),y(E)?-1:_(E)?0:1};function v(E){for(var b=E.g.length,I=[],T=0;T<b;T++)I[T]=~E.g[T];return new o(I,~E.h).add(f)}t.abs=function(){return y(this)?v(this):this},t.add=function(E){for(var b=Math.max(this.g.length,E.g.length),I=[],T=0,S=0;S<=b;S++){var M=T+(this.i(S)&65535)+(E.i(S)&65535),D=(M>>>16)+(this.i(S)>>>16)+(E.i(S)>>>16);T=D>>>16,M&=65535,D&=65535,I[S]=D<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function A(E,b){return E.add(v(b))}t.j=function(E){if(_(this)||_(E))return h;if(y(this))return y(E)?v(this).j(v(E)):v(v(this).j(E));if(y(E))return v(this.j(v(E)));if(0>this.l(g)&&0>E.l(g))return l(this.m()*E.m());for(var b=this.g.length+E.g.length,I=[],T=0;T<2*b;T++)I[T]=0;for(T=0;T<this.g.length;T++)for(var S=0;S<E.g.length;S++){var M=this.i(T)>>>16,D=this.i(T)&65535,Xe=E.i(S)>>>16,Ie=E.i(S)&65535;I[2*T+2*S]+=D*Ie,x(I,2*T+2*S),I[2*T+2*S+1]+=M*Ie,x(I,2*T+2*S+1),I[2*T+2*S+1]+=D*Xe,x(I,2*T+2*S+1),I[2*T+2*S+2]+=M*Xe,x(I,2*T+2*S+2)}for(T=0;T<b;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=b;T<2*b;T++)I[T]=0;return new o(I,0)};function x(E,b){for(;(E[b]&65535)!=E[b];)E[b+1]+=E[b]>>>16,E[b]&=65535,b++}function O(E,b){this.g=E,this.h=b}function N(E,b){if(_(b))throw Error("division by zero");if(_(E))return new O(h,h);if(y(E))return b=N(v(E),b),new O(v(b.g),v(b.h));if(y(b))return b=N(E,v(b)),new O(v(b.g),b.h);if(30<E.g.length){if(y(E)||y(b))throw Error("slowDivide_ only works with positive integers.");for(var I=f,T=b;0>=T.l(E);)I=k(I),T=k(T);var S=P(I,1),M=P(T,1);for(T=P(T,2),I=P(I,2);!_(T);){var D=M.add(T);0>=D.l(E)&&(S=S.add(I),M=D),T=P(T,1),I=P(I,1)}return b=A(E,S.j(b)),new O(S,b)}for(S=h;0<=E.l(b);){for(I=Math.max(1,Math.floor(E.m()/b.m())),T=Math.ceil(Math.log(I)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),M=l(I),D=M.j(b);y(D)||0<D.l(E);)I-=T,M=l(I),D=M.j(b);_(M)&&(M=f),S=S.add(M),E=A(E,D)}return new O(S,E)}t.A=function(E){return N(this,E).h},t.and=function(E){for(var b=Math.max(this.g.length,E.g.length),I=[],T=0;T<b;T++)I[T]=this.i(T)&E.i(T);return new o(I,this.h&E.h)},t.or=function(E){for(var b=Math.max(this.g.length,E.g.length),I=[],T=0;T<b;T++)I[T]=this.i(T)|E.i(T);return new o(I,this.h|E.h)},t.xor=function(E){for(var b=Math.max(this.g.length,E.g.length),I=[],T=0;T<b;T++)I[T]=this.i(T)^E.i(T);return new o(I,this.h^E.h)};function k(E){for(var b=E.g.length+1,I=[],T=0;T<b;T++)I[T]=E.i(T)<<1|E.i(T-1)>>>31;return new o(I,E.h)}function P(E,b){var I=b>>5;b%=32;for(var T=E.g.length-I,S=[],M=0;M<T;M++)S[M]=0<b?E.i(M+I)>>>b|E.i(M+I+1)<<32-b:E.i(M+I);return new o(S,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,tw=AO.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=d,ss=AO.Integer=o}).apply(typeof SO<"u"?SO:typeof self<"u"?self:typeof window<"u"?window:{});var kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cr={};var nw,iw,$a,rw,mu,Fp,sw,ow,aw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kp=="object"&&kp];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=n(this);function r(u,p){if(p)e:{var m=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var R=u[w];if(!(R in m))break e;m=m[R]}u=u[u.length-1],w=m[u],p=p(w),p!=w&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var m=0,w=!1,R={next:function(){if(!w&&m<u.length){var F=m++;return{value:p(F,u[F]),done:!1}}return w=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}r("Array.prototype.values",function(u){return u||function(){return s(this,function(p,m){return m})}});var o=o||{},a=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function l(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,m){return u.call.apply(u.bind,arguments)}function h(u,p,m){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,w),u.apply(p,R)}}return function(){return u.apply(p,arguments)}}function f(u,p,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function _(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(w,R,F){for(var j=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)j[ke-2]=arguments[ke];return p.prototype[R].apply(w,j)}}function y(u){let p=u.length;if(0<p){let m=Array(p);for(let w=0;w<p;w++)m[w]=u[w];return m}return[]}function v(u,p){for(let m=1;m<arguments.length;m++){let w=arguments[m];if(c(w)){let R=u.length||0,F=w.length||0;u.length=R+F;for(let j=0;j<F;j++)u[R+j]=w[j]}else u.push(w)}}class A{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(u){return/^[\s\xa0]*$/.test(u)}function O(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function N(u){return N[" "](u),u}N[" "]=function(){};var k=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function P(u,p,m){for(let w in u)p.call(m,u[w],w,u)}function E(u,p){for(let m in u)p.call(void 0,u[m],m,u)}function b(u){let p={};for(let m in u)p[m]=u[m];return p}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,p){let m,w;for(let R=1;R<arguments.length;R++){w=arguments[R];for(m in w)u[m]=w[m];for(let F=0;F<I.length;F++)m=I[F],Object.prototype.hasOwnProperty.call(w,m)&&(u[m]=w[m])}}function S(u){var p=1;u=u.split(":");let m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function M(u){a.setTimeout(()=>{throw u},0)}function D(){var u=gt;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Xe{constructor(){this.h=this.g=null}add(p,m){let w=Ie.get();w.set(p,m),this.h?this.h.next=w:this.g=w,this.h=w}}var Ie=new A(()=>new Be,u=>u.reset());class Be{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,Ot=!1,gt=new Xe,Li=()=>{let u=a.Promise.resolve(void 0);Pe=()=>{u.then(Bo)}};var Bo=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(m){M(m)}var p=Ie;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}Ot=!1};function Xt(){this.s=this.s,this.C=this.C}Xt.prototype.s=!1,Xt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var Vi=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return u}();function kn(u,p){if(it.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(k){e:{try{N(p.nodeName);var R=!0;break e}catch{}R=!1}R||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Bi[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&kn.aa.h.call(this)}}_(kn,it);var Bi={2:"touch",3:"pen",4:"mouse"};kn.prototype.h=function(){kn.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Bc="closure_listenable_"+(1e6*Math.random()|0),ZV=0;function e2(u,p,m,w,R){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!w,this.ha=R,this.key=++ZV,this.da=this.fa=!1}function _d(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function yd(u){this.src=u,this.g={},this.h=0}yd.prototype.add=function(u,p,m,w,R){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var j=km(u,p,w,R);return-1<j?(p=u[j],m||(p.fa=!1)):(p=new e2(p,this.src,F,!!w,R),p.fa=m,u.push(p)),p};function Pm(u,p){var m=p.type;if(m in u.g){var w=u.g[m],R=Array.prototype.indexOf.call(w,p,void 0),F;(F=0<=R)&&Array.prototype.splice.call(w,R,1),F&&(_d(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function km(u,p,m,w){for(var R=0;R<u.length;++R){var F=u[R];if(!F.da&&F.listener==p&&F.capture==!!m&&F.ha==w)return R}return-1}var Fm="closure_lm_"+(1e6*Math.random()|0),Lm={};function ZD(u,p,m,w,R){if(w&&w.once)return tT(u,p,m,w,R);if(Array.isArray(p)){for(var F=0;F<p.length;F++)ZD(u,p[F],m,w,R);return null}return m=Um(m),u&&u[Bc]?u.K(p,m,l(w)?!!w.capture:!!w,R):eT(u,p,m,!1,w,R)}function eT(u,p,m,w,R,F){if(!p)throw Error("Invalid event type");var j=l(R)?!!R.capture:!!R,ke=Bm(u);if(ke||(u[Fm]=ke=new yd(u)),m=ke.add(p,m,w,j,F),m.proxy)return m;if(w=t2(),m.proxy=w,w.src=u,w.listener=m,u.addEventListener)Vi||(R=j),R===void 0&&(R=!1),u.addEventListener(p.toString(),w,R);else if(u.attachEvent)u.attachEvent(iT(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function t2(){function u(m){return p.call(u.src,u.listener,m)}let p=n2;return u}function tT(u,p,m,w,R){if(Array.isArray(p)){for(var F=0;F<p.length;F++)tT(u,p[F],m,w,R);return null}return m=Um(m),u&&u[Bc]?u.L(p,m,l(w)?!!w.capture:!!w,R):eT(u,p,m,!0,w,R)}function nT(u,p,m,w,R){if(Array.isArray(p))for(var F=0;F<p.length;F++)nT(u,p[F],m,w,R);else w=l(w)?!!w.capture:!!w,m=Um(m),u&&u[Bc]?(u=u.i,p=String(p).toString(),p in u.g&&(F=u.g[p],m=km(F,m,w,R),-1<m&&(_d(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete u.g[p],u.h--)))):u&&(u=Bm(u))&&(p=u.g[p.toString()],u=-1,p&&(u=km(p,m,w,R)),(m=-1<u?p[u]:null)&&Vm(m))}function Vm(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Bc])Pm(p.i,u);else{var m=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(m,w,u.capture):p.detachEvent?p.detachEvent(iT(m),w):p.addListener&&p.removeListener&&p.removeListener(w),(m=Bm(p))?(Pm(m,u),m.h==0&&(m.src=null,p[Fm]=null)):_d(u)}}}function iT(u){return u in Lm?Lm[u]:Lm[u]="on"+u}function n2(u,p){if(u.da)u=!0;else{p=new kn(p,this);var m=u.listener,w=u.ha||u.src;u.fa&&Vm(u),u=m.call(w,p)}return u}function Bm(u){return u=u[Fm],u instanceof yd?u:null}var jm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Um(u){return typeof u=="function"?u:(u[jm]||(u[jm]=function(p){return u.handleEvent(p)}),u[jm])}function Ht(){Xt.call(this),this.i=new yd(this),this.M=this,this.F=null}_(Ht,Xt),Ht.prototype[Bc]=!0,Ht.prototype.removeEventListener=function(u,p,m,w){nT(this,u,p,m,w)};function Zt(u,p){var m,w=u.F;if(w)for(m=[];w;w=w.F)m.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new it(p,u);else if(p instanceof it)p.target=p.target||u;else{var R=p;p=new it(w,u),T(p,R)}if(R=!0,m)for(var F=m.length-1;0<=F;F--){var j=p.g=m[F];R=vd(j,w,!0,p)&&R}if(j=p.g=u,R=vd(j,w,!0,p)&&R,R=vd(j,w,!1,p)&&R,m)for(F=0;F<m.length;F++)j=p.g=m[F],R=vd(j,w,!1,p)&&R}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],w=0;w<m.length;w++)_d(m[w]);delete u.g[p],u.h--}}this.F=null},Ht.prototype.K=function(u,p,m,w){return this.i.add(String(u),p,!1,m,w)},Ht.prototype.L=function(u,p,m,w){return this.i.add(String(u),p,!0,m,w)};function vd(u,p,m,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var R=!0,F=0;F<p.length;++F){var j=p[F];if(j&&!j.da&&j.capture==m){var ke=j.listener,Nt=j.ha||j.src;j.fa&&Pm(u.i,j),R=ke.call(Nt,w)!==!1&&R}}return R&&!w.defaultPrevented}function rT(u,p,m){if(typeof u=="function")m&&(u=f(u,m));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function sT(u){u.g=rT(()=>{u.g=null,u.i&&(u.i=!1,sT(u))},u.l);let p=u.h;u.h=null,u.m.apply(null,p)}class i2 extends Xt{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:sT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jc(u){Xt.call(this),this.h=u,this.g={}}_(jc,Xt);var oT=[];function aT(u){P(u.g,function(p,m){this.g.hasOwnProperty(m)&&Vm(p)},u),u.g={}}jc.prototype.N=function(){jc.aa.N.call(this),aT(this)},jc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $m=a.JSON.stringify,r2=a.JSON.parse,s2=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Hm(){}Hm.prototype.h=null;function cT(u){return u.h||(u.h=u.i())}function lT(){}var Uc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zm(){it.call(this,"d")}_(zm,it);function Gm(){it.call(this,"c")}_(Gm,it);var xs={},uT=null;function bd(){return uT=uT||new Ht}xs.La="serverreachability";function dT(u){it.call(this,xs.La,u)}_(dT,it);function $c(u){let p=bd();Zt(p,new dT(p))}xs.STAT_EVENT="statevent";function hT(u,p){it.call(this,xs.STAT_EVENT,u),this.stat=p}_(hT,it);function en(u){let p=bd();Zt(p,new hT(p,u))}xs.Ma="timingevent";function fT(u,p){it.call(this,xs.Ma,u),this.size=p}_(fT,it);function Hc(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function zc(){this.g=!0}zc.prototype.xa=function(){this.g=!1};function o2(u,p,m,w,R,F){u.info(function(){if(u.g)if(F)for(var j="",ke=F.split("&"),Nt=0;Nt<ke.length;Nt++){var Ce=ke[Nt].split("=");if(1<Ce.length){var zt=Ce[0];Ce=Ce[1];var Gt=zt.split("_");j=2<=Gt.length&&Gt[1]=="type"?j+(zt+"="+Ce+"&"):j+(zt+"=redacted&")}}else j=null;else j=F;return"XMLHTTP REQ ("+w+") [attempt "+R+"]: "+p+`
`+m+`
`+j})}function a2(u,p,m,w,R,F,j){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+R+"]: "+p+`
`+m+`
`+F+" "+j})}function jo(u,p,m,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+l2(u,m)+(w?" "+w:"")})}function c2(u,p){u.info(function(){return"TIMEOUT: "+p})}zc.prototype.info=function(){};function l2(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var w=m[u];if(!(2>w.length)){var R=w[1];if(Array.isArray(R)&&!(1>R.length)){var F=R[0];if(F!="noop"&&F!="stop"&&F!="close")for(var j=1;j<R.length;j++)R[j]=""}}}}return $m(m)}catch{return p}}var wd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qm;function Id(){}_(Id,Hm),Id.prototype.g=function(){return new XMLHttpRequest},Id.prototype.i=function(){return{}},qm=new Id;function Er(u,p,m,w){this.j=u,this.i=p,this.l=m,this.R=w||1,this.U=new jc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gT}function gT(){this.i=null,this.g="",this.h=!1}var mT={},Wm={};function Km(u,p,m){u.L=1,u.v=Cd(ji(p)),u.m=m,u.P=!0,_T(u,null)}function _T(u,p){u.F=Date.now(),Ed(u),u.A=ji(u.v);var m=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),RT(m.i,"t",w),u.C=0,m=u.j.J,u.h=new gT,u.g=YT(u.j,m?p:null,!u.m),0<u.O&&(u.M=new i2(f(u.Y,u,u.g),u.O)),p=u.U,m=u.g,w=u.ca;var R="readystatechange";Array.isArray(R)||(R&&(oT[0]=R.toString()),R=oT);for(var F=0;F<R.length;F++){var j=ZD(m,R[F],w||p.handleEvent,!1,p.h||p);if(!j)break;p.g[j.key]=j}p=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),$c(),o2(u.i,u.u,u.A,u.l,u.R,u.m)}Er.prototype.ca=function(u){u=u.target;let p=this.M;p&&Ui(u)==3?p.j():this.Y(u)},Er.prototype.Y=function(u){try{if(u==this.g)e:{let Gt=Ui(this.g);var p=this.g.Ba();let Ho=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||VT(this.g)))){this.J||Gt!=4||p==7||(p==8||0>=Ho?$c(3):$c(2)),Ym(this);var m=this.g.Z();this.X=m;t:if(yT(this)){var w=VT(this.g);u="";var R=w.length,F=Ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),Gc(this);var j="";break t}this.h.i=new a.TextDecoder}for(p=0;p<R;p++)this.h.h=!0,u+=this.h.i.decode(w[p],{stream:!(F&&p==R-1)});w.length=0,this.h.g+=u,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=m==200,a2(this.i,this.u,this.A,this.l,this.R,Gt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Nt=this.g;if((ke=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(ke)){var Ce=ke;break t}}Ce=null}if(m=Ce)jo(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qm(this,m);else{this.o=!1,this.s=3,en(12),Ms(this),Gc(this);break e}}if(this.P){m=!0;let Fn;for(;!this.J&&this.C<j.length;)if(Fn=u2(this,j),Fn==Wm){Gt==4&&(this.s=4,en(14),m=!1),jo(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==mT){this.s=4,en(15),jo(this.i,this.l,j,"[Invalid Chunk]"),m=!1;break}else jo(this.i,this.l,Fn,null),Qm(this,Fn);if(yT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||j.length!=0||this.h.h||(this.s=1,en(16),m=!1),this.o=this.o&&m,!m)jo(this.i,this.l,j,"[Invalid Chunked Response]"),Ms(this),Gc(this);else if(0<j.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),n_(zt),zt.M=!0,en(11))}}else jo(this.i,this.l,j,null),Qm(this,j);Gt==4&&Ms(this),this.o&&!this.J&&(Gt==4?GT(this.j,this):(this.o=!1,Ed(this)))}else S2(this.g),m==400&&0<j.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),Ms(this),Gc(this)}}}catch{}finally{}};function yT(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function u2(u,p){var m=u.C,w=p.indexOf(`
`,m);return w==-1?Wm:(m=Number(p.substring(m,w)),isNaN(m)?mT:(w+=1,w+m>p.length?Wm:(p=p.slice(w,w+m),u.C=w+m,p)))}Er.prototype.cancel=function(){this.J=!0,Ms(this)};function Ed(u){u.S=Date.now()+u.I,vT(u,u.I)}function vT(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Hc(f(u.ba,u),p)}function Ym(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Er.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(c2(this.i,this.A),this.L!=2&&($c(),en(17)),Ms(this),this.s=2,Gc(this)):vT(this,this.S-u)};function Gc(u){u.j.G==0||u.J||GT(u.j,u)}function Ms(u){Ym(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,aT(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Qm(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||Jm(m.h,u))){if(!u.K&&Jm(m.h,u)&&m.G==3){try{var w=m.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var R=w;if(R[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Rd(m),xd(m);else break e;t_(m),en(18)}}else m.za=R[1],0<m.za-m.T&&37500>R[2]&&m.F&&m.v==0&&!m.C&&(m.C=Hc(f(m.Za,m),6e3));if(1>=IT(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Os(m,11)}else if((u.K||m.g==u)&&Rd(m),!x(p))for(R=m.Da.g.parse(p),p=0;p<R.length;p++){let Ce=R[p];if(m.T=Ce[0],Ce=Ce[1],m.G==2)if(Ce[0]=="c"){m.K=Ce[1],m.ia=Ce[2];let zt=Ce[3];zt!=null&&(m.la=zt,m.j.info("VER="+m.la));let Gt=Ce[4];Gt!=null&&(m.Aa=Gt,m.j.info("SVER="+m.Aa));let Ho=Ce[5];Ho!=null&&typeof Ho=="number"&&0<Ho&&(w=1.5*Ho,m.L=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;let Fn=u.g;if(Fn){let Nd=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nd){var F=w.h;F.g||Nd.indexOf("spdy")==-1&&Nd.indexOf("quic")==-1&&Nd.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Xm(F,F.h),F.h=null))}if(w.D){let i_=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;i_&&(w.ya=i_,qe(w.I,w.D,i_))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),w=m;var j=u;if(w.qa=KT(w,w.J?w.ia:null,w.W),j.K){ET(w.h,j);var ke=j,Nt=w.L;Nt&&(ke.I=Nt),ke.B&&(Ym(ke),Ed(ke)),w.g=j}else HT(w);0<m.i.length&&Md(m)}else Ce[0]!="stop"&&Ce[0]!="close"||Os(m,7);else m.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Os(m,7):e_(m):Ce[0]!="noop"&&m.l&&m.l.ta(Ce),m.v=0)}}$c(4)}catch{}}var d2=class{constructor(u,p){this.g=u,this.map=p}};function bT(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wT(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function IT(u){return u.h?1:u.g?u.g.size:0}function Jm(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Xm(u,p){u.g?u.g.add(p):u.h=p}function ET(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}bT.prototype.cancel=function(){if(this.i=DT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function DT(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(let m of u.g.values())p=p.concat(m.D);return p}return y(u.i)}function h2(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],m=u.length,w=0;w<m;w++)p.push(u[w]);return p}p=[],m=0;for(w in u)p[m++]=u[w];return p}function f2(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(let w in u)p[m++]=w;return p}}}function TT(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=f2(u),w=h2(u),R=w.length,F=0;F<R;F++)p.call(void 0,w[F],m&&m[F],u)}var CT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function p2(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var w=u[m].indexOf("="),R=null;if(0<=w){var F=u[m].substring(0,w);R=u[m].substring(w+1)}else F=u[m];p(F,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Rs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Rs){this.h=u.h,Dd(this,u.j),this.o=u.o,this.g=u.g,Td(this,u.s),this.l=u.l;var p=u.i,m=new Kc;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),ST(this,m),this.m=u.m}else u&&(p=String(u).match(CT))?(this.h=!1,Dd(this,p[1]||"",!0),this.o=qc(p[2]||""),this.g=qc(p[3]||"",!0),Td(this,p[4]),this.l=qc(p[5]||"",!0),ST(this,p[6]||"",!0),this.m=qc(p[7]||"")):(this.h=!1,this.i=new Kc(null,this.h))}Rs.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Wc(p,AT,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Wc(p,AT,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Wc(m,m.charAt(0)=="/"?_2:m2,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Wc(m,v2)),u.join("")};function ji(u){return new Rs(u)}function Dd(u,p,m){u.j=m?qc(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Td(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function ST(u,p,m){p instanceof Kc?(u.i=p,b2(u.i,u.h)):(m||(p=Wc(p,y2)),u.i=new Kc(p,u.h))}function qe(u,p,m){u.i.set(p,m)}function Cd(u){return qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function qc(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Wc(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,g2),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function g2(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var AT=/[#\/\?@]/g,m2=/[#\?:]/g,_2=/[#\?]/g,y2=/[#\?@]/g,v2=/#/g;function Kc(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Dr(u){u.g||(u.g=new Map,u.h=0,u.i&&p2(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=Kc.prototype,t.add=function(u,p){Dr(this),this.i=null,u=Uo(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function xT(u,p){Dr(u),p=Uo(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function MT(u,p){return Dr(u),p=Uo(u,p),u.g.has(p)}t.forEach=function(u,p){Dr(this),this.g.forEach(function(m,w){m.forEach(function(R){u.call(p,R,w,this)},this)},this)},t.na=function(){Dr(this);let u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let w=0;w<p.length;w++){let R=u[w];for(let F=0;F<R.length;F++)m.push(p[w])}return m},t.V=function(u){Dr(this);let p=[];if(typeof u=="string")MT(this,u)&&(p=p.concat(this.g.get(Uo(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},t.set=function(u,p){return Dr(this),this.i=null,u=Uo(this,u),MT(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function RT(u,p,m){xT(u,p),0<m.length&&(u.i=null,u.g.set(Uo(u,p),y(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var w=p[m];let F=encodeURIComponent(String(w)),j=this.V(w);for(w=0;w<j.length;w++){var R=F;j[w]!==""&&(R+="="+encodeURIComponent(String(j[w]))),u.push(R)}}return this.i=u.join("&")};function Uo(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function b2(u,p){p&&!u.j&&(Dr(u),u.i=null,u.g.forEach(function(m,w){var R=w.toLowerCase();w!=R&&(xT(this,w),RT(this,R,m))},u)),u.j=p}function w2(u,p){let m=new zc;if(a.Image){let w=new Image;w.onload=g(Tr,m,"TestLoadImage: loaded",!0,p,w),w.onerror=g(Tr,m,"TestLoadImage: error",!1,p,w),w.onabort=g(Tr,m,"TestLoadImage: abort",!1,p,w),w.ontimeout=g(Tr,m,"TestLoadImage: timeout",!1,p,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function I2(u,p){let m=new zc,w=new AbortController,R=setTimeout(()=>{w.abort(),Tr(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then(F=>{clearTimeout(R),F.ok?Tr(m,"TestPingServer: ok",!0,p):Tr(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(R),Tr(m,"TestPingServer: error",!1,p)})}function Tr(u,p,m,w,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),w(m)}catch{}}function E2(){this.g=new s2}function D2(u,p,m){let w=m||"";try{TT(u,function(R,F){let j=R;l(R)&&(j=$m(R)),p.push(w+F+"="+encodeURIComponent(j))})}catch(R){throw p.push(w+"type="+encodeURIComponent("_badmap")),R}}function Yc(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Yc,Hm),Yc.prototype.g=function(){return new Sd(this.l,this.j)},Yc.prototype.i=function(u){return function(){return u}}({});function Sd(u,p){Ht.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Sd,Ht),t=Sd.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Jc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jc(this)),this.g&&(this.readyState=3,Jc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;OT(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function OT(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Qc(this):Jc(this),this.readyState==3&&OT(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Qc(this))},t.Qa=function(u){this.g&&(this.response=u,Qc(this))},t.ga=function(){this.g&&Qc(this)};function Qc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Jc(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function Jc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Sd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function NT(u){let p="";return P(u,function(m,w){p+=w,p+=":",p+=m,p+=`\r
`}),p}function Zm(u,p,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=NT(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):qe(u,p,m))}function rt(u){Ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(rt,Ht);var T2=/^https?$/i,C2=["POST","PUT"];t=rt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qm.g(),this.v=this.o?cT(this.o):cT(qm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){PT(this,F);return}if(u=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var R in w)m.set(R,w[R]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(let F of w.keys())m.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),R=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(C2,p,void 0))||w||R||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,j]of m)this.g.setRequestHeader(F,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{LT(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){PT(this,F)}};function PT(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,kT(u),Ad(u)}function kT(u){u.A||(u.A=!0,Zt(u,"complete"),Zt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Zt(this,"complete"),Zt(this,"abort"),Ad(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ad(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?FT(this):this.bb())},t.bb=function(){FT(this)};function FT(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Ui(u)!=4||u.Z()!=2)){if(u.u&&Ui(u)==4)rT(u.Ea,0,u);else if(Zt(u,"readystatechange"),Ui(u)==4){u.h=!1;try{let j=u.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var w;if(w=j===0){var R=String(u.D).match(CT)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),w=!T2.test(R?R.toLowerCase():"")}m=w}if(m)Zt(u,"complete"),Zt(u,"success");else{u.m=6;try{var F=2<Ui(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",kT(u)}}finally{Ad(u)}}}}function Ad(u,p){if(u.g){LT(u);let m=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Zt(u,"ready");try{m.onreadystatechange=w}catch{}}}function LT(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ui(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ui(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),r2(p)}};function VT(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function S2(u){let p={};u=(u.g&&2<=Ui(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(x(u[w]))continue;var m=S(u[w]);let R=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let F=p[R]||[];p[R]=F,F.push(m)}E(p,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xc(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function BT(u){this.Aa=0,this.i=[],this.j=new zc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xc("baseRetryDelayMs",5e3,u),this.cb=Xc("retryDelaySeedMs",1e4,u),this.Wa=Xc("forwardChannelMaxRetries",2,u),this.wa=Xc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new bT(u&&u.concurrentRequestLimit),this.Da=new E2,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=BT.prototype,t.la=8,t.G=1,t.connect=function(u,p,m,w){en(0),this.W=u,this.H=p||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=KT(this,null,this.W),Md(this)};function e_(u){if(jT(u),u.G==3){var p=u.U++,m=ji(u.I);if(qe(m,"SID",u.K),qe(m,"RID",p),qe(m,"TYPE","terminate"),Zc(u,m),p=new Er(u,u.j,p),p.L=2,p.v=Cd(ji(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=YT(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ed(p)}WT(u)}function xd(u){u.g&&(n_(u),u.g.cancel(),u.g=null)}function jT(u){xd(u),u.u&&(a.clearTimeout(u.u),u.u=null),Rd(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Md(u){if(!wT(u.h)&&!u.s){u.s=!0;var p=u.Ga;Pe||Li(),Ot||(Pe(),Ot=!0),gt.add(p,u),u.B=0}}function A2(u,p){return IT(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Hc(f(u.Ga,u,p),qT(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let R=new Er(this,this.j,u),F=this.o;if(this.S&&(F?(F=b(F),T(F,this.S)):F=this.S),this.m!==null||this.O||(R.H=F,F=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=$T(this,R,p),m=ji(this.I),qe(m,"RID",u),qe(m,"CVER",22),this.D&&qe(m,"X-HTTP-Session-Id",this.D),Zc(this,m),F&&(this.O?p="headers="+encodeURIComponent(String(NT(F)))+"&"+p:this.m&&Zm(m,this.m,F)),Xm(this.h,R),this.Ua&&qe(m,"TYPE","init"),this.P?(qe(m,"$req",p),qe(m,"SID","null"),R.T=!0,Km(R,m,null)):Km(R,m,p),this.G=2}}else this.G==3&&(u?UT(this,u):this.i.length==0||wT(this.h)||UT(this))};function UT(u,p){var m;p?m=p.l:m=u.U++;let w=ji(u.I);qe(w,"SID",u.K),qe(w,"RID",m),qe(w,"AID",u.T),Zc(u,w),u.m&&u.o&&Zm(w,u.m,u.o),m=new Er(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=$T(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Xm(u.h,m),Km(m,w,p)}function Zc(u,p){u.H&&P(u.H,function(m,w){qe(p,w,m)}),u.l&&TT({},function(m,w){qe(p,w,m)})}function $T(u,p,m){m=Math.min(u.i.length,m);var w=u.l?f(u.l.Na,u.l,u):null;e:{var R=u.i;let F=-1;for(;;){let j=["count="+m];F==-1?0<m?(F=R[0].g,j.push("ofs="+F)):F=0:j.push("ofs="+F);let ke=!0;for(let Nt=0;Nt<m;Nt++){let Ce=R[Nt].g,zt=R[Nt].map;if(Ce-=F,0>Ce)F=Math.max(0,R[Nt].g-100),ke=!1;else try{D2(zt,j,"req"+Ce+"_")}catch{w&&w(zt)}}if(ke){w=j.join("&");break e}}}return u=u.i.splice(0,m),p.D=u,w}function HT(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Pe||Li(),Ot||(Pe(),Ot=!0),gt.add(p,u),u.v=0}}function t_(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Hc(f(u.Fa,u),qT(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,zT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Hc(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),xd(this),zT(this))};function n_(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function zT(u){u.g=new Er(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=ji(u.qa);qe(p,"RID","rpc"),qe(p,"SID",u.K),qe(p,"AID",u.T),qe(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&qe(p,"TO",u.ja),qe(p,"TYPE","xmlhttp"),Zc(u,p),u.m&&u.o&&Zm(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Cd(ji(p)),m.m=null,m.P=!0,_T(m,u)}t.Za=function(){this.C!=null&&(this.C=null,xd(this),t_(this),en(19))};function Rd(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function GT(u,p){var m=null;if(u.g==p){Rd(u),n_(u),u.g=null;var w=2}else if(Jm(u.h,p))m=p.D,ET(u.h,p),w=1;else return;if(u.G!=0){if(p.o)if(w==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var R=u.B;w=bd(),Zt(w,new fT(w,m)),Md(u)}else HT(u);else if(R=p.s,R==3||R==0&&0<p.X||!(w==1&&A2(u,p)||w==2&&t_(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),R){case 1:Os(u,5);break;case 4:Os(u,10);break;case 3:Os(u,6);break;default:Os(u,2)}}}function qT(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function Os(u,p){if(u.j.info("Error code "+p),p==2){var m=f(u.fb,u),w=u.Xa;let R=!w;w=new Rs(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Dd(w,"https"),Cd(w),R?w2(w.toString(),m):I2(w.toString(),m)}else en(2);u.G=0,u.l&&u.l.sa(p),WT(u),jT(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function WT(u){if(u.G=0,u.ka=[],u.l){let p=DT(u.h);(p.length!=0||u.i.length!=0)&&(v(u.ka,p),v(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function KT(u,p,m){var w=m instanceof Rs?ji(m):new Rs(m);if(w.g!="")p&&(w.g=p+"."+w.g),Td(w,w.s);else{var R=a.location;w=R.protocol,p=p?p+"."+R.hostname:R.hostname,R=+R.port;var F=new Rs(null);w&&Dd(F,w),p&&(F.g=p),R&&Td(F,R),m&&(F.l=m),w=F}return m=u.D,p=u.ya,m&&p&&qe(w,m,p),qe(w,"VER",u.la),Zc(u,w),w}function YT(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new rt(new Yc({eb:m})):new rt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function QT(){}t=QT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Od(){}Od.prototype.g=function(u,p){return new vn(u,p)};function vn(u,p){Ht.call(this),this.g=new BT(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!x(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new $o(this)}_(vn,Ht),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){e_(this.g)},vn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=$m(u),u=m);p.i.push(new d2(p.Ya++,u)),p.G==3&&Md(p)},vn.prototype.N=function(){this.g.l=null,delete this.j,e_(this.g),delete this.g,vn.aa.N.call(this)};function JT(u){zm.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(let m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}_(JT,zm);function XT(){Gm.call(this),this.status=1}_(XT,Gm);function $o(u){this.g=u}_($o,QT),$o.prototype.ua=function(){Zt(this.g,"a")},$o.prototype.ta=function(u){Zt(this.g,new JT(u))},$o.prototype.sa=function(u){Zt(this.g,new XT)},$o.prototype.ra=function(){Zt(this.g,"b")},Od.prototype.createWebChannel=Od.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,aw=cr.createWebChannelTransport=function(){return new Od},ow=cr.getStatEventTarget=function(){return bd()},sw=cr.Event=xs,Fp=cr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wd.NO_ERROR=0,wd.TIMEOUT=8,wd.HTTP_ERROR=6,mu=cr.ErrorCode=wd,pT.COMPLETE="complete",rw=cr.EventType=pT,lT.EventType=Uc,Uc.OPEN="a",Uc.CLOSE="b",Uc.ERROR="c",Uc.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,$a=cr.WebChannel=lT,iw=cr.FetchXmlHttpFactory=Yc,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,nw=cr.XhrIo=rt}).apply(typeof kp<"u"?kp:typeof self<"u"?self:typeof window<"u"?window:{});var xO="@firebase/firestore";var Rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");var cc="10.12.1";var wo=new Qr("@firebase/firestore");function _u(){return wo.logLevel}function K(t,...e){if(wo.logLevel<=_e.DEBUG){let n=e.map(WI);wo.debug(`Firestore (${cc}): ${t}`,...n)}}function ur(t,...e){if(wo.logLevel<=_e.ERROR){let n=e.map(WI);wo.error(`Firestore (${cc}): ${t}`,...n)}}function Qa(t,...e){if(wo.logLevel<=_e.WARN){let n=e.map(WI);wo.warn(`Firestore (${cc}): ${t}`,...n)}}function WI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ie(t="Unexpected state"){let e=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: `+t;throw ur(e),new Error(e)}function $e(t,e){t||ie()}function ae(t,e){return t}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends sn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var lr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Up=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},hw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}},fw=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},pw=class{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),s=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new lr,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>C(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new lr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string"),new Up(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Rt(e)}},gw=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},mw=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new gw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_w=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},yw=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new _w(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function N8(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var $p=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=N8(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function Ae(t,e){return t<e?-1:t>e?1:0}function Ja(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var Vt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ue=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Vt(0,0))}static max(){return new t(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Hp=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&ie(),i===void 0?i=e.length-n:i>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},tt=class t extends Hp{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new G(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},P8=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Sn=class t extends Hp{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return P8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new G(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new G(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new G(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new G(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Z=class t{constructor(e){this.path=e}static fromPath(e){return new t(tt.fromString(e))}static fromName(e){return new t(tt.fromString(e).popFirst(5))}static empty(){return new t(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new tt(e.slice()))}};var vw=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};vw.UNKNOWN_ID=-1;function k8(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ue.fromTimestamp(i===1e9?new Vt(n+1,0):new Vt(n,i));return new Io(r,Z.empty(),e)}function F8(t){return new Io(t.readTime,t.key,-1)}var Io=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(ue.min(),Z.empty(),-1)}static max(){return new t(ue.max(),Z.empty(),-1)}};function L8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}var V8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Pu(t){return C(this,null,function*(){if(t.code!==L.FAILED_PRECONDITION||t.message!==V8)throw t;K("LocalStore","Unexpectedly lost primary lease")})}var B=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},c=>i(c))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(d=>{o[l]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};function B8(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ku(t){return t.name==="IndexedDbTransactionError"}var cN=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function yg(t){return t==null}function Eu(t){return t===0&&1/t==-1/0}function j8(t){return typeof t=="number"&&Number.isInteger(t)&&!Eu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var U8=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kpe=[...U8,"documentOverlays"],$8=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],H8=$8,Fpe=[...H8,"indexConfiguration","indexState","indexEntries"];function MO(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ct=class t{constructor(e,n){this.comparator=e,this.root=n||Ti.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qa(this.root,e,this.comparator,!0)}},qa=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ti=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();let e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}};Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1;Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,i,r,s){return this}insert(e,n,i){return new Ti(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qt=class t{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zp(this.data.getIterator())}getIteratorFrom(e){return new zp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},zp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Di=class t{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Qt(Sn.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Gp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var on=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Gp("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};on.EMPTY_BYTE_STRING=new on("");var z8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(t){if($e(!!t),typeof t=="string"){let e=0,n=z8.exec(t);if($e(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function as(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}function KI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function YI(t){let e=t.mapValue.fields.__previous_value__;return KI(e)?YI(e):e}function Du(t){let e=dr(t.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}var ww=class{constructor(e,n,i,r,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},qp=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Lp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?KI(t)?4:uN(t)?9007199254740991:10:ie()}function Ai(t,e){if(t===e)return!0;let n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Du(t).isEqual(Du(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=dr(r.timestampValue),a=dr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return as(r.bytesValue).isEqual(as(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return at(r.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(r.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return at(r.integerValue)===at(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=at(r.doubleValue),a=at(s.doubleValue);return o===a?Eu(o)===Eu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ja(t.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(MO(o)!==MO(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Ai(o[c],a[c])))return!1;return!0}(t,e);default:return ie()}}function Tu(t,e){return(t.values||[]).find(n=>Ai(n,e))!==void 0}function Xa(t,e){if(t===e)return 0;let n=Eo(t),i=Eo(e);if(n!==i)return Ae(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=at(s.integerValue||s.doubleValue),c=at(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return RO(t.timestampValue,e.timestampValue);case 4:return RO(Du(t),Du(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(s,o){let a=as(s),c=as(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=Ae(a[l],c[l]);if(d!==0)return d}return Ae(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ae(at(s.latitude),at(o.latitude));return a!==0?a:Ae(at(s.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){let d=Xa(a[l],c[l]);if(d)return d}return Ae(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Lp.mapValue&&o===Lp.mapValue)return 0;if(s===Lp.mapValue)return 1;if(o===Lp.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){let f=Ae(c[h],d[h]);if(f!==0)return f;let g=Xa(a[c[h]],l[d[h]]);if(g!==0)return g}return Ae(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ie()}}function RO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);let n=dr(t),i=dr(e),r=Ae(n.seconds,i.seconds);return r!==0?r:Ae(n.nanos,i.nanos)}function Za(t){return Iw(t)}function Iw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=dr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return as(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=Iw(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${Iw(n.fields[o])}`;return r+"}"}(t.mapValue):ie()}function OO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ew(t){return!!t&&"integerValue"in t}function QI(t){return!!t&&"arrayValue"in t}function NO(t){return!!t&&"nullValue"in t}function PO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bp(t){return!!t&&"mapValue"in t}function vu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return lc(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=vu(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Yn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Bp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(n)}setAll(e){let n=Sn.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=vu(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());Bp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Bp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){lc(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(vu(this.value))}};function dN(t){let e=[];return lc(t.fields,(n,i)=>{let r=new Sn([n]);if(Bp(i)){let s=dN(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new Di(e)}var Qn=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ue.min(),ue.min(),ue.min(),Yn.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,ue.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,ue.min(),ue.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ue.min(),ue.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ec=class{constructor(e,n){this.position=e,this.inclusive=n}};function kO(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=Z.comparator(Z.fromName(o.referenceValue),n.key):i=Xa(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function FO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ai(t.position[n],e.position[n]))return!1;return!0}var Do=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function G8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Wp=class{},bt=class t extends Wp{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Tw(e,n,i):n==="array-contains"?new Aw(e,i):n==="in"?new xw(e,i):n==="not-in"?new Mw(e,i):n==="array-contains-any"?new Rw(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Cw(e,i):new Sw(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xa(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(Xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Jn=class t extends Wp{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return hN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function hN(t){return t.op==="and"}function fN(t){return q8(t)&&hN(t)}function q8(t){for(let e of t.filters)if(e instanceof Jn)return!1;return!0}function Dw(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+Za(t.value);if(fN(t))return t.filters.map(e=>Dw(e)).join(",");{let e=t.filters.map(n=>Dw(n)).join(",");return`${t.op}(${e})`}}function pN(t,e){return t instanceof bt?function(i,r){return r instanceof bt&&i.op===r.op&&i.field.isEqual(r.field)&&Ai(i.value,r.value)}(t,e):t instanceof Jn?function(i,r){return r instanceof Jn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&pN(o,r.filters[a]),!0):!1}(t,e):void ie()}function gN(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Za(n.value)}`}(t):t instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(gN).join(" ,")+"}"}(t):"Filter"}var Tw=class extends bt{constructor(e,n,i){super(e,n,i),this.key=Z.fromName(i.referenceValue)}matches(e){let n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}},Cw=class extends bt{constructor(e,n){super(e,"in",n),this.keys=mN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Sw=class extends bt{constructor(e,n){super(e,"not-in",n),this.keys=mN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function mN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Z.fromName(i.referenceValue))}var Aw=class extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return QI(n)&&Tu(n.arrayValue,this.value)}},xw=class extends bt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Tu(this.value.arrayValue,n)}},Mw=class extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Tu(this.value.arrayValue,n)}},Rw=class extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!QI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Tu(this.value.arrayValue,i))}};var Ow=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function LO(t,e=null,n=[],i=[],r=null,s=null,o=null){return new Ow(t,e,n,i,r,s,o)}function JI(t){let e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Dw(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),yg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Za(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Za(i)).join(",")),e.ue=n}return e.ue}function XI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FO(t.startAt,e.startAt)&&FO(t.endAt,e.endAt)}function Nw(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var cs=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function W8(t,e,n,i,r,s,o,a){return new cs(t,e,n,i,r,s,o,a)}function ZI(t){return new cs(t)}function VO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _N(t){return t.collectionGroup!==null}function bu(t){let e=ae(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Qt(Sn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Do(s,i))}),n.has(Sn.keyField().canonicalString())||e.ce.push(new Do(Sn.keyField(),i))}return e.ce}function Ci(t){let e=ae(t);return e.le||(e.le=K8(e,bu(t))),e.le}function K8(t,e){if(t.limitType==="F")return LO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Do(r.field,s)});let n=t.endAt?new ec(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ec(t.startAt.position,t.startAt.inclusive):null;return LO(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Pw(t,e){let n=t.filters.concat([e]);return new cs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kw(t,e,n){return new cs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vg(t,e){return XI(Ci(t),Ci(e))&&t.limitType===e.limitType}function yN(t){return`${JI(Ci(t))}|lt:${t.limitType}`}function Ha(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>gN(r)).join(", ")}]`),yg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Za(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Za(r)).join(",")),`Target(${i})`}(Ci(t))}; limitType=${t.limitType})`}function bg(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Z.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of bu(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let l=kO(o,a,c);return o.inclusive?l<=0:l<0}(i.startAt,bu(i),r)||i.endAt&&!function(o,a,c){let l=kO(o,a,c);return o.inclusive?l>=0:l>0}(i.endAt,bu(i),r))}(t,e)}function Y8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vN(t){return(e,n)=>{let i=!1;for(let r of bu(t)){let s=Q8(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function Q8(t,e,n){let i=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?Xa(c,l):ie()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ie()}}var ls=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){lc(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return lN(this.inner)}size(){return this.innerSize}};var J8=new ct(Z.comparator);function hr(){return J8}var bN=new ct(Z.comparator);function yu(...t){let e=bN;for(let n of t)e=e.insert(n.key,n);return e}function wN(t){let e=bN;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function _o(){return wu()}function IN(){return wu()}function wu(){return new ls(t=>t.toString(),(t,e)=>t.isEqual(e))}var X8=new ct(Z.comparator),Z8=new Qt(Z.comparator);function ye(...t){let e=Z8;for(let n of t)e=e.add(n);return e}var e9=new Qt(Ae);function t9(){return e9}function EN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eu(e)?"-0":e}}function DN(t){return{integerValue:""+t}}function n9(t,e){return j8(e)?DN(e):EN(t,e)}var tc=class{constructor(){this._=void 0}};function i9(t,e,n){return t instanceof nc?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&KI(s)&&(s=YI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof To?CN(t,e):t instanceof Co?SN(t,e):function(r,s){let o=TN(r,s),a=BO(o)+BO(r.Pe);return Ew(o)&&Ew(r.Pe)?DN(a):EN(r.serializer,a)}(t,e)}function r9(t,e,n){return t instanceof To?CN(t,e):t instanceof Co?SN(t,e):n}function TN(t,e){return t instanceof ic?function(i){return Ew(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var nc=class extends tc{},To=class extends tc{constructor(e){super(),this.elements=e}};function CN(t,e){let n=AN(e);for(let i of t.elements)n.some(r=>Ai(r,i))||n.push(i);return{arrayValue:{values:n}}}var Co=class extends tc{constructor(e){super(),this.elements=e}};function SN(t,e){let n=AN(e);for(let i of t.elements)n=n.filter(r=>!Ai(r,i));return{arrayValue:{values:n}}}var ic=class extends tc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function BO(t){return at(t.integerValue||t.doubleValue)}function AN(t){return QI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function s9(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof To&&r instanceof To||i instanceof Co&&r instanceof Co?Ja(i.elements,r.elements,Ai):i instanceof ic&&r instanceof ic?Ai(i.Pe,r.Pe):i instanceof nc&&r instanceof nc}(t.transform,e.transform)}var Fw=class{constructor(e,n){this.version=e,this.transformResults=n}},bo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function jp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var rc=class{};function xN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kp(t.key,bo.none()):new So(t.key,t.data,bo.none());{let n=t.data,i=Yn.empty(),r=new Qt(Sn.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new fr(t.key,i,new Di(r.toArray()),bo.none())}}function o9(t,e,n){t instanceof So?function(r,s,o){let a=r.value.clone(),c=UO(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fr?function(r,s,o){if(!jp(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=UO(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(MN(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Iu(t,e,n,i){return t instanceof So?function(s,o,a,c){if(!jp(s.precondition,o))return a;let l=s.value.clone(),d=$O(s.fieldTransforms,c,o);return l.setAll(d),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof fr?function(s,o,a,c){if(!jp(s.precondition,o))return a;let l=$O(s.fieldTransforms,c,o),d=o.data;return d.setAll(MN(s)),d.setAll(l),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,i):function(s,o,a){return jp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function a9(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=TN(i.transform,r||null);s!=null&&(n===null&&(n=Yn.empty()),n.set(i.field,s))}return n||null}function jO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ja(i,r,(s,o)=>s9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var So=class extends rc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},fr=class extends rc{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function MN(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function UO(t,e,n){let i=new Map;$e(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,r9(o,a,n[r]))}return i}function $O(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,i9(s,o,e))}return i}var Kp=class extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Lw=class extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Vw=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&o9(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Iu(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Iu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=IN();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let c=xN(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(ue.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(n,i)=>jO(n,i))&&Ja(this.baseMutations,e.baseMutations,(n,i)=>jO(n,i))}},Bw=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){$e(e.mutations.length===i.length);let r=function(){return X8}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var jw=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Uw=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var yt,Ee;function c9(t){switch(t){default:return ie();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function RN(t){if(t===void 0)return ur("GRPC error has no .code"),L.UNKNOWN;switch(t){case yt.OK:return L.OK;case yt.CANCELLED:return L.CANCELLED;case yt.UNKNOWN:return L.UNKNOWN;case yt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case yt.INTERNAL:return L.INTERNAL;case yt.UNAVAILABLE:return L.UNAVAILABLE;case yt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case yt.NOT_FOUND:return L.NOT_FOUND;case yt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case yt.ABORTED:return L.ABORTED;case yt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case yt.DATA_LOSS:return L.DATA_LOSS;default:return ie()}}(Ee=yt||(yt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";var HO=null;function l9(){return new TextEncoder}var u9=new ss([4294967295,4294967295],0);function zO(t){let e=l9().encode(t),n=new tw;return n.update(e),new Uint8Array(n.digest())}function GO(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ss([n,i],0),new ss([r,s],0)]}var $w=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new yo(`Invalid padding: ${n}`);if(i<0)throw new yo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new yo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ss.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(ss.fromNumber(i)));return r.compare(u9)===1&&(r=new ss([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=zO(e),[i,r]=GO(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=zO(e),[i,r]=GO(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},yo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Yp=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(ue.min(),r,new ct(Ae),hr(),ye())}},Cu=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,ye(),ye(),ye())}};var Wa=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},Qp=class{constructor(e,n){this.targetId=e,this.me=n}},Jp=class{constructor(e,n,i=on.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Xp=class{constructor(){this.fe=0,this.ge=WO(),this.pe=on.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ye(),n=ye(),i=ye();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ie()}}),new Cu(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=WO()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Hw=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=hr(),this.qe=qO(),this.Qe=new ct(Ae)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let s=r.target;if(Nw(s))if(i===0){let o=new Z(s.path);this.Ue(n,o,Qn.newNoDocument(o,ue.min()))}else $e(i===1);else{let o=this.Ye(n);if(o!==i){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}HO?.et(function(d,h,f,g,_){var y,v,A,x,O,N;let k={localCacheCount:d,existenceFilterCount:h.count,databaseId:f.database,projectId:f.projectId},P=h.unchangedNames;return P&&(k.bloomFilter={applied:_===0,hashCount:(y=P?.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(x=(A=(v=P?.bits)===null||v===void 0?void 0:v.bitmap)===null||A===void 0?void 0:A.length)!==null&&x!==void 0?x:0,padding:(N=(O=P?.bits)===null||O===void 0?void 0:O.padding)!==null&&N!==void 0?N:0,mightContain:E=>{var b;return(b=g?.mightContain(E))!==null&&b!==void 0&&b}}),k}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=as(i).toUint8Array()}catch(c){if(c instanceof Gp)return Qa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new $w(o,r,s)}catch(c){return Qa(c instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Nw(a.target)){let c=new Z(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Qn.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let i=ye();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new Yp(e,n,this.Qe,this.ke,i);return this.ke=hr(),this.qe=qO(),this.Qe=new ct(Ae),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xp,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Qt(Ae),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function qO(){return new ct(Z.comparator)}function WO(){return new ct(Z.comparator)}var d9={asc:"ASCENDING",desc:"DESCENDING"},h9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f9={and:"AND",or:"OR"},zw=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Gw(t,e){return t.useProto3Json||yg(e)?e:{value:e}}function Zp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ON(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function p9(t,e){return Zp(t,e.toTimestamp())}function Si(t){return $e(!!t),ue.fromTimestamp(function(n){let i=dr(n);return new Vt(i.seconds,i.nanos)}(t))}function eE(t,e){return qw(t,e).canonicalString()}function qw(t,e){let n=function(r){return new tt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NN(t){let e=tt.fromString(t);return $e(VN(e)),e}function Ww(t,e){return eE(t.databaseId,e.path)}function cw(t,e){let n=NN(e);if(n.get(1)!==t.databaseId.projectId)throw new G(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(kN(n))}function PN(t,e){return eE(t.databaseId,e)}function g9(t){let e=NN(t);return e.length===4?tt.emptyPath():kN(e)}function Kw(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kN(t){return $e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function KO(t,e,n){return{name:Ww(t,e),fields:n.value.mapValue.fields}}function m9(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(l,d){return l.useProto3Json?($e(d===void 0||typeof d=="string"),on.fromBase64String(d||"")):($e(d===void 0||d instanceof Buffer||d instanceof Uint8Array),on.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let d=l.code===void 0?L.UNKNOWN:RN(l.code);return new G(d,l.message||"")}(o);n=new Jp(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=cw(t,i.document.name),s=Si(i.document.updateTime),o=i.document.createTime?Si(i.document.createTime):ue.min(),a=new Yn({mapValue:{fields:i.document.fields}}),c=Qn.newFoundDocument(r,s,o,a),l=i.targetIds||[],d=i.removedTargetIds||[];n=new Wa(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=cw(t,i.document),s=i.readTime?Si(i.readTime):ue.min(),o=Qn.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Wa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=cw(t,i.document),s=i.removedTargetIds||[];n=new Wa([],s,r,null)}else{if(!("filter"in e))return ie();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new Uw(r,s),a=i.targetId;n=new Qp(a,o)}}return n}function _9(t,e){let n;if(e instanceof So)n={update:KO(t,e.key,e.value)};else if(e instanceof Kp)n={delete:Ww(t,e.key)};else if(e instanceof fr)n={update:KO(t,e.key,e.data),updateMask:C9(e.fieldMask)};else{if(!(e instanceof Lw))return ie();n={verify:Ww(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof nc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof To)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Co)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ic)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ie()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:p9(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie()}(t,e.precondition)),n}function y9(t,e){return t&&t.length>0?($e(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Si(r.updateTime):Si(s);return o.isEqual(ue.min())&&(o=Si(s)),new Fw(o,r.transformResults||[])}(n,e))):[]}function v9(t,e){return{documents:[PN(t,e.path)]}}function b9(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=PN(t,r);let s=function(l){if(l.length!==0)return LN(Jn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(d=>function(f){return{field:za(f.field),direction:E9(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Gw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:r}}function w9(t){let e=g9(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){$e(i===1);let d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){let f=FN(h);return f instanceof Jn&&fN(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(_){return new Do(Ga(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,yg(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){let f=!!h.before,g=h.values||[];return new ec(g,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){let f=!h.before,g=h.values||[];return new ec(g,f)}(n.endAt)),W8(e,r,o,s,a,"F",c,l)}function I9(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Ga(n.unaryFilter.field);return bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Ga(n.unaryFilter.field);return bt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ga(n.unaryFilter.field);return bt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ga(n.unaryFilter.field);return bt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return bt.create(Ga(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(i=>FN(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function E9(t){return d9[t]}function D9(t){return h9[t]}function T9(t){return f9[t]}function za(t){return{fieldPath:t.canonicalString()}}function Ga(t){return Sn.fromServerFormat(t.fieldPath)}function LN(t){return t instanceof bt?function(n){if(n.op==="=="){if(PO(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(NO(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PO(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(NO(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:D9(n.op),value:n.value}}}(t):t instanceof Jn?function(n){let i=n.getFilters().map(r=>LN(r));return i.length===1?i[0]:{compositeFilter:{op:T9(n.op),filters:i}}}(t):ie()}function C9(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Su=class t{constructor(e,n,i,r,s=ue.min(),o=ue.min(),a=on.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Yw=class{constructor(e){this.ct=e}};function S9(t){let e=w9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kw(e,e.limit,"L"):e}var eg=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(at(e.integerValue));else if("doubleValue"in e){let i=at(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Eu(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"&&(i=dr(i)),n.At(`${i.seconds||""}`),n.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(as(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?uN(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):ie()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),Z.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};eg.bt=new eg;var Qw=class{constructor(){this._n=new Jw}addToCollectionParentIndex(e,n){return this._n.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Io.min())}updateCollectionGroup(e,n,i){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}},Jw=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Qt(tt.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Qt(tt.comparator)).toArray()}};var Vpe=new Uint8Array(0);var Ei=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ei.DEFAULT_COLLECTION_PERCENTILE=10,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ei.DEFAULT=new Ei(41943040,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ei.DISABLED=new Ei(-1,0,0);var Au=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Xw=class{constructor(){this.changes=new ls(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?B.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Zw=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var eI=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Iu(i.mutation,r,Di.empty(),Vt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ye()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ye()){let r=_o();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=yu();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=_o();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ye()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=hr(),o=wu(),a=function(){return wu()}();return n.forEach((c,l)=>{let d=i.get(l.key);r.has(l.key)&&(d===void 0||d.mutation instanceof fr)?s=s.insert(l.key,l):d!==void 0?(o.set(l.key,d.mutation.getFieldMask()),Iu(d.mutation,l,d.mutation.getFieldMask(),Vt.now())):o.set(l.key,Di.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,d)=>o.set(l,d)),n.forEach((l,d)=>{var h;return a.set(l,new Zw(d,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let i=wu(),r=new ct((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let d=i.get(c)||Di.empty();d=a.applyToLocalView(l,d),i.set(c,d);let h=(r.get(a.batchId)||ye()).add(c);r=r.insert(a.batchId,h)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,h=IN();d.forEach(f=>{if(!s.has(f)){let g=xN(n.get(f),i.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return B.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_N(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):B.resolve(_o()),a=-1,c=s;return o.next(l=>B.forEach(l,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,ye())).next(d=>({batchId:a,changes:wN(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(i=>{let r=yu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=yu();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,c=>{let l=function(h,f){return new cs(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((c,l)=>{let d=l.getKey();o.get(d)===null&&(o=o.insert(d,Qn.newInvalidDocument(d)))});let a=yu();return o.forEach((c,l)=>{let d=s.get(c);d!==void 0&&Iu(d.mutation,l,Di.empty(),Vt.now()),bg(n,l)&&(a=a.insert(c,l))}),a})}};var tI=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return B.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Si(r.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:S9(r.bundledQuery),readTime:Si(r.readTime)}}(n)),B.resolve()}};var nI=class{constructor(){this.overlays=new ct(Z.comparator),this.hr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){let i=_o();return B.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),B.resolve()}getOverlaysForCollection(e,n,i){let r=_o(),s=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return B.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new ct((l,d)=>l-d),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>i){let d=s.get(l.largestBatchId);d===null&&(d=_o(),s=s.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=_o(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=r)););return B.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new jw(n,i));let s=this.hr.get(n);s===void 0&&(s=ye(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}};var xu=class{constructor(){this.Pr=new Qt(vt.Ir),this.Tr=new Qt(vt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new vt(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new vt(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new Z(new tt([])),i=new vt(n,e),r=new vt(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new Z(new tt([])),i=new vt(n,e),r=new vt(n,e+1),s=ye();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new vt(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},vt=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Z.comparator(e.key,n.key)||Ae(e.pr,n.pr)}static Er(e,n){return Ae(e.pr,n.pr)||Z.comparator(e.key,n.key)}};var iI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Qt(vt.Ir)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Vw(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.wr=this.wr.add(new vt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),s=r<0?0:r;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new vt(n,0),r=new vt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{let a=this.Sr(o.pr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Qt(Ae);return n.forEach(r=>{let s=new vt(r,0),o=new vt(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),B.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;Z.isDocumentKey(s)||(s=s.child(""));let o=new vt(new Z(s),0),a=new Qt(Ae);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.pr)),!0)},o),B.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){$e(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return B.forEach(n.mutations,r=>{let s=new vt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new vt(n,0),r=this.wr.firstAfterOrEqual(i);return B.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var rI=class{constructor(e){this.vr=e,this.docs=function(){return new ct(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return B.resolve(i?i.document.mutableCopy():Qn.newInvalidDocument(n))}getEntries(e,n){let i=hr();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Qn.newInvalidDocument(r))}),B.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=hr(),o=n.path,a=new Z(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||L8(F8(d),i)<=0||(r.has(d.key)||bg(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,i,r){ie()}Fr(e,n){return B.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new sI(this)}getSize(e){return B.resolve(this.size)}},sI=class extends Xw{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),B.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var oI=class{constructor(e){this.persistence=e,this.Mr=new ls(n=>JI(n),XI),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Or=0,this.Nr=new xu,this.targetCount=0,this.Lr=Au.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),B.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Au(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.qn(n),B.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),B.waitFor(s).next(()=>r)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return B.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),B.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),B.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return B.resolve(i)}containsKey(e,n){return B.resolve(this.Nr.containsKey(n))}};var aI=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new cN(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new oI(this),this.indexManager=new Qw,this.remoteDocumentCache=function(r){return new rI(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new Yw(n),this.$r=new tI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new iI(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){K("MemoryPersistence","Starting transaction:",e);let r=new cI(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return B.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},cI=class extends bw{constructor(e){super(),this.currentSequenceNumber=e}},lI=class t{constructor(e){this.persistence=e,this.zr=new xu,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw ie()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),B.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),B.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Jr,i=>{let r=Z.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,ue.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return B.or([()=>B.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var uI=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=ye(),r=ye();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var dI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var hI=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return pR()?8:B8(Dt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new dI;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(_u()<=_e.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),B.resolve()):(_u()<=_e.DEBUG&&K("QueryEngine","Query:",Ha(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(_u()<=_e.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):B.resolve())}ji(e,n){if(VO(n))return B.resolve(null);let i=Ci(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=kw(n,null,"F"),i=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=ye(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,o,c.readTime)?this.ji(e,kw(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,i,r){return VO(n)||r.isEqual(ue.min())?B.resolve(null):this.zi.getDocuments(e,i).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,i,r)?B.resolve(null):(_u()<=_e.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ha(n)),this.es(e,o,n,k8(r,-1)).next(a=>a))})}Zi(e,n){let i=new Qt(vN(e));return n.forEach((r,s)=>{bg(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return _u()<=_e.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Ha(n)),this.zi.getDocumentsMatchingQuery(e,n,Io.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var fI=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new ct(Ae),this.rs=new ls(s=>JI(s),XI),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eI(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function A9(t,e,n,i){return new fI(t,e,n,i)}function BN(t,e){return C(this,null,function*(){let n=ae(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=ye();for(let l of r){o.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of s){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(i,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function x9(t,e){let n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){let h=l.batch,f=h.keys(),g=B.resolve();return f.forEach(_=>{g=g.next(()=>d.getEntry(c,_)).next(y=>{let v=l.docVersions.get(_);$e(v!==null),y.version.compareTo(v)<0&&(h.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),d.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=ye();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function jN(t){let e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function M9(t,e){let n=ae(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((d,h)=>{let f=r.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(on.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,i)),r=r.insert(h,g),function(y,v,A){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(f,g,d)&&a.push(n.Qr.updateTargetData(s,g))});let c=hr(),l=ye();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(R9(s,o,e.documentUpdates).next(d=>{c=d.cs,l=d.ls})),!i.isEqual(ue.min())){let d=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ns=r,s))}function R9(t,e,n){let i=ye(),r=ye();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=hr();return n.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(ue.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:r}})}function O9(t,e){let n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function N9(t,e){let n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,B.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new Su(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function pI(t,e,n){return C(this,null,function*(){let i=ae(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!ku(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function YO(t,e,n){let i=ae(t),r=ue.min(),s=ye();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,d){let h=ae(c),f=h.rs.get(d);return f!==void 0?B.resolve(h.ns.get(f)):h.Qr.getTargetData(l,d)}(i,o,Ci(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:ue.min(),n?s:ye())).next(a=>(P9(i,Y8(e),a),{documents:a,hs:s})))}function P9(t,e,n){let i=t.ss.get(e)||ue.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}var tg=class{constructor(){this.activeTargetIds=t9()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var gI=class{constructor(){this.no=new tg,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new tg,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var mI=class{io(e){}shutdown(){}};var ng=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Vp=null;function lw(){return Vp===null?Vp=function(){return 268435456+Math.round(2147483648*Math.random())}():Vp++,"0x"+Vp.toString(16)}var k9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var _I=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var Yt="WebChannelConnection",yI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(n,i,r,s,o){let a=lw(),c=this.vo(n,i.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(n,c,l,r).then(d=>(K("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Qa("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",r),d})}xo(n,i,r,s,o,a){return this.Co(n,i,r,s,o)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}vo(n,i){let r=k9[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){let s=lw();return new Promise((o,a)=>{let c=new nw;c.setWithCredentials(!0),c.listenOnce(rw.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case mu.NO_ERROR:let d=c.getResponseJson();K(Yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case mu.TIMEOUT:K(Yt,`RPC '${e}' ${s} timed out`),a(new G(L.DEADLINE_EXCEEDED,"Request time out"));break;case mu.HTTP_ERROR:let h=c.getStatus();if(K(Yt,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);let g=f?.error;if(g&&g.status&&g.message){let _=function(v){let A=v.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(A)>=0?A:L.UNKNOWN}(g.status);a(new G(_,g.message))}else a(new G(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new G(L.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{K(Yt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(r);K(Yt,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",l,i,15)})}Oo(e,n,i){let r=lw(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=aw(),a=ow(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new iw({})),this.Fo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let d=s.join("");K(Yt,`Creating RPC '${e}' stream ${r}: ${d}`,c);let h=o.createWebChannel(d,c),f=!1,g=!1,_=new _I({lo:v=>{g?K(Yt,`Not sending because RPC '${e}' stream ${r} is closed:`,v):(f||(K(Yt,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),K(Yt,`RPC '${e}' stream ${r} sending:`,v),h.send(v))},ho:()=>h.close()}),y=(v,A,x)=>{v.listen(A,O=>{try{x(O)}catch(N){setTimeout(()=>{throw N},0)}})};return y(h,$a.EventType.OPEN,()=>{g||(K(Yt,`RPC '${e}' stream ${r} transport opened.`),_.mo())}),y(h,$a.EventType.CLOSE,()=>{g||(g=!0,K(Yt,`RPC '${e}' stream ${r} transport closed`),_.po())}),y(h,$a.EventType.ERROR,v=>{g||(g=!0,Qa(Yt,`RPC '${e}' stream ${r} transport errored:`,v),_.po(new G(L.UNAVAILABLE,"The operation could not be completed")))}),y(h,$a.EventType.MESSAGE,v=>{var A;if(!g){let x=v.data[0];$e(!!x);let O=x,N=O.error||((A=O[0])===null||A===void 0?void 0:A.error);if(N){K(Yt,`RPC '${e}' stream ${r} received error:`,N);let k=N.status,P=function(I){let T=yt[I];if(T!==void 0)return RN(T)}(k),E=N.message;P===void 0&&(P=L.INTERNAL,E="Unknown error status: "+k+" with message "+N.message),g=!0,_.po(new G(P,E)),h.close()}else K(Yt,`RPC '${e}' stream ${r} received:`,x),_.yo(x)}}),y(a,sw.STAT_EVENT,v=>{v.stat===Fp.PROXY?K(Yt,`RPC '${e}' stream ${r} detected buffering proxy`):v.stat===Fp.NOPROXY&&K(Yt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}};function uw(){return typeof document<"u"?document:null}function wg(t){return new zw(t,!0)}var ig=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&K("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var rg=class{constructor(e,n,i,r,s,o,a,c){this.oi=e,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ig(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return C(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return C(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return C(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{let r=new G(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){let i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>C(this,null,function*(){this.state=0,this.start()}))}c_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},vI=class extends rg{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=m9(this.serializer,e),i=function(s){if(!("targetChange"in s))return ue.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Si(o.readTime):ue.min()}(e);return this.listener.h_(n,i)}P_(e){let n={};n.database=Kw(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Nw(c)?{documents:v9(s,c)}:{query:b9(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ON(s,o.resumeToken);let l=Gw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=Zp(s,o.snapshotVersion.toTimestamp());let l=Gw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=I9(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){let n={};n.database=Kw(this.serializer),n.removeTarget=e,this.i_(n)}},bI=class extends rg{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if($e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=y9(e.writeResults,e.commitTime),i=Si(e.commitTime);return this.listener.A_(i,n)}return $e(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=Kw(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>_9(this.serializer,i))};this.i_(n)}};var wI=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new G(L.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,qw(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(L.UNKNOWN,s.toString())})}xo(e,n,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,qw(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(L.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},II=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ur(n),this.y_=!1):K("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var EI=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(()=>C(this,null,function*(){xo(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(c){return C(this,null,function*(){let l=ae(c);l.M_.add(4),yield Fu(l),l.N_.set("Unknown"),l.M_.delete(4),yield Ig(l)})}(this))}))}),this.N_=new II(i,r)}};function Ig(t){return C(this,null,function*(){if(xo(t))for(let e of t.x_)yield e(!0)})}function Fu(t){return C(this,null,function*(){for(let e of t.x_)yield e(!1)})}function UN(t,e){let n=ae(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),rE(n)?iE(n):uc(n).Xo()&&nE(n,e))}function tE(t,e){let n=ae(t),i=uc(n);n.F_.delete(e),i.Xo()&&$N(n,e),n.F_.size===0&&(i.Xo()?i.n_():xo(n)&&n.N_.set("Unknown"))}function nE(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uc(t).P_(e)}function $N(t,e){t.L_.xe(e),uc(t).I_(e)}function iE(t){t.L_=new Hw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),uc(t).start(),t.N_.w_()}function rE(t){return xo(t)&&!uc(t).Zo()&&t.F_.size>0}function xo(t){return ae(t).M_.size===0}function HN(t){t.L_=void 0}function F9(t){return C(this,null,function*(){t.N_.set("Online")})}function L9(t){return C(this,null,function*(){t.F_.forEach((e,n)=>{nE(t,e)})})}function V9(t,e){return C(this,null,function*(){HN(t),rE(t)?(t.N_.D_(e),iE(t)):t.N_.set("Unknown")})}function B9(t,e,n){return C(this,null,function*(){if(t.N_.set("Online"),e instanceof Jp&&e.state===2&&e.cause)try{yield function(r,s){return C(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))})}(t,e)}catch(i){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield sg(t,i)}else if(e instanceof Wa?t.L_.Ke(e):e instanceof Qp?t.L_.He(e):t.L_.We(e),!n.isEqual(ue.min()))try{let i=yield jN(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.F_.get(l);d&&s.F_.set(l,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let d=s.F_.get(c);if(!d)return;s.F_.set(c,d.withResumeToken(on.EMPTY_BYTE_STRING,d.snapshotVersion)),$N(s,c);let h=new Su(d.target,c,l,d.sequenceNumber);nE(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){K("RemoteStore","Failed to raise snapshot:",i),yield sg(t,i)}})}function sg(t,e,n){return C(this,null,function*(){if(!ku(e))throw e;t.M_.add(1),yield Fu(t),t.N_.set("Offline"),n||(n=()=>jN(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Ig(t)}))})}function zN(t,e){return e().catch(n=>sg(t,n,e))}function Eg(t){return C(this,null,function*(){let e=ae(t),n=us(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;j9(e);)try{let r=yield O9(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,U9(e,r)}catch(r){yield sg(e,r)}GN(e)&&qN(e)})}function j9(t){return xo(t)&&t.v_.length<10}function U9(t,e){t.v_.push(e);let n=us(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function GN(t){return xo(t)&&!us(t).Zo()&&t.v_.length>0}function qN(t){us(t).start()}function $9(t){return C(this,null,function*(){us(t).V_()})}function H9(t){return C(this,null,function*(){let e=us(t);for(let n of t.v_)e.d_(n.mutations)})}function z9(t,e,n){return C(this,null,function*(){let i=t.v_.shift(),r=Bw.from(i,e,n);yield zN(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Eg(t)})}function G9(t,e){return C(this,null,function*(){e&&us(t).E_&&(yield function(i,r){return C(this,null,function*(){if(function(o){return c9(o)&&o!==L.ABORTED}(r.code)){let s=i.v_.shift();us(i).t_(),yield zN(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Eg(i)}})}(t,e)),GN(t)&&qN(t)})}function QO(t,e){return C(this,null,function*(){let n=ae(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let i=xo(n);n.M_.add(3),yield Fu(n),i&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Ig(n)})}function q9(t,e){return C(this,null,function*(){let n=ae(t);e?(n.M_.delete(2),yield Ig(n)):e||(n.M_.add(2),yield Fu(n),n.N_.set("Unknown"))})}function uc(t){return t.B_||(t.B_=function(n,i,r){let s=ae(n);return s.f_(),new vI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:F9.bind(null,t),To:L9.bind(null,t),Ao:V9.bind(null,t),h_:B9.bind(null,t)}),t.x_.push(e=>C(this,null,function*(){e?(t.B_.t_(),rE(t)?iE(t):t.N_.set("Unknown")):(yield t.B_.stop(),HN(t))}))),t.B_}function us(t){return t.k_||(t.k_=function(n,i,r){let s=ae(n);return s.f_(),new bI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:$9.bind(null,t),Ao:G9.bind(null,t),R_:H9.bind(null,t),A_:z9.bind(null,t)}),t.x_.push(e=>C(this,null,function*(){e?(t.k_.t_(),yield Eg(t)):(yield t.k_.stop(),t.v_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var DI=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function sE(t,e){if(ur("AsyncQueue",`${e}: ${t}`),ku(t))return new G(L.UNAVAILABLE,`${e}: ${t}`);throw t}var og=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Z.comparator(n.key,i.key):(n,i)=>Z.comparator(n.key,i.key),this.keyedMap=yu(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var ag=class{constructor(){this.q_=new ct(Z.comparator)}track(e){let n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ie():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}},sc=class t{constructor(e,n,i,r,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,og.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var TI=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},CI=class{constructor(){this.queries=new ls(e=>yN(e),vg),this.onlineState="Unknown",this.z_=new Set}};function W9(t,e){return C(this,null,function*(){let n=ae(t),i=3,r=e.query,s=n.queries.get(r);s?!s.W_()&&e.G_()&&(i=2):(s=new TI,i=e.G_()?0:1);try{switch(i){case 0:s.K_=yield n.onListen(r,!0);break;case 1:s.K_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(o){let a=sE(o,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&oE(n)})}function K9(t,e){return C(this,null,function*(){let n=ae(t),i=e.query,r=3,s=n.queries.get(i);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function Y9(t,e){let n=ae(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(r)&&(i=!0);o.K_=r}}i&&oE(n)}function Q9(t,e,n){let i=ae(t),r=i.queries.get(e);if(r)for(let s of r.U_)s.onError(n);i.queries.delete(e)}function oE(t){t.z_.forEach(e=>{e.next()})}var SI,JO;(JO=SI||(SI={})).J_="default",JO.Cache="cache";var AI=class{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new sc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==SI.Cache}};var cg=class{constructor(e){this.key=e}},lg=class{constructor(e){this.key=e}},xI=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ye(),this.mutatedKeys=ye(),this.Ia=vN(e),this.Ta=new og(this.Ia)}get Ea(){return this.la}da(e,n){let i=n?n.Aa:new ag,r=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,h)=>{let f=r.get(d),g=bg(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),v=!1;f&&g?f.data.isEqual(g.data)?_!==y&&(i.track({type:3,doc:g}),v=!0):this.Ra(f,g)||(i.track({type:2,doc:g}),v=!0,(c&&this.Ia(g,c)>0||l&&this.Ia(g,l)<0)&&(a=!0)):!f&&g?(i.track({type:0,doc:g}),v=!0):f&&!g&&(i.track({type:1,doc:f}),v=!0,(c||l)&&(a=!0)),v&&(g?(o=o.add(g),s=y?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ta:o,Aa:i,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((d,h)=>function(g,_){let y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return y(g)-y(_)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(i),r=r!=null&&r;let a=n&&!r?this.ma():[],c=this.Pa.size===0&&this.current&&!r?1:0,l=c!==this.ha;return this.ha=c,o.length!==0||l?{snapshot:new sc(this.query,e.Ta,s,o,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new ag,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=ye(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new lg(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new cg(i))}),n}pa(e){this.la=e.hs,this.Pa=ye();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return sc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},MI=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},RI=class{constructor(e){this.key=e,this.wa=!1}},OI=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new ls(a=>yN(a),vg),this.Da=new Map,this.Ca=new Set,this.va=new ct(Z.comparator),this.Fa=new Map,this.Ma=new xu,this.xa={},this.Oa=new Map,this.Na=Au.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function J9(t,e,n=!0){return C(this,null,function*(){let i=XN(t),r,s=i.ba.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield WN(i,e,n,!0),r})}function X9(t,e){return C(this,null,function*(){let n=XN(t);yield WN(n,e,!0,!1)})}function WN(t,e,n,i){return C(this,null,function*(){let r=yield N9(t.localStore,Ci(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield Z9(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&UN(t.remoteStore,r),a})}function Z9(t,e,n,i,r){return C(this,null,function*(){t.Ba=(h,f,g)=>function(y,v,A,x){return C(this,null,function*(){let O=v.view.da(A);O.Xi&&(O=yield YO(y.localStore,v.query,!1).then(({documents:E})=>v.view.da(E,O)));let N=x&&x.targetChanges.get(v.targetId),k=x&&x.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(O,y.isPrimaryClient,N,k);return ZO(y,v.targetId,P.fa),P.snapshot})}(t,h,f,g);let s=yield YO(t.localStore,e,!0),o=new xI(e,s.hs),a=o.da(s.documents),c=Cu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),l=o.applyChanges(a,t.isPrimaryClient,c);ZO(t,n,l.fa);let d=new MI(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),l.snapshot})}function e7(t,e,n){return C(this,null,function*(){let i=ae(t),r=i.ba.get(e),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter(o=>!vg(o,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pI(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&tE(i.remoteStore,r.targetId),NI(i,r.targetId)}).catch(Pu))):(NI(i,r.targetId),yield pI(i.localStore,r.targetId,!0))})}function t7(t,e){return C(this,null,function*(){let n=ae(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),tE(n.remoteStore,i.targetId))})}function n7(t,e,n){return C(this,null,function*(){let i=l7(t);try{let r=yield function(o,a){let c=ae(o),l=Vt.now(),d=a.reduce((g,_)=>g.add(_.key),ye()),h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=hr(),y=ye();return c.os.getEntries(g,d).next(v=>{_=v,_.forEach((A,x)=>{x.isValidDocument()||(y=y.add(A))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,_)).next(v=>{h=v;let A=[];for(let x of a){let O=a9(x,h.get(x.key).overlayedDocument);O!=null&&A.push(new fr(x.key,O,dN(O.value.mapValue),bo.exists(!0)))}return c.mutationQueue.addMutationBatch(g,l,A,a)}).next(v=>{f=v;let A=v.applyToLocalDocumentSet(h,y);return c.documentOverlayCache.saveOverlays(g,v.batchId,A)})}).then(()=>({batchId:f.batchId,changes:wN(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let l=o.xa[o.currentUser.toKey()];l||(l=new ct(Ae)),l=l.insert(a,c),o.xa[o.currentUser.toKey()]=l}(i,r.batchId,n),yield Lu(i,r.changes),yield Eg(i.remoteStore)}catch(r){let s=sE(r,"Failed to persist write");n.reject(s)}})}function KN(t,e){return C(this,null,function*(){let n=ae(t);try{let i=yield M9(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Fa.get(s);o&&($e(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?$e(o.wa):r.removedDocuments.size>0&&($e(o.wa),o.wa=!1))}),yield Lu(n,i,e)}catch(i){yield Pu(i)}})}function XO(t,e,n){let i=ae(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=ae(o);c.onlineState=a;let l=!1;c.queries.forEach((d,h)=>{for(let f of h.U_)f.j_(a)&&(l=!0)}),l&&oE(c)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function i7(t,e,n){return C(this,null,function*(){let i=ae(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Fa.get(e),s=r&&r.key;if(s){let o=new ct(Z.comparator);o=o.insert(s,Qn.newNoDocument(s,ue.min()));let a=ye().add(s),c=new Yp(ue.min(),new Map,new ct(Ae),o,a);yield KN(i,c),i.va=i.va.remove(s),i.Fa.delete(e),aE(i)}else yield pI(i.localStore,e,!1).then(()=>NI(i,e,n)).catch(Pu)})}function r7(t,e){return C(this,null,function*(){let n=ae(t),i=e.batch.batchId;try{let r=yield x9(n.localStore,e);QN(n,i,null),YN(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Lu(n,r)}catch(r){yield Pu(r)}})}function s7(t,e,n){return C(this,null,function*(){let i=ae(t);try{let r=yield function(o,a){let c=ae(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>($e(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(i.localStore,e);QN(i,e,n),YN(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Lu(i,r)}catch(r){yield Pu(r)}})}function YN(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function QN(t,e,n){let i=ae(t),r=i.xa[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function NI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||JN(t,i)})}function JN(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(tE(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),aE(t))}function ZO(t,e,n){for(let i of n)i instanceof cg?(t.Ma.addReference(i.key,e),o7(t,i)):i instanceof lg?(K("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||JN(t,i.key)):ie()}function o7(t,e){let n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(K("SyncEngine","New document in limbo: "+n),t.Ca.add(i),aE(t))}function aE(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new Z(tt.fromString(e)),i=t.Na.next();t.Fa.set(i,new RI(n)),t.va=t.va.insert(n,i),UN(t.remoteStore,new Su(Ci(ZI(n.path)),i,"TargetPurposeLimboResolution",cN.oe))}}function Lu(t,e,n){return C(this,null,function*(){let i=ae(t),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,c)=>{o.push(i.Ba(c,e,n).then(l=>{if((l||n)&&i.isPrimaryClient){let d=l&&!l.fromCache;i.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(l){r.push(l);let d=uI.Ki(c.targetId,l);s.push(d)}}))}),yield Promise.all(o),i.Sa.h_(r),yield function(c,l){return C(this,null,function*(){let d=ae(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(l,f=>B.forEach(f.qi,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>B.forEach(f.Qi,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!ku(h))throw h;K("LocalStore","Failed to update sequence numbers: "+h)}for(let h of l){let f=h.targetId;if(!h.fromCache){let g=d.ns.get(f),_=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(_);d.ns=d.ns.insert(f,y)}}})}(i.localStore,s))})}function a7(t,e){return C(this,null,function*(){let n=ae(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let i=yield BN(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new G(L.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Lu(n,i.us)}})}function c7(t,e){let n=ae(t),i=n.Fa.get(e);if(i&&i.wa)return ye().add(i.key);{let r=ye(),s=n.Da.get(e);if(!s)return r;for(let o of s){let a=n.ba.get(o);r=r.unionWith(a.view.Ea)}return r}}function XN(t){let e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i7.bind(null,e),e.Sa.h_=Y9.bind(null,e.eventManager),e.Sa.ka=Q9.bind(null,e.eventManager),e}function l7(t){let e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s7.bind(null,e),e}var ug=class{constructor(){this.synchronizeTabs=!1}initialize(e){return C(this,null,function*(){this.serializer=wg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return A9(this.persistence,new hI,e.initialUser,this.serializer)}createPersistence(e){return new aI(lI.Hr,this.serializer)}createSharedClientState(e){return new gI}terminate(){return C(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var PI=class{initialize(e,n){return C(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>XO(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=a7.bind(null,this.syncEngine),yield q9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new CI}()}createDatastore(e){let n=wg(e.databaseInfo.databaseId),i=function(s){return new yI(s)}(e.databaseInfo);return function(s,o,a,c){return new wI(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new EI(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>XO(this.syncEngine,n,0),function(){return ng.D()?new ng:new mI}())}createSyncEngine(e,n){return function(r,s,o,a,c,l,d){let h=new OI(r,s,o,a,c,l);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return C(this,null,function*(){var e;yield function(i){return C(this,null,function*(){let r=ae(i);K("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Fu(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var kI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var FI=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Rt.UNAUTHENTICATED,this.clientId=$p.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>C(this,null,function*(){K("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=sE(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function dw(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>C(this,null,function*(){i.isEqual(r)||(yield BN(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function eN(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield d7(t);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>QO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>QO(e.remoteStore,r)),t._onlineComponents=e})}function u7(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function d7(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dw(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!u7(n))throw n;Qa("Error using user provided cache. Falling back to memory cache: "+n),yield dw(t,new ug)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield dw(t,new ug);return t._offlineComponents})}function ZN(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield eN(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield eN(t,new PI))),t._onlineComponents})}function h7(t){return ZN(t).then(e=>e.syncEngine)}function tN(t){return C(this,null,function*(){let e=yield ZN(t),n=e.eventManager;return n.onListen=J9.bind(null,e.syncEngine),n.onUnlisten=e7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=X9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t7.bind(null,e.syncEngine),n})}function eP(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var nN=new Map;function tP(t,e,n){if(!n)throw new G(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function f7(t,e,n,i){if(e===!0&&i===!0)throw new G(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iN(t){if(!Z.isDocumentKey(t))throw new G(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rN(t){if(Z.isDocumentKey(t))throw new G(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function Ka(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Dg(t);throw new G(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var dg=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new G(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eP((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},oc=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dg(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new hw;switch(i.type){case"firstParty":return new mw(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new G(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=nN.get(n);i&&(K("ComponentProvider","Removing Datastore"),nN.delete(n),i.terminate())}(this),Promise.resolve()}};function nP(t,e,n,i={}){var r;let s=(t=Ka(t,oc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=Rt.MOCK_USER;else{a=cp(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new G(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Rt(l)}t._authCredentials=new fw(new Up(a,c))}}var Ao=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},fn=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},os=class t extends Ao{constructor(e,n,i){super(e,n,ZI(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function iP(t,e,...n){if(t=ot(t),tP("collection","path",e),t instanceof oc){let i=tt.fromString(e,...n);return rN(i),new os(t,null,i)}{if(!(t instanceof fn||t instanceof os))throw new G(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(tt.fromString(e,...n));return rN(i),new os(t.firestore,null,i)}}function rP(t,e,...n){if(t=ot(t),arguments.length===1&&(e=$p.newId()),tP("doc","path",e),t instanceof oc){let i=tt.fromString(e,...n);return iN(i),new fn(t,null,new Z(i))}{if(!(t instanceof fn||t instanceof os))throw new G(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(tt.fromString(e,...n));return iN(i),new fn(t.firestore,t instanceof os?t.converter:null,new Z(i))}}var LI=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ig(this,"async_queue_retry"),this.hu=()=>{let n=uw();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=uw();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=uw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new lr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return C(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!ku(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw ur("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let r=DI.createAndSchedule(this,e,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&ie()}verifyOperationInProgress(){}du(){return C(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function sN(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}var ac=class extends oc{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new LI}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||aP(this),this._firestoreClient.terminate()}};function sP(t,e){let n=typeof t=="object"?t:Xr(),i=typeof t=="string"?t:e||"(default)",r=ao(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=ap("firestore");s&&nP(r,...s)}return r}function oP(t){return t._firestoreClient||aP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function aP(t){var e,n,i;let r=t._freezeSettings(),s=function(a,c,l,d){return new ww(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,eP(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new FI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Mu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(on.fromBase64String(e))}catch(n){throw new G(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ru=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var hg=class{constructor(e){this._methodName=e}};var Ou=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}};var p7=/^__.*__$/,VI=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new fr(e,this.data,this.fieldMask,n,this.fieldTransforms):new So(e,this.data,n,this.fieldTransforms)}};function cP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}var BI=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return fg(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(cP(this.fu)&&p7.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},jI=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||wg(e)}Fu(e,n,i,r=!1){return new BI({fu:e,methodName:n,vu:i,path:Sn.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function lP(t){let e=t._freezeSettings(),n=wg(t._databaseId);return new jI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function g7(t,e,n,i,r,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,r);hP("Data must be an object, but it was:",o,i);let a=uP(i,o),c,l;if(s.merge)c=new Di(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let h of s.mergeFields){let f=_7(e,h,n);if(!o.contains(f))throw new G(L.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);v7(d,f)||d.push(f)}c=new Di(d),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new VI(new Yn(a),c,l)}function m7(t,e,n,i=!1){return cE(n,t.Fu(i?4:3,e))}function cE(t,e){if(dP(t=ot(t)))return hP("Unsupported field value:",e,t),uP(t,e);if(t instanceof hg)return function(i,r){if(!cP(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=cE(a,r.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=ot(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return n9(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Vt.fromDate(i);return{timestampValue:Zp(r.serializer,s)}}if(i instanceof Vt){let s=new Vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zp(r.serializer,s)}}if(i instanceof Ou)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Mu)return{bytesValue:ON(r.serializer,i._byteString)};if(i instanceof fn){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:eE(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${Dg(i)}`)}(t,e)}function uP(t,e){let n={};return lN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lc(t,(i,r)=>{let s=cE(r,e.pu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function dP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof Ou||t instanceof Mu||t instanceof fn||t instanceof hg)}function hP(t,e,n){if(!dP(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=Dg(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function _7(t,e,n){if((e=ot(e))instanceof Ru)return e._internalPath;if(typeof e=="string")return fP(t,e);throw fg("Field path arguments must be of type string or ",t,!1,void 0,n)}var y7=new RegExp("[~\\*/\\[\\]]");function fP(t,e,n){if(e.search(y7)>=0)throw fg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ru(...e.split("."))._internalPath}catch{throw fg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fg(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new G(L.INVALID_ARGUMENT,a+t+c)}function v7(t,e){return t.some(n=>n.isEqual(e))}var pg=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new UI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(lE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},UI=class extends pg{data(){return super.data()}};function lE(t,e){return typeof e=="string"?fP(t,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}function b7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nu=class{},gg=class extends Nu{};function pP(t,e,...n){let i=[];e instanceof Nu&&i.push(e),i=i.concat(n),function(s){let o=s.filter(c=>c instanceof HI).length,a=s.filter(c=>c instanceof $I).length;if(o>1||o>0&&a>0)throw new G(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var $I=class t extends gg{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return mP(e._query,n),new Ao(e.firestore,e.converter,Pw(e._query,n))}_parse(e){let n=lP(e.firestore);return function(s,o,a,c,l,d,h){let f;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){aN(h,d);let g=[];for(let _ of h)g.push(oN(c,s,_));f={arrayValue:{values:g}}}else f=oN(c,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||aN(h,d),f=m7(a,o,h,d==="in"||d==="not-in");return bt.create(l,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var HI=class t extends Nu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let c of a)mP(o,c),o=Pw(o,c)}(e._query,n),new Ao(e.firestore,e.converter,Pw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var zI=class t extends gg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,s,o){if(r.startAt!==null)throw new G(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new G(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Do(s,o)}(e._query,this._field,this._direction);return new Ao(e.firestore,e.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new cs(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function gP(t,e="asc"){let n=e,i=lE("orderBy",t);return zI._create(i,n)}function oN(t,e,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new G(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_N(e)&&n.indexOf("/")!==-1)throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(tt.fromString(n));if(!Z.isDocumentKey(i))throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return OO(t,new Z(i))}if(n instanceof fn)return OO(t,n._key);throw new G(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dg(n)}.`)}function aN(t,e){if(!Array.isArray(t)||t.length===0)throw new G(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mP(t,e){let n=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var GI=class{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return lc(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new Ou(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=YI(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Du(e));default:return null}}convertTimestamp(e){let n=dr(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=tt.fromString(e);$e(VN(i));let r=new qp(i.get(1),i.get(3)),s=new Z(i.popFirst(5));return r.isEqual(n)||ur(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function w7(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var vo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},mg=class extends pg{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ya(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(lE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Ya=class extends mg{data(e={}){return super.data(e)}},qI=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new vo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ya(this._firestore,this._userDataWriter,i.key,i,new vo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let c=new Ya(r._firestore,r._userDataWriter,a.doc.key,a.doc,new vo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Ya(r._firestore,r._userDataWriter,a.doc.key,a.doc,new vo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,d=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:I7(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function I7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}var _g=class extends GI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}};function _P(t,e,n){t=Ka(t,fn);let i=Ka(t.firestore,ac),r=w7(t.converter,e,n);return E7(i,[g7(lP(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,bo.none())])}function uE(t,...e){var n,i,r;t=ot(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||sN(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(sN(e[o])){let h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let c,l,d;if(t instanceof fn)l=Ka(t.firestore,ac),d=ZI(t._key.path),c={next:h=>{e[o]&&e[o](D7(l,t,h))},error:e[o+1],complete:e[o+2]};else{let h=Ka(t,Ao);l=Ka(h.firestore,ac),d=h._query;let f=new _g(l);c={next:g=>{e[o]&&e[o](new qI(l,f,h,g))},error:e[o+1],complete:e[o+2]},b7(t._query)}return function(f,g,_,y){let v=new kI(y),A=new AI(g,v,_);return f.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return W9(yield tN(f),A)})),()=>{v.$a(),f.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return K9(yield tN(f),A)}))}}(oP(l),d,a,c)}function E7(t,e){return function(i,r){let s=new lr;return i.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return n7(yield h7(i),r,s)})),s.promise}(oP(t),e)}function D7(t,e,n){let i=n.docs.get(e._key),r=new _g(t);return new mg(t,r,e._key,i,new vo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){cc=r})(bi),yi(new hn("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new ac(new pw(i.getProvider("auth-internal")),new yw(i.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new G(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qp(l.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Je(xO,"4.6.3",e),Je(xO,"4.6.3","esm2017")})();var Tg=function(){return Tg=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Tg.apply(this,arguments)};var S7={includeMetadataChanges:!1};function dE(t,e){return e===void 0&&(e=S7),new re(function(n){var i=uE(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:i}})}function yP(t){return dE(t,{includeMetadataChanges:!0})}function vP(t,e){return e===void 0&&(e={}),yP(t).pipe(oe(function(n){return hE(n,e)}))}function hE(t,e){var n;e===void 0&&(e={});var i=t.data(e);return!t.exists()||typeof i!="object"||i===null||!e.idField?i:Tg(Tg({},i),(n={},n[e.idField]=t.id,n))}function bP(t){return dE(t,{includeMetadataChanges:!0}).pipe(oe(function(e){return e.docs}))}function wP(t,e){return e===void 0&&(e={}),bP(t).pipe(oe(function(n){return n.map(function(i){return hE(i,e)})}))}var Xn=class{constructor(e){return e}},IP="firestore",fE=class{constructor(){return lo(IP)}};var pE=new Y("angularfire2.firestore-instances");function A7(t,e){let n=Ba(IP,t,e);return n&&new Xn(n)}function x7(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Xn(i)}}var M7={provide:fE,deps:[[new ht,pE]]},R7={provide:Xn,useFactory:A7,deps:[[new ht,pE],Kn]};function fme(t,...e){return Je("angularfire",rr.full,"fst"),ui([R7,M7,{provide:pE,useFactory:x7(t),multi:!0,deps:[le,et,es,sr,[new ht,mo],[new ht,Zr],...e]}])}var Cg=Tt(wP,!0);var EP=Tt(vP,!0);var Vu=Tt(iP,!0);var Bu=Tt(rP,!0);var pme=Tt(sP,!0);var DP=Tt(gP,!0);var TP=Tt(pP,!0);var Sg=Tt(_P,!0);var CP={toFirestore:t=>t,fromFirestore:t=>t.data()};var Ag,O7=new Uint8Array(16);function mE(){if(!Ag&&(Ag=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ag))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ag(O7)}var Bt=[];for(let t=0;t<256;++t)Bt.push((t+256).toString(16).slice(1));function SP(t,e=0){return Bt[t[e+0]]+Bt[t[e+1]]+Bt[t[e+2]]+Bt[t[e+3]]+"-"+Bt[t[e+4]]+Bt[t[e+5]]+"-"+Bt[t[e+6]]+Bt[t[e+7]]+"-"+Bt[t[e+8]]+Bt[t[e+9]]+"-"+Bt[t[e+10]]+Bt[t[e+11]]+Bt[t[e+12]]+Bt[t[e+13]]+Bt[t[e+14]]+Bt[t[e+15]]}var N7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_E={randomUUID:N7};function P7(t,e,n){if(_E.randomUUID&&!e&&!t)return _E.randomUUID();t=t||{};let i=t.random||(t.rng||mE)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=i[r];return e}return SP(i)}var Mo=P7;var yE=function(t){return t.MULTIPLE_CHOICE="MULTIPLE_CHOICE",t}(yE||{}),xg=function(t){return t.MATH="MATH",t.ENGLISH="ENGLISH",t}(xg||{}),vE={toFirestore:t=>t,fromFirestore:t=>{let e=t.data();return e.createdAt=e.createdAt.toDate(),e}};var PP="firebasestorage.googleapis.com",kP="storageBucket",k7=2*60*1e3,F7=10*60*1e3;var lt=class t extends sn{constructor(e,n,i=0){super(bE(e),`Firebase Storage: ${n} (${bE(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},pt=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(pt||{});function bE(t){return"storage/"+t}function CE(){let t="An unknown error occurred, please check the error payload for server response.";return new lt(pt.UNKNOWN,t)}function L7(t){return new lt(pt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function V7(t){return new lt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function B7(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new lt(pt.UNAUTHENTICATED,t)}function j7(){return new lt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function U7(t){return new lt(pt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $7(){return new lt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function H7(){return new lt(pt.CANCELED,"User canceled the upload/download.")}function z7(t){return new lt(pt.INVALID_URL,"Invalid URL '"+t+"'.")}function G7(t){return new lt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function q7(){return new lt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kP+"' property when initializing the app?")}function W7(){return new lt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function K7(){return new lt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Y7(t){return new lt(pt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function wE(t){return new lt(pt.INVALID_ARGUMENT,t)}function FP(){return new lt(pt.APP_DELETED,"The Firebase app was deleted.")}function Q7(t){return new lt(pt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Uu(t,e){return new lt(pt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ju(t){throw new lt(pt.INTERNAL_ERROR,"Internal error: "+t)}var Zn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(i.path==="")return i;throw G7(e)}static makeFromUrl(e,n){let i=null,r="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),c={bucket:1,path:3};function l(N){N.path_=decodeURIComponent(N.path)}let d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${r}/o${f}`,"i"),_={bucket:1,path:3},y=n===PP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",A=new RegExp(`^https?://${y}/${r}/${v}`,"i"),O=[{regex:a,indices:c,postModify:s},{regex:g,indices:_,postModify:l},{regex:A,indices:{bucket:1,path:2},postModify:l}];for(let N=0;N<O.length;N++){let k=O[N],P=k.regex.exec(e);if(P){let E=P[k.indices.bucket],b=P[k.indices.path];b||(b=""),i=new t(E,b),k.postModify(i);break}}if(i==null)throw z7(e);return i}},IE=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function J7(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function c(){return a===2}let l=!1;function d(...v){l||(l=!0,e.apply(null,v))}function h(v){r=setTimeout(()=>{r=null,t(g,c())},v)}function f(){s&&clearTimeout(s)}function g(v,...A){if(l){f();return}if(v){f(),d.call(null,v,...A);return}if(c()||o){f(),d.call(null,v,...A);return}i<64&&(i*=2);let O;a===1?(a=2,O=0):O=(i+Math.random())*1e3,h(O)}let _=!1;function y(v){_||(_=!0,f(),!l&&(r!==null?(v||(a=2),clearTimeout(r),h(0)):v||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function X7(t){t(!1)}function Z7(t){return t!==void 0}function eK(t){return typeof t=="object"&&!Array.isArray(t)}function SE(t){return typeof t=="string"||t instanceof String}function AP(t){return AE()&&t instanceof Blob}function AE(){return typeof Blob<"u"}function xP(t,e,n,i){if(i<e)throw wE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw wE(`Invalid value for '${t}'. Expected ${n} or less.`)}function xE(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function LP(t){let e=encodeURIComponent,n="?";for(let i in t)if(t.hasOwnProperty(i)){let r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var hc=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(hc||{});function tK(t,e){let n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}var EE=class{constructor(e,n,i,r,s,o,a,c,l,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,_)=>{this.resolve_=g,this.reject_=_,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new dc(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===hc.NO_ERROR,c=s.getStatus();if(!a||tK(c,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===hc.ABORT;i(!1,new dc(!1,null,d));return}let l=this.successCodes_.indexOf(c)!==-1;i(!0,new dc(l,s))})},n=(i,r)=>{let s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());Z7(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=CE();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(r.canceled){let c=this.appDelete_?FP():H7();o(c)}else{let c=$7();o(c)}};this.canceled_?n(!1,new dc(!1,null,!0)):this.backoffId_=J7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&X7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},dc=class{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}};function nK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function iK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function sK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function oK(t,e,n,i,r,s,o=!0){let a=LP(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return rK(l,e),nK(l,n),iK(l,s),sK(l,i),new EE(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}function aK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function cK(...t){let e=aK();if(e!==void 0){let n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(AE())return new Blob(t);throw new lt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function lK(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function uK(t){if(typeof atob>"u")throw Y7("base-64");return atob(t)}var xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},$u=class{constructor(e,n){this.data=e,this.contentType=n||null}};function dK(t,e){switch(t){case xi.RAW:return new $u(VP(e));case xi.BASE64:case xi.BASE64URL:return new $u(BP(t,e));case xi.DATA_URL:return new $u(fK(e),pK(e))}throw CE()}function VP(t){let e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=i,o=t.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function hK(t){let e;try{e=decodeURIComponent(t)}catch{throw Uu(xi.DATA_URL,"Malformed data URL.")}return VP(e)}function BP(t,e){switch(t){case xi.BASE64:{let r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw Uu(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case xi.BASE64URL:{let r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw Uu(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=uK(e)}catch(r){throw r.message.includes("polyfill")?r:Uu(t,"Invalid character found")}let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}var Rg=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Uu(xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=n[1]||null;i!=null&&(this.base64=gK(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function fK(t){let e=new Rg(t);return e.base64?BP(xi.BASE64,e.rest):hK(e.rest)}function pK(t){return new Rg(t).contentType}function gK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Og=class t{constructor(e,n){let i=0,r="";AP(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(AP(this.data_)){let i=this.data_,r=lK(i,e,n);return r===null?null:new t(r)}else{let i=new Uint8Array(this.data_.buffer,e,n-e);return new t(i,!0)}}static getBlob(...e){if(AE()){let n=e.map(i=>i instanceof t?i.data_:i);return new t(cK.apply(null,n))}else{let n=e.map(o=>SE(o)?dK(xi.RAW,o).data:o.data_),i=0;n.forEach(o=>{i+=o.byteLength});let r=new Uint8Array(i),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new t(r,!0)}}uploadData(){return this.data_}};function jP(t){let e;try{e=JSON.parse(t)}catch{return null}return eK(e)?e:null}function mK(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _K(t,e){let n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function UP(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function yK(t,e){return e}var jt=class{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||yK}},Mg=null;function vK(t){return!SE(t)||t.length<2?t:UP(t)}function $P(){if(Mg)return Mg;let t=[];t.push(new jt("bucket")),t.push(new jt("generation")),t.push(new jt("metageneration")),t.push(new jt("name","fullPath",!0));function e(s,o){return vK(o)}let n=new jt("name");n.xform=e,t.push(n);function i(s,o){return o!==void 0?Number(o):o}let r=new jt("size");return r.xform=i,t.push(r),t.push(new jt("timeCreated")),t.push(new jt("updated")),t.push(new jt("md5Hash",null,!0)),t.push(new jt("cacheControl",null,!0)),t.push(new jt("contentDisposition",null,!0)),t.push(new jt("contentEncoding",null,!0)),t.push(new jt("contentLanguage",null,!0)),t.push(new jt("contentType",null,!0)),t.push(new jt("metadata","customMetadata",!0)),Mg=t,Mg}function bK(t,e){function n(){let i=t.bucket,r=t.fullPath,s=new Zn(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function wK(t,e,n){let i={};i.type="file";let r=n.length;for(let s=0;s<r;s++){let o=n[s];i[o.local]=o.xform(i,e[o.server])}return bK(i,t),i}function HP(t,e,n){let i=jP(e);return i===null?null:wK(t,i,n)}function IK(t,e,n,i){let r=jP(e);if(r===null||!SE(r.downloadTokens))return null;let s=r.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(l=>{let d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),g=xE(f,n,i),_=LP({alt:"media",token:l});return g+_})[0]}function EK(t,e){let n={},i=e.length;for(let r=0;r<i;r++){let s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var Ng=class{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function zP(t){if(!t)throw CE()}function DK(t,e){function n(i,r){let s=HP(t,r,e);return zP(s!==null),s}return n}function TK(t,e){function n(i,r){let s=HP(t,r,e);return zP(s!==null),IK(s,r,t.host,t._protocol)}return n}function GP(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=j7():r=B7():n.getStatus()===402?r=V7(t.bucket):n.getStatus()===403?r=U7(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function CK(t){let e=GP(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=L7(t.path)),s.serverResponse=r.serverResponse,s}return n}function SK(t,e,n){let i=e.fullServerUrl(),r=xE(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ng(r,s,TK(t,n),o);return a.errorHandler=CK(e),a}function AK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function xK(t,e,n){let i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=AK(null,e)),i}function MK(t,e,n,i,r){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let O="";for(let N=0;N<2;N++)O=O+Math.random().toString().slice(2);return O}let c=a();o["Content-Type"]="multipart/related; boundary="+c;let l=xK(e,i,r),d=EK(l,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,f=`\r
--`+c+"--",g=Og.getBlob(h,i,f);if(g===null)throw W7();let _={name:l.fullPath},y=xE(s,t.host,t._protocol),v="POST",A=t.maxUploadRetryTime,x=new Ng(y,v,DK(t,n),A);return x.urlParams=_,x.headers=o,x.body=g.uploadData(),x.errorHandler=GP(e),x}var Mme=256*1024;var MP=null,DE=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw ju("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(let s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ju("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ju("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ju("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ju("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},TE=class extends DE{initXhr(){this.xhr_.responseType="text"}};function qP(){return MP?MP():new TE}var fc=class t{constructor(e,n){this._service=e,n instanceof Zn?this._location=n:this._location=Zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UP(this._location.path)}get storage(){return this._service}get parent(){let e=mK(this._location.path);if(e===null)return null;let n=new Zn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Q7(e)}};function RK(t,e,n){t._throwIfRoot("uploadBytes");let i=MK(t.storage,t._location,$P(),new Og(e,!0),n);return t.storage.makeRequestWithTokens(i,qP).then(r=>({metadata:r,ref:t}))}function OK(t){t._throwIfRoot("getDownloadURL");let e=SK(t.storage,t._location,$P());return t.storage.makeRequestWithTokens(e,qP).then(n=>{if(n===null)throw K7();return n})}function NK(t,e){let n=_K(t._location.path,e),i=new Zn(t._location.bucket,n);return new fc(t.storage,i)}function PK(t){return/^[A-Za-z]+:\/\//.test(t)}function kK(t,e){return new fc(t,e)}function WP(t,e){if(t instanceof Hu){let n=t;if(n._bucket==null)throw q7();let i=new fc(n,n._bucket);return e!=null?WP(i,e):i}else return e!==void 0?NK(t,e):t}function FK(t,e){if(e&&PK(e)){if(t instanceof Hu)return kK(t,e);throw wE("To use ref(service, url), the first argument must be a Storage instance.")}else return WP(t,e)}function RP(t,e){let n=e?.[kP];return n==null?null:Zn.makeFromBucketSpec(n,t)}function LK(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:cp(r,t.app.options.projectId))}var Hu=class{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=PP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=k7,this._maxUploadRetryTime=F7,this._requests=new Set,r!=null?this._bucket=Zn.makeFromBucketSpec(r,this._host):this._bucket=RP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=RP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return C(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return C(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fc(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new IE(FP());{let o=oK(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return C(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()})}},OP="@firebase/storage",NP="0.12.5";var KP="storage";function YP(t,e,n){return t=ot(t),RK(t,e,n)}function QP(t){return t=ot(t),OK(t)}function JP(t,e){return t=ot(t),FK(t,e)}function XP(t=Xr(),e){t=ot(t);let i=ao(t,KP).getImmediate({identifier:e}),r=ap("storage");return r&&ZP(i,...r),i}function ZP(t,e,n,i={}){LK(t,e,n,i)}function VK(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Hu(n,i,r,e,bi)}function BK(){yi(new hn(KP,VK,"PUBLIC").setMultipleInstances(!0)),Je(OP,NP,""),Je(OP,NP,"esm2017")}BK();var pr=class{constructor(e){return e}},ek="storage",ME=class{constructor(){return lo(ek)}};var RE=new Y("angularfire2.storage-instances");function jK(t,e){let n=Ba(ek,t,e);return n&&new pr(n)}function UK(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new pr(i)}}var $K={provide:ME,deps:[[new ht,RE]]},HK={provide:pr,useFactory:jK,deps:[[new ht,RE],Kn]};function Xme(t,...e){return Je("angularfire",rr.full,"gcs"),ui([HK,$K,{provide:RE,useFactory:UK(t),multi:!0,deps:[le,et,es,sr,[new ht,mo],[new ht,Zr],...e]}])}var Pg=Tt(QP,!0);var Zme=Tt(XP,!0);var kg=Tt(JP,!0);var Fg=Tt(YP,!0);var ds="quiz",pc=(()=>{let e=class e{constructor(i,r){this.firestore=i,this.storage=r}createQuiz(i){return i.id=Mo(),Sg(Bu(this.firestore,ds,i.id).withConverter(vE),i)}uploadFile(i){return C(this,null,function*(){try{let r=kg(this.storage,`${ds}/${Mo()}`);return yield Fg(r,i),yield Pg(r)}catch(r){throw console.error("Error uploading file:",r),r}})}getAllQuiz(){let i=TP(Vu(this.firestore,ds).withConverter(vE),DP("createdAt","desc"));return Cg(i)}getQuizById(i){return EP(Bu(this.firestore,ds,i))}};e.\u0275fac=function(r){return new(r||e)(W(Xn),W(pr))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nk="questions",Lg=(()=>{let e=class e{constructor(i,r,s){this.firestore=i,this.storage=r,this.quizService=s}uploadFile(i){return C(this,null,function*(){try{let r=kg(this.storage,`${ds}/questions/${Mo()}`);return yield Fg(r,i),yield Pg(r)}catch(r){throw console.error("Error uploading file:",r),r}})}addQuestion(i,r){r.id=Mo();let s=Vu(this.firestore,`${ds}/${i}/${nk}`);return Sg(Bu(s,r.id),r)}getAllQuestions(i){let r=Vu(this.firestore,`${ds}/${i}/${nk}`).withConverter(CP);return Cg(r)}getQuizWithQuestions(i){return Rr({quiz:this.quizService.getQuizById(i),questions:this.getAllQuestions(i)})}};e.\u0275fac=function(r){return new(r||e)(W(Xn),W(pr),W(pc))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rk=(()=>{let e=class e{constructor(i,r){this.fb=i,this.questionService=r,this.FOR_UPLOAD=null,this.activeModal=V(Yr),this.id="",this.questionForm$=i.group({cover:[null],question:["",Cn.required],desc:["",Cn.required],answer:["",Cn.required],choices:["",Cn.required],points:[1,Cn.required]})}onSelectImage(i){this.FOR_UPLOAD=i.target.files[0]}onSubmit(){if(this.questionForm$.valid){let r=(this.questionForm$.get("choices")?.value??"").split(",").map(o=>o),s={id:"",question:this.questionForm$.get("question")?.value??"",desc:this.questionForm$.get("desc")?.value??"",photo:"",answer:this.questionForm$.get("answer")?.value??"",points:+this.questionForm$.get("points")?.value||0,choices:r};this.FOR_UPLOAD!==null?this.uploadFile(this.FOR_UPLOAD,s):this.saveQuestion(s)}}uploadFile(i,r){return C(this,null,function*(){try{let s=yield this.questionService.uploadFile(i);r.photo=s,this.saveQuestion(r)}catch(s){alert(s.message)}})}saveQuestion(i){this.questionService.addQuestion(this.id,i).then(r=>{alert("Success")}).catch(r=>alert(r.message)).finally(()=>this.activeModal.close())}};e.\u0275fac=function(r){return new(r||e)(q(ip),q(Lg))},e.\u0275cmp=ft({type:e,selectors:[["app-create-question"]],inputs:{id:"id"},decls:37,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"submit","formGroup"],[1,"form-floating","mb-3"],["type","file","id","cover","accept","image/*","formControlName","cover",1,"form-control",3,"change"],["for","cover"],["type","text","id","question","formControlName","question",1,"form-control"],["for","question"],["formControlName","desc","placeholder","Description","id","description",1,"form-control",2,"height","100px"],["for","description"],["type","text","id","answer","formControlName","answer",1,"form-control"],["for","answer"],["type","text","id","choices","formControlName","choices",1,"form-control"],["for","choices"],["id","basic-addon4",1,"form-text"],["type","number","id","points","formControlName","points",1,"form-control"],["for","points"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","submit",1,"btn","btn-dark",3,"disabled"]],template:function(r,s){r&1&&($(0,"div",0)(1,"h4",1),X(2,"Create Quiz"),z(),$(3,"button",2),Ue("click",function(){return s.activeModal.dismiss("Cross click")}),z()(),$(4,"div",3)(5,"form",4),Ue("submit",function(){return s.onSubmit()}),$(6,"div",5)(7,"input",6),Ue("change",function(a){return s.onSelectImage(a)}),z(),$(8,"label",7),X(9,"Cover Photo"),z()(),$(10,"div",5),Oe(11,"input",8),$(12,"label",9),X(13,"Question"),z()(),$(14,"div",5),Oe(15,"textarea",10),$(16,"label",11),X(17,"Description"),z()(),$(18,"div",5),Oe(19,"input",12),$(20,"label",13),X(21,"Answer"),z()(),$(22,"div",5),Oe(23,"input",14),$(24,"label",15),X(25,"Choices"),z(),$(26,"div",16),X(27," Enter choices separeted by comma ',' "),z()(),$(28,"div",5),Oe(29,"input",17),$(30,"label",18),X(31,"Points"),z()(),$(32,"div",19)(33,"button",20),Ue("click",function(){return s.activeModal.close("Close click")}),X(34," Cancel "),z(),$(35,"button",21),X(36," Save "),z()()()()),r&2&&(st(5),Kt("formGroup",s.questionForm$),st(30),Kt("disabled",s.questionForm$.invalid))},dependencies:[tp,Pa,eu,Jf,Xf,tu,nu]});let t=e;return t})();var zK=()=>[];function GK(t,e){if(t&1&&($(0,"tr")(1,"th",8),X(2),z(),$(3,"td"),X(4),z(),$(5,"td"),X(6),z(),$(7,"td"),X(8),z()()),t&2){let n=e.$implicit;st(2),fi(n.question),st(2),fi(n.answer),st(2),fi(n.choices.toString()),st(2),fi(n.points)}}var sk=(()=>{let e=class e{constructor(i,r,s){this.route=i,this.questionService=r,this.location=s,this.modalService=V(iu),this.quizId=null,this.quiz$=null,this.quizSub$=new We}ngOnInit(){this.route.params.subscribe(i=>{this.quizId=i.id??null,this.quizId!==null&&(this.quizSub$=this.questionService.getQuizWithQuestions(this.quizId).subscribe({next:r=>{this.quiz$=r,console.log(r)},error:r=>{alert(r.message),console.log(r.message),this.location.back()}}))})}ngOnDestroy(){}createQuestion(){let i=this.modalService.open(rk);i.componentInstance.id=this.quizId}};e.\u0275fac=function(r){return new(r||e)(q(nr),q(Lg),q(Hr))},e.\u0275cmp=ft({type:e,selectors:[["app-view-quiz"]],decls:21,vars:3,consts:[[1,"container-fluid","vh-100","p-3"],[1,"d-flex","align-items-center","justify-content-between"],[1,"btn","btn-dark",3,"click"],[1,"fa-solid","fa-plus","me-3"],[1,"container","h-100","overflow-auto"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(r,s){if(r&1&&($(0,"div",0)(1,"div",1)(2,"h5"),X(3),z(),$(4,"button",2),Ue("click",function(){return s.createQuestion()}),Oe(5,"i",3),X(6," Add Question "),z()(),$(7,"div",4)(8,"table",5)(9,"thead")(10,"tr")(11,"th",6),X(12,"Question"),z(),$(13,"th",6),X(14,"Answer"),z(),$(15,"th",6),X(16,"Choices"),z(),$(17,"th",6),X(18,"Points"),z()()(),$(19,"tbody"),ba(20,GK,9,4,"tr",7),z()()()()),r&2){let o,a;st(3),fi((o=s.quiz$==null||s.quiz$.quiz==null?null:s.quiz$.quiz.title)!==null&&o!==void 0?o:""),st(17),Kt("ngForOf",(a=s.quiz$==null?null:s.quiz$.questions)!==null&&a!==void 0?a:PA(2,zK))}},dependencies:[yf]});let t=e;return t})();var ok=(()=>{let e=class e{constructor(i,r){this.auth=i,this.firestore=r}login(i,r){return Np(this.auth,i,r)}logout(){return CO(this.auth)}};e.\u0275fac=function(r){return new(r||e)(W(go),W(Xn))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ak=(()=>{let e=class e{constructor(i,r){this.authService=i,this.router=r}logout(){this.authService.logout().then(()=>{alert("Successfully logout"),this.router.navigate(["login"])})}};e.\u0275fac=function(r){return new(r||e)(q(ok),q(Wn))},e.\u0275cmp=ft({type:e,selectors:[["app-main"]],decls:29,vars:0,consts:[[1,"container-fluid","vh-100","m-0","p-0"],[1,"nav-container",2,"margin","0","padding","0","overflow","hidden"],[1,"navigation","bg-dark"],[1,"text-center"],["src","../../../assets/images/logo.png","height","80px",1,"m-3"],["routerLink","dashboard","routerLinkActive","active"],[1,"fa-solid","fa-house","me-3"],["routerLink","leaderboard","routerLinkActive","active"],[1,"fa-solid","fa-trophy","me-3"],["routerLink","games","routerLinkActive","active"],[1,"fa-solid","fa-dice","me-3"],["routerLink","submissions","routerLinkActive","active"],[1,"fa-solid","fa-file-lines","me-3"],["routerLinkActive","active",3,"click"],[1,"fa-solid","fa-right-from-bracket","me-3"],[1,"overflow-auto",2,"width","100%"]],template:function(r,s){r&1&&($(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav")(4,"div",3),Oe(5,"img",4),z(),$(6,"ul")(7,"li",5)(8,"a"),Oe(9,"i",6),X(10," Dashboard"),z()(),$(11,"li",7)(12,"a"),Oe(13,"i",8),X(14," Leaderboard"),z()(),$(15,"li",9)(16,"a"),Oe(17,"i",10),X(18," Games"),z()(),$(19,"li",11)(20,"a"),Oe(21,"i",12),X(22," Submissions"),z()(),$(23,"li",13),Ue("click",function(){return s.logout()}),$(24,"a"),Oe(25,"i",14),X(26," Logout"),z()()()()(),$(27,"div",15),Oe(28,"router-outlet"),z()()())},dependencies:[C0,xa,Zx],styles:[".nav-container[_ngcontent-%COMP%]{width:100%;display:flex;background-color:var(--bg-color);height:100%}.navigation[_ngcontent-%COMP%]{display:flex;width:300px;background-color:#fff;flex-direction:column;justify-content:space-between}.navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;padding:0px 1rem}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;margin:0;padding:0}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#d3d3d3;font-size:medium;font-weight:700;cursor:pointer;padding:10px 1rem;text-decoration:none;transition:background-color .2s ease}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);border-radius:10px;color:#fff}.navigation[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;border-radius:10px}"]});let t=e;return t})();function qu(t){return t+.5|0}var hs=(t,e,n)=>Math.max(Math.min(t,n),e);function zu(t){return hs(qu(t*2.55),0,255)}function fs(t){return hs(qu(t*255),0,255)}function gr(t){return hs(qu(t/2.55)/100,0,1)}function ck(t){return hs(qu(t*100),0,100)}var On={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},PE=[..."0123456789ABCDEF"],WK=t=>PE[t&15],KK=t=>PE[(t&240)>>4]+PE[t&15],Vg=t=>(t&240)>>4===(t&15),YK=t=>Vg(t.r)&&Vg(t.g)&&Vg(t.b)&&Vg(t.a);function QK(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&On[t[1]]*17,g:255&On[t[2]]*17,b:255&On[t[3]]*17,a:e===5?On[t[4]]*17:255}:(e===7||e===9)&&(n={r:On[t[1]]<<4|On[t[2]],g:On[t[3]]<<4|On[t[4]],b:On[t[5]]<<4|On[t[6]],a:e===9?On[t[7]]<<4|On[t[8]]:255})),n}var JK=(t,e)=>t<255?e(t):"";function XK(t){var e=YK(t)?WK:KK;return t?"#"+e(t.r)+e(t.g)+e(t.b)+JK(t.a,e):void 0}var ZK=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hk(t,e,n){let i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function eY(t,e,n){let i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function tY(t,e,n){let i=hk(t,1,.5),r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function nY(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function kE(t){let n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2,c,l,d;return s!==o&&(d=s-o,l=a>.5?d/(2-s-o):d/(s+o),c=nY(n,i,r,d,s),c=c*60+.5),[c|0,l||0,a]}function FE(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(fs)}function LE(t,e,n){return FE(hk,t,e,n)}function iY(t,e,n){return FE(tY,t,e,n)}function rY(t,e,n){return FE(eY,t,e,n)}function fk(t){return(t%360+360)%360}function sY(t){let e=ZK.exec(t),n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?zu(+e[5]):fs(+e[5]));let r=fk(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=iY(r,s,o):e[1]==="hsv"?i=rY(r,s,o):i=LE(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function oY(t,e){var n=kE(t);n[0]=fk(n[0]+e),n=LE(n),t.r=n[0],t.g=n[1],t.b=n[2]}function aY(t){if(!t)return;let e=kE(t),n=e[0],i=ck(e[1]),r=ck(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${gr(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}var lk={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},uk={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function cY(){let t={},e=Object.keys(uk),n=Object.keys(lk),i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,lk[s]);s=parseInt(uk[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}var Bg;function lY(t){Bg||(Bg=cY(),Bg.transparent=[0,0,0,0]);let e=Bg[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var uY=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dY(t){let e=uY.exec(t),n=255,i,r,s;if(e){if(e[7]!==i){let o=+e[7];n=e[8]?zu(o):hs(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?zu(i):hs(i,0,255)),r=255&(e[4]?zu(r):hs(r,0,255)),s=255&(e[6]?zu(s):hs(s,0,255)),{r:i,g:r,b:s,a:n}}}function hY(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${gr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var NE=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,gc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function fY(t,e,n){let i=gc(gr(t.r)),r=gc(gr(t.g)),s=gc(gr(t.b));return{r:fs(NE(i+n*(gc(gr(e.r))-i))),g:fs(NE(r+n*(gc(gr(e.g))-r))),b:fs(NE(s+n*(gc(gr(e.b))-s))),a:t.a+n*(e.a-t.a)}}function jg(t,e,n){if(t){let i=kE(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=LE(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function pk(t,e){return t&&Object.assign(e||{},t)}function dk(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=fs(t[3]))):(e=pk(t,{r:0,g:0,b:0,a:1}),e.a=fs(e.a)),e}function pY(t){return t.charAt(0)==="r"?dY(t):sY(t)}var Gu=class t{constructor(e){if(e instanceof t)return e;let n=typeof e,i;n==="object"?i=dk(e):n==="string"&&(i=QK(e)||lY(e)||pY(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=pk(this._rgb);return e&&(e.a=gr(e.a)),e}set rgb(e){this._rgb=dk(e)}rgbString(){return this._valid?hY(this._rgb):void 0}hexString(){return this._valid?XK(this._rgb):void 0}hslString(){return this._valid?aY(this._rgb):void 0}mix(e,n){if(e){let i=this.rgb,r=e.rgb,s,o=n===s?.5:n,a=2*o-1,c=i.a-r.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;s=1-l,i.r=255&l*i.r+s*r.r+.5,i.g=255&l*i.g+s*r.g+.5,i.b=255&l*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=fY(this._rgb,e._rgb,n)),this}clone(){return new t(this.rgb)}alpha(e){return this._rgb.a=fs(e),this}clearer(e){let n=this._rgb;return n.a*=1-e,this}greyscale(){let e=this._rgb,n=qu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){let n=this._rgb;return n.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return jg(this._rgb,2,e),this}darken(e){return jg(this._rgb,2,-e),this}saturate(e){return jg(this._rgb,1,e),this}desaturate(e){return jg(this._rgb,1,-e),this}rotate(e){return oY(this._rgb,e),this}};function Oi(){}var Tk=(()=>{let t=0;return()=>t++})();function De(t){return t===null||typeof t>"u"}function He(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function me(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function nt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function gn(t,e){return nt(t)?t:e}function ce(t,e){return typeof t>"u"?e:t}var Ck=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,UE=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ve(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Me(t,e,n,i){let r,s,o;if(He(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(me(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function Yu(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function zg(t){if(He(t))return t.map(zg);if(me(t)){let e=Object.create(null),n=Object.keys(t),i=n.length,r=0;for(;r<i;++r)e[n[r]]=zg(t[n[r]]);return e}return t}function Sk(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function gY(t,e,n,i){if(!Sk(t))return;let r=e[t],s=n[t];me(r)&&me(s)?_c(r,s,i):e[t]=zg(s)}function _c(t,e,n){let i=He(e)?e:[e],r=i.length;if(!me(t))return t;n=n||{};let s=n.merger||gY,o;for(let a=0;a<r;++a){if(o=i[a],!me(o))continue;let c=Object.keys(o);for(let l=0,d=c.length;l<d;++l)s(c[l],t,o,n)}return t}function vc(t,e){return _c(t,e,{merger:mY})}function mY(t,e,n){if(!Sk(t))return;let i=e[t],r=n[t];me(i)&&me(r)?vc(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=zg(r))}var gk={"":t=>t,x:t=>t.x,y:t=>t.y};function _Y(t){let e=t.split("."),n=[],i="";for(let r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function yY(t){let e=_Y(t);return n=>{for(let i of e){if(i==="")break;n=n&&n[i]}return n}}function yr(t,e){return(gk[e]||(gk[e]=yY(e)))(t)}function Kg(t){return t.charAt(0).toUpperCase()+t.slice(1)}var bc=t=>typeof t<"u",mr=t=>typeof t=="function",$E=(t,e)=>{if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0};function Ak(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var ze=Math.PI,Ge=2*ze,vY=Ge+ze,Gg=Number.POSITIVE_INFINITY,bY=ze/180,ut=ze/2,Ro=ze/4,mk=ze*2/3,_r=Math.log10,ei=Math.sign;function wc(t,e,n){return Math.abs(t-e)<n}function HE(t){let e=Math.round(t);t=wc(t,e,t/1e3)?e:t;let n=Math.pow(10,Math.floor(_r(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function xk(t){let e=[],n=Math.sqrt(t),i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function Po(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Mk(t,e){let n=Math.round(t);return n-e<=t&&n+e>=t}function zE(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Nn(t){return t*(ze/180)}function Yg(t){return t*(180/ze)}function GE(t){if(!nt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function qE(t,e){let n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),s=Math.atan2(i,n);return s<-.5*ze&&(s+=Ge),{angle:s,distance:r}}function qg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function wY(t,e){return(t-e+vY)%Ge-ze}function pn(t){return(t%Ge+Ge)%Ge}function Ic(t,e,n,i){let r=pn(t),s=pn(e),o=pn(n),a=pn(s-r),c=pn(o-r),l=pn(r-s),d=pn(r-o);return r===s||r===o||i&&s===o||a>c&&l<d}function Ct(t,e,n){return Math.max(e,Math.min(n,t))}function Rk(t){return Ct(t,-32768,32767)}function Ni(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Qg(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}var Mi=(t,e,n,i)=>Qg(t,n,i?r=>{let s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),Ok=(t,e,n)=>Qg(t,n,i=>t[i][e]>=n);function Nk(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}var Pk=["push","pop","shift","splice","unshift"];function kk(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Pk.forEach(n=>{let i="_onData"+Kg(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){let o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function WE(t,e){let n=t._chartjs;if(!n)return;let i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(Pk.forEach(s=>{delete t[s]}),delete t._chartjs)}function KE(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}var YE=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function QE(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,YE.call(window,()=>{i=!1,t.apply(e,n)}))}}function Fk(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}var Jg=t=>t==="start"?"left":t==="end"?"right":"center",Ut=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Lk=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function JE(t,e,n){let i=e.length,r=0,s=i;if(t._sorted){let{iScale:o,_parsed:a}=t,c=o.axis,{min:l,max:d,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(r=Ct(Math.min(Mi(a,c,l).lo,n?i:Mi(e,c,o.getPixelForValue(l)).lo),0,i-1)),f?s=Ct(Math.max(Mi(a,o.axis,d,!0).hi+1,n?0:Mi(e,c,o.getPixelForValue(d),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function XE(t){let{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;let s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}var Ug=t=>t===0||t===1,_k=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ge/n)),yk=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ge/n)+1,mc={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ut)+1,easeOutSine:t=>Math.sin(t*ut),easeInOutSine:t=>-.5*(Math.cos(ze*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ug(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ug(t)?t:_k(t,.075,.3),easeOutElastic:t=>Ug(t)?t:yk(t,.075,.3),easeInOutElastic(t){return Ug(t)?t:t<.5?.5*_k(t*2,.1125,.45):.5+.5*yk(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-mc.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?mc.easeInBounce(t*2)*.5:mc.easeOutBounce(t*2-1)*.5+.5};function ZE(t){if(t&&typeof t=="object"){let e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function eD(t){return ZE(t)?t:new Gu(t)}function VE(t){return ZE(t)?t:new Gu(t).saturate(.5).darken(.1).hexString()}var IY=["x","y","borderWidth","radius","tension"],EY=["color","borderColor","backgroundColor"];function DY(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:EY},numbers:{type:"number",properties:IY}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function TY(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var vk=new Map;function CY(t,e){e=e||{};let n=t+JSON.stringify(e),i=vk.get(n);return i||(i=new Intl.NumberFormat(t,e),vk.set(n,i)),i}function Ec(t,e,n){return CY(e,n).format(t)}var Vk={values(t){return He(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";let i=this.chart.options.locale,r,s=t;if(n.length>1){let l=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),s=SY(t,n)}let o=_r(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Ec(t,i,c)},logarithmic(t,e,n){if(t===0)return"0";let i=n[e].significand||t/Math.pow(10,Math.floor(_r(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?Vk.numeric.call(this,t,e,n):""}};function SY(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Qu={formatters:Vk};function AY(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Qu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var gs=Object.create(null),Xg=Object.create(null);function Wu(t,e){if(!e)return t;let n=e.split(".");for(let i=0,r=n.length;i<r;++i){let s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function BE(t,e,n){return typeof e=="string"?_c(Wu(t,e),n):_c(Wu(t,""),e)}var jE=class{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>VE(r.backgroundColor),this.hoverBorderColor=(i,r)=>VE(r.borderColor),this.hoverColor=(i,r)=>VE(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return BE(this,e,n)}get(e){return Wu(this,e)}describe(e,n){return BE(Xg,e,n)}override(e,n){return BE(gs,e,n)}route(e,n,i,r){let s=Wu(this,e),o=Wu(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){let c=this[a],l=o[r];return me(c)?Object.assign({},l,c):ce(c,l)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}},Ye=new jE({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[DY,TY,AY]);function xY(t){return!t||De(t.size)||De(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ku(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Bk(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0,a=n.length,c,l,d,h,f;for(c=0;c<a;c++)if(h=n[c],h!=null&&!He(h))o=Ku(t,r,s,o,h);else if(He(h))for(l=0,d=h.length;l<d;l++)f=h[l],f!=null&&!He(f)&&(o=Ku(t,r,s,o,f));t.restore();let g=s.length/2;if(g>n.length){for(c=0;c<g;c++)delete r[s[c]];s.splice(0,g)}return o}function ms(t,e,n){let i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function tD(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Zg(t,e,n,i){nD(t,e,n,i,null)}function nD(t,e,n,i,r){let s,o,a,c,l,d,h,f,g=e.pointStyle,_=e.rotation,y=e.radius,v=(_||0)*bY;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(v),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),g){default:r?t.ellipse(n,i,r/2,y,0,0,Ge):t.arc(n,i,y,0,Ge),t.closePath();break;case"triangle":d=r?r/2:y,t.moveTo(n+Math.sin(v)*d,i-Math.cos(v)*y),v+=mk,t.lineTo(n+Math.sin(v)*d,i-Math.cos(v)*y),v+=mk,t.lineTo(n+Math.sin(v)*d,i-Math.cos(v)*y),t.closePath();break;case"rectRounded":l=y*.516,c=y-l,o=Math.cos(v+Ro)*c,h=Math.cos(v+Ro)*(r?r/2-l:c),a=Math.sin(v+Ro)*c,f=Math.sin(v+Ro)*(r?r/2-l:c),t.arc(n-h,i-a,l,v-ze,v-ut),t.arc(n+f,i-o,l,v-ut,v),t.arc(n+h,i+a,l,v,v+ut),t.arc(n-f,i+o,l,v+ut,v+ze),t.closePath();break;case"rect":if(!_){c=Math.SQRT1_2*y,d=r?r/2:c,t.rect(n-d,i-c,2*d,2*c);break}v+=Ro;case"rectRot":h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),t.moveTo(n-h,i-a),t.lineTo(n+f,i-o),t.lineTo(n+h,i+a),t.lineTo(n-f,i+o),t.closePath();break;case"crossRot":v+=Ro;case"cross":h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"star":h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o),v+=Ro,h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"line":o=r?r/2:Math.cos(v)*y,a=Math.sin(v)*y,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(v)*(r?r/2:y),i+Math.sin(v)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ri(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ju(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Xu(t){t.restore()}function jk(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){let s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Uk(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function MY(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),De(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function RY(t,e,n,i,r){if(r.strikethrough||r.underline){let s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,c=n-s.actualBoundingBoxAscent,l=n+s.actualBoundingBoxDescent,d=r.strikethrough?(c+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function OY(t,e){let n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function _s(t,e,n,i,r,s={}){let o=He(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="",c,l;for(t.save(),t.font=r.string,MY(t,s),c=0;c<o.length;++c)l=o[c],s.backdrop&&OY(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),De(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(l,n,i,s.maxWidth)),t.fillText(l,n,i,s.maxWidth),RY(t,n,i,l,s),i+=Number(r.lineHeight);t.restore()}function Dc(t,e){let{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*ze,ze,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,ze,ut,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,ut,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-ut,!0),t.lineTo(n+o.topLeft,i)}var NY=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,PY=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function kY(t,e){let n=(""+t).match(NY);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}var FY=t=>+t||0;function em(t,e){let n={},i=me(e),r=i?Object.keys(e):e,s=me(t)?i?o=>ce(t[o],t[e[o]]):o=>t[o]:()=>t;for(let o of r)n[o]=FY(s(o));return n}function iD(t){return em(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ys(t){return em(t,["topLeft","topRight","bottomLeft","bottomRight"])}function $t(t){let e=iD(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function wt(t,e){t=t||{},e=e||Ye.font;let n=ce(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=ce(t.style,e.style);i&&!(""+i).match(PY)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:ce(t.family,e.family),lineHeight:kY(ce(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:ce(t.weight,e.weight),string:""};return r.string=xY(r),r}function Tc(t,e,n,i){let r=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&He(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function $k(t,e,n){let{min:i,max:r}=t,s=UE(e,(r-i)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function vr(t,e){return Object.assign(Object.create(t),e)}function tm(t,e=[""],n,i,r=()=>t[0]){let s=n||t;typeof i>"u"&&(i=Gk("_fallback",t));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>tm([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return Hk(a,c,()=>zY(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return wk(a).includes(c)},ownKeys(a){return wk(a)},set(a,c,l){let d=a._storage||(a._storage=r());return a[c]=d[c]=l,delete a._keys,!0}})}function No(t,e,n,i){let r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:rD(t,i),setContext:s=>No(t,s,n,i),override:s=>No(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return Hk(s,o,()=>VY(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function rD(t,e={scriptable:!0,indexable:!0}){let{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:mr(n)?n:()=>n,isIndexable:mr(i)?i:()=>i}}var LY=(t,e)=>t?t+Kg(e):e,sD=(t,e)=>me(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Hk(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];let i=n();return t[e]=i,i}function VY(t,e,n){let{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t,a=i[e];return mr(a)&&o.isScriptable(e)&&(a=BY(e,a,t,n)),He(a)&&a.length&&(a=jY(e,a,t,o.isIndexable)),sD(e,a)&&(a=No(a,r,s&&s[e],o)),a}function BY(t,e,n,i){let{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(s,o||i);return a.delete(t),sD(t,c)&&(c=oD(r._scopes,r,t,c)),c}function jY(t,e,n,i){let{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(me(e[0])){let c=e,l=r._scopes.filter(d=>d!==c);e=[];for(let d of c){let h=oD(l,r,t,d);e.push(No(h,s,o&&o[t],a))}}return e}function zk(t,e,n){return mr(t)?t(e,n):t}var UY=(t,e)=>t===!0?e:typeof t=="string"?yr(e,t):void 0;function $Y(t,e,n,i,r){for(let s of e){let o=UY(n,s);if(o){t.add(o);let a=zk(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function oD(t,e,n,i){let r=e._rootScopes,s=zk(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let c=bk(a,o,n,s||n,i);return c===null||typeof s<"u"&&s!==n&&(c=bk(a,o,s,c,i),c===null)?!1:tm(Array.from(a),[""],r,s,()=>HY(e,n,i))}function bk(t,e,n,i,r){for(;n;)n=$Y(t,e,n,i,r);return n}function HY(t,e,n){let i=t._getTarget();e in i||(i[e]={});let r=i[e];return He(r)&&me(n)?n:r||{}}function zY(t,e,n,i){let r;for(let s of e)if(r=Gk(LY(s,t),n),typeof r<"u")return sD(t,r)?oD(n,i,t,r):r}function Gk(t,e){for(let n of e){if(!n)continue;let i=n[t];if(typeof i<"u")return i}}function wk(t){let e=t._keys;return e||(e=t._keys=GY(t._scopes)),e}function GY(t){let e=new Set;for(let n of t)for(let i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function aD(t,e,n,i){let{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i),a,c,l,d;for(a=0,c=i;a<c;++a)l=a+n,d=e[l],o[a]={r:r.parse(yr(d,s),l)};return o}var qY=Number.EPSILON||1e-14,yc=(t,e)=>e<t.length&&!t[e].skip&&t[e],qk=t=>t==="x"?"y":"x";function WY(t,e,n,i){let r=t.skip?e:t,s=e,o=n.skip?e:n,a=qg(s,r),c=qg(o,s),l=a/(a+c),d=c/(a+c);l=isNaN(l)?0:l,d=isNaN(d)?0:d;let h=i*l,f=i*d;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function KY(t,e,n){let i=t.length,r,s,o,a,c,l=yc(t,0);for(let d=0;d<i-1;++d)if(c=l,l=yc(t,d+1),!(!c||!l)){if(wc(e[d],0,qY)){n[d]=n[d+1]=0;continue}r=n[d]/e[d],s=n[d+1]/e[d],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=r*o*e[d],n[d+1]=s*o*e[d])}}function YY(t,e,n="x"){let i=qk(n),r=t.length,s,o,a,c=yc(t,0);for(let l=0;l<r;++l){if(o=a,a=c,c=yc(t,l+1),!a)continue;let d=a[n],h=a[i];o&&(s=(d-o[n])/3,a[`cp1${n}`]=d-s,a[`cp1${i}`]=h-s*e[l]),c&&(s=(c[n]-d)/3,a[`cp2${n}`]=d+s,a[`cp2${i}`]=h+s*e[l])}}function QY(t,e="x"){let n=qk(e),i=t.length,r=Array(i).fill(0),s=Array(i),o,a,c,l=yc(t,0);for(o=0;o<i;++o)if(a=c,c=l,l=yc(t,o+1),!!c){if(l){let d=l[e]-c[e];r[o]=d!==0?(l[n]-c[n])/d:0}s[o]=a?l?ei(r[o-1])!==ei(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}KY(t,r,s),YY(t,s,e)}function $g(t,e,n){return Math.max(Math.min(t,n),e)}function JY(t,e){let n,i,r,s,o,a=Ri(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&Ri(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=$g(r.cp1x,e.left,e.right),r.cp1y=$g(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=$g(r.cp2x,e.left,e.right),r.cp2y=$g(r.cp2y,e.top,e.bottom)))}function Wk(t,e,n,i,r){let s,o,a,c;if(e.spanGaps&&(t=t.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")QY(t,r);else{let l=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],c=WY(l,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}e.capBezierPoints&&JY(t,n)}function nm(){return typeof window<"u"&&typeof document<"u"}function im(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Wg(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}var rm=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function XY(t,e){return rm(t).getPropertyValue(e)}var ZY=["top","right","bottom","left"];function Oo(t,e,n){let i={};n=n?"-"+n:"";for(let r=0;r<4;r++){let s=ZY[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var eQ=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function tQ(t,e){let n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i,o=!1,a,c;if(eQ(r,s,t.target))a=r,c=s;else{let l=e.getBoundingClientRect();a=i.clientX-l.left,c=i.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function vs(t,e){if("native"in t)return t;let{canvas:n,currentDevicePixelRatio:i}=e,r=rm(n),s=r.boxSizing==="border-box",o=Oo(r,"padding"),a=Oo(r,"border","width"),{x:c,y:l,box:d}=tQ(t,n),h=o.left+(d&&a.left),f=o.top+(d&&a.top),{width:g,height:_}=e;return s&&(g-=o.width+a.width,_-=o.height+a.height),{x:Math.round((c-h)/g*n.width/i),y:Math.round((l-f)/_*n.height/i)}}function nQ(t,e,n){let i,r;if(e===void 0||n===void 0){let s=t&&im(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{let o=s.getBoundingClientRect(),a=rm(s),c=Oo(a,"border","width"),l=Oo(a,"padding");e=o.width-l.width-c.width,n=o.height-l.height-c.height,i=Wg(a.maxWidth,s,"clientWidth"),r=Wg(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||Gg,maxHeight:r||Gg}}var Hg=t=>Math.round(t*10)/10;function Kk(t,e,n,i){let r=rm(t),s=Oo(r,"margin"),o=Wg(r.maxWidth,t,"clientWidth")||Gg,a=Wg(r.maxHeight,t,"clientHeight")||Gg,c=nQ(t,e,n),{width:l,height:d}=c;if(r.boxSizing==="content-box"){let f=Oo(r,"border","width"),g=Oo(r,"padding");l-=g.width+f.width,d-=g.height+f.height}return l=Math.max(0,l-s.width),d=Math.max(0,i?l/i:d-s.height),l=Hg(Math.min(l,o,c.maxWidth)),d=Hg(Math.min(d,a,c.maxHeight)),l&&!d&&(d=Hg(l/2)),(e!==void 0||n!==void 0)&&i&&c.height&&d>c.height&&(d=c.height,l=Hg(Math.floor(d*i))),{width:l,height:d}}function cD(t,e,n){let i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}var Yk=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};nm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function lD(t,e){let n=XY(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ps(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Qk(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Jk(t,e,n,i){let r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=ps(t,r,n),a=ps(r,s,n),c=ps(s,e,n),l=ps(o,a,n),d=ps(a,c,n);return ps(l,d,n)}var iQ=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},rQ=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ko(t,e,n){return t?iQ(e,n):rQ()}function uD(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function dD(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Xk(t){return t==="angle"?{between:Ic,compare:wY,normalize:pn}:{between:Ni,compare:(e,n)=>e-n,normalize:e=>e}}function Ik({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function sQ(t,e,n){let{property:i,start:r,end:s}=n,{between:o,normalize:a}=Xk(i),c=e.length,{start:l,end:d,loop:h}=t,f,g;if(h){for(l+=c,d+=c,f=0,g=c;f<g&&o(a(e[l%c][i]),r,s);++f)l--,d--;l%=c,d%=c}return d<l&&(d+=c),{start:l,end:d,loop:h,style:t.style}}function hD(t,e,n){if(!n)return[t];let{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:c,normalize:l}=Xk(i),{start:d,end:h,loop:f,style:g}=sQ(t,e,n),_=[],y=!1,v=null,A,x,O,N=()=>c(r,O,A)&&a(r,O)!==0,k=()=>a(s,A)===0||c(s,O,A),P=()=>y||N(),E=()=>!y||k();for(let b=d,I=d;b<=h;++b)x=e[b%o],!x.skip&&(A=l(x[i]),A!==O&&(y=c(A,r,s),v===null&&P()&&(v=a(A,r)===0?b:I),v!==null&&E()&&(_.push(Ik({start:v,end:b,loop:f,count:o,style:g})),v=null),I=b,O=A));return v!==null&&_.push(Ik({start:v,end:h,loop:f,count:o,style:g})),_}function fD(t,e){let n=[],i=t.segments;for(let r=0;r<i.length;r++){let s=hD(i[r],t.points,e);s.length&&n.push(...s)}return n}function oQ(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function aQ(t,e,n,i){let r=t.length,s=[],o=e,a=t[e],c;for(c=e+1;c<=n;++c){let l=t[c%r];l.skip||l.stop?a.skip||(i=!1,s.push({start:e%r,end:(c-1)%r,loop:i}),e=o=l.stop?c:null):(o=c,a.skip&&(e=c)),a=l}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function Zk(t,e){let n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];let s=!!t._loop,{start:o,end:a}=oQ(n,r,s,i);if(i===!0)return Ek(t,[{start:o,end:a,loop:s}],n,e);let c=a<o?a+r:a,l=!!t._fullLoop&&o===0&&a===r-1;return Ek(t,aQ(n,o,c,l),n,e)}function Ek(t,e,n,i){return!i||!i.setContext||!n?e:cQ(t,e,n,i)}function cQ(t,e,n,i){let r=t._chart.getContext(),s=Dk(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,c=n.length,l=[],d=s,h=e[0].start,f=h;function g(_,y,v,A){let x=a?-1:1;if(_!==y){for(_+=c;n[_%c].skip;)_-=x;for(;n[y%c].skip;)y+=x;_%c!==y%c&&(l.push({start:_%c,end:y%c,loop:v,style:A}),d=A,h=y%c)}}for(let _ of e){h=a?h:_.start;let y=n[h%c],v;for(f=h+1;f<=_.end;f++){let A=n[f%c];v=Dk(i.setContext(vr(r,{type:"segment",p0:y,p1:A,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),lQ(v,d)&&g(h,f-1,_.loop,d),y=A,d=v}h<f-1&&g(h,f-1,_.loop,d)}return l}function Dk(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function lQ(t,e){if(!e)return!1;let n=[],i=function(r,s){return ZE(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}var ED=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){let s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=YE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let s=i.items,o=s.length-1,a=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){let n=this._charts,i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){let n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){let n=this._charts.get(e);if(!n||!n.items.length)return;let i=n.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},br=new ED,eF="transparent",uQ={boolean(t,e,n){return n>.5?e:t},color(t,e,n){let i=eD(t||eF),r=i.valid&&eD(e||eF);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}},DD=class{constructor(e,n,i,r){let s=n[i];r=Tc([e.to,r,s,e.from]);let o=Tc([e.from,s,r]);this._active=!0,this._fn=e.fn||uQ[e.type||typeof o],this._easing=mc[e.easing]||mc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);let r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Tc([e.to,n,r,e.from]),this._from=Tc([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to,c;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}c=n/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(s,a,c)}wait(){let e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){let n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}},pm=class{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!me(e))return;let n=Object.keys(Ye.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let s=e[r];if(!me(s))return;let o={};for(let a of n)o[a]=s[a];(He(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){let i=n.options,r=hQ(e,i);if(!r)return[];let s=this._createAnimations(r,i);return i.$shared&&dQ(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){let i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now(),c;for(c=o.length-1;c>=0;--c){let l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){r.push(...this._animateOptions(e,n));continue}let d=n[l],h=s[l],f=i.get(l);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){e[l]=d;continue}s[l]=h=new DD(f,e,l,d),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}let i=this._createAnimations(e,n);if(i.length)return br.add(this._chart,i),!0}};function dQ(t,e){let n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){let s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function hQ(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function tF(t,e){let n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function fQ(t,e,n){if(n===!1)return!1;let i=tF(t,n),r=tF(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function pQ(t){let e,n,i,r;return me(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function tL(t,e){let n=[],i=t._getSortedDatasetMetas(e),r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function nF(t,e,n,i={}){let r=t.keys,s=i.mode==="single",o,a,c,l;if(e!==null){for(o=0,a=r.length;o<a;++o){if(c=+r[o],c===n){if(i.all)continue;break}l=t.values[c],nt(l)&&(s||e===0||ei(e)===ei(l))&&(e+=l)}return e}}function gQ(t,e){let{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length),c,l,d;for(c=0,l=o.length;c<l;++c)d=o[c],a[c]={[r]:d,[s]:t[d]};return a}function iF(t,e){let n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function mQ(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function _Q(t){let{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function yQ(t,e,n){let i=t[e]||(t[e]={});return i[n]||(i[n]={})}function rF(t,e,n,i){for(let r of e.getMatchingVisibleMetas(i).reverse()){let s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function sF(t,e){let{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,c=s.axis,l=o.axis,d=mQ(s,o,i),h=e.length,f;for(let g=0;g<h;++g){let _=e[g],{[c]:y,[l]:v}=_,A=_._stacks||(_._stacks={});f=A[l]=yQ(r,d,y),f[a]=v,f._top=rF(f,o,!0,i.type),f._bottom=rF(f,o,!1,i.type);let x=f._visualValues||(f._visualValues={});x[a]=v}}function pD(t,e){let n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function vQ(t,e){return vr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function bQ(t,e,n){return vr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Zu(t,e){let n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(let r of e){let s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}var gD=t=>t==="reset"||t==="none",oF=(t,e)=>e?t:Object.assign({},t),wQ=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:tL(n,!0),values:null},ws=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(n,i){this.chart=n,this._ctx=n.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=iF(n.vScale,n),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&Zu(this._cachedMeta),this.index=n}linkScales(){let n=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(f,g,_,y)=>f==="x"?g:f==="r"?y:_,o=i.xAxisID=ce(r.xAxisID,pD(n,"x")),a=i.yAxisID=ce(r.yAxisID,pD(n,"y")),c=i.rAxisID=ce(r.rAxisID,pD(n,"r")),l=i.indexAxis,d=i.iAxisID=s(l,o,a,c),h=i.vAxisID=s(l,a,o,c);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(c),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){let i=this._cachedMeta;return n===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let n=this._cachedMeta;this._data&&WE(this._data,this),n._stacked&&Zu(n)}_dataCheck(){let n=this.getDataset(),i=n.data||(n.data=[]),r=this._data;if(me(i)){let s=this._cachedMeta;this._data=gQ(i,s)}else if(r!==i){if(r){WE(r,this);let s=this._cachedMeta;Zu(s),s._parsed=[]}i&&Object.isExtensible(i)&&kk(i,this),this._syncList=[],this._data=i}}addElements(){let n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){let i=this._cachedMeta,r=this.getDataset(),s=!1;this._dataCheck();let o=i._stacked;i._stacked=iF(i.vScale,i),i.stack!==r.stack&&(s=!0,Zu(i),i.stack=r.stack),this._resyncElements(n),(s||o!==i._stacked)&&sF(this,i._parsed)}configure(){let n=this.chart.config,i=n.datasetScopeKeys(this._type),r=n.getOptionScopes(this.getDataset(),i,!0);this.options=n.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,i){let{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:a}=r,c=o.axis,l=n===0&&i===s.length?!0:r._sorted,d=n>0&&r._parsed[n-1],h,f,g;if(this._parsing===!1)r._parsed=s,r._sorted=!0,g=s;else{He(s[n])?g=this.parseArrayData(r,s,n,i):me(s[n])?g=this.parseObjectData(r,s,n,i):g=this.parsePrimitiveData(r,s,n,i);let _=()=>f[c]===null||d&&f[c]<d[c];for(h=0;h<i;++h)r._parsed[h+n]=f=g[h],l&&(_()&&(l=!1),d=f);r._sorted=l}a&&sF(this,g)}parsePrimitiveData(n,i,r,s){let{iScale:o,vScale:a}=n,c=o.axis,l=a.axis,d=o.getLabels(),h=o===a,f=new Array(s),g,_,y;for(g=0,_=s;g<_;++g)y=g+r,f[g]={[c]:h||o.parse(d[y],y),[l]:a.parse(i[y],y)};return f}parseArrayData(n,i,r,s){let{xScale:o,yScale:a}=n,c=new Array(s),l,d,h,f;for(l=0,d=s;l<d;++l)h=l+r,f=i[h],c[l]={x:o.parse(f[0],h),y:a.parse(f[1],h)};return c}parseObjectData(n,i,r,s){let{xScale:o,yScale:a}=n,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=new Array(s),h,f,g,_;for(h=0,f=s;h<f;++h)g=h+r,_=i[g],d[h]={x:o.parse(yr(_,c),g),y:a.parse(yr(_,l),g)};return d}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,i,r){let s=this.chart,o=this._cachedMeta,a=i[n.axis],c={keys:tL(s,!0),values:i._stacks[n.axis]._visualValues};return nF(c,a,o.index,{mode:r})}updateRangeFromParsed(n,i,r,s){let o=r[i.axis],a=o===null?NaN:o,c=s&&r._stacks[i.axis];s&&c&&(s.values=c,a=nF(s,o,this._cachedMeta.index)),n.min=Math.min(n.min,a),n.max=Math.max(n.max,a)}getMinMax(n,i){let r=this._cachedMeta,s=r._parsed,o=r._sorted&&n===r.iScale,a=s.length,c=this._getOtherScale(n),l=wQ(i,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=_Q(c),g,_;function y(){_=s[g];let v=_[c.axis];return!nt(_[n.axis])||h>v||f<v}for(g=0;g<a&&!(!y()&&(this.updateRangeFromParsed(d,n,_,l),o));++g);if(o){for(g=a-1;g>=0;--g)if(!y()){this.updateRangeFromParsed(d,n,_,l);break}}return d}getAllParsedValues(n){let i=this._cachedMeta._parsed,r=[],s,o,a;for(s=0,o=i.length;s<o;++s)a=i[s][n.axis],nt(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(n){let i=this._cachedMeta,r=i.iScale,s=i.vScale,o=this.getParsed(n);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(n){let i=this._cachedMeta;this.update(n||"default"),i._clip=pQ(ce(this.options.clip,fQ(i.xScale,i.yScale,this.getMaxOverflow())))}update(n){}draw(){let n=this._ctx,i=this.chart,r=this._cachedMeta,s=r.data||[],o=i.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop,h;for(r.dataset&&r.dataset.draw(n,o,c,l),h=c;h<c+l;++h){let f=s[h];f.hidden||(f.active&&d?a.push(f):f.draw(n,o))}for(h=0;h<a.length;++h)a[h].draw(n,o)}getStyle(n,i){let r=i?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(n||0,r)}getContext(n,i,r){let s=this.getDataset(),o;if(n>=0&&n<this._cachedMeta.data.length){let a=this._cachedMeta.data[n];o=a.$context||(a.$context=bQ(this.getContext(),n,a)),o.parsed=this.getParsed(n),o.raw=s.data[n],o.index=o.dataIndex=n}else o=this.$context||(this.$context=vQ(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=r,o}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,i){return this._resolveElementOptions(this.dataElementType.id,i,n)}_resolveElementOptions(n,i="default",r){let s=i==="active",o=this._cachedDataOpts,a=n+"-"+i,c=o[a],l=this.enableOptionSharing&&bc(r);if(c)return oF(c,l);let d=this.chart.config,h=d.datasetElementScopeKeys(this._type,n),f=s?[`${n}Hover`,"hover",n,""]:[n,""],g=d.getOptionScopes(this.getDataset(),h),_=Object.keys(Ye.elements[n]),y=()=>this.getContext(r,s,i),v=d.resolveNamedOptions(g,_,y,f);return v.$shared&&(v.$shared=l,o[a]=Object.freeze(oF(v,l))),v}_resolveAnimations(n,i,r){let s=this.chart,o=this._cachedDataOpts,a=`animation-${i}`,c=o[a];if(c)return c;let l;if(s.options.animation!==!1){let h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,i),g=h.getOptionScopes(this.getDataset(),f);l=h.createResolver(g,this.getContext(n,r,i))}let d=new pm(s,l&&l.animations);return l&&l._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,i){return!i||gD(n)||this.chart._animationsDisabled}_getSharedOptions(n,i){let r=this.resolveDataElementOptions(n,i),s=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,r),{sharedOptions:o,includeOptions:a}}updateElement(n,i,r,s){gD(s)?Object.assign(n,r):this._resolveAnimations(i,s).update(n,r)}updateSharedOptions(n,i,r){n&&!gD(i)&&this._resolveAnimations(void 0,i).update(n,r)}_setStyle(n,i,r,s){n.active=s;let o=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(n,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(n,i,r){this._setStyle(n,r,"active",!1)}setHoverStyle(n,i,r){this._setStyle(n,r,"active",!0)}_removeDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){let i=this._data,r=this._cachedMeta.data;for(let[c,l,d]of this._syncList)this[c](l,d);this._syncList=[];let s=r.length,o=i.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,n):o<s&&this._removeElements(o,s-o)}_insertElements(n,i,r=!0){let s=this._cachedMeta,o=s.data,a=n+i,c,l=d=>{for(d.length+=i,c=d.length-1;c>=a;c--)d[c]=d[c-i]};for(l(o),c=n;c<a;++c)o[c]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(n,i),r&&this.updateElements(o,n,i,"reset")}updateElements(n,i,r,s){}_removeElements(n,i){let r=this._cachedMeta;if(this._parsing){let s=r._parsed.splice(n,i);r._stacked&&Zu(r,s)}r.data.splice(n,i)}_sync(n){if(this._parsing)this._syncList.push(n);else{let[i,r,s]=n;this[i](r,s)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){let n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,i){i&&this._sync(["_removeElements",n,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",n,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function IQ(t,e){if(!t._cache.$bar){let n=t.getMatchingVisibleMetas(e),i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=KE(i.sort((r,s)=>r-s))}return t._cache.$bar}function EQ(t){let e=t.iScale,n=IQ(e,t.type),i=e._length,r,s,o,a,c=()=>{o===32767||o===-32768||(bc(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),c();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),c();return i}function DQ(t,e,n,i){let r=n.barThickness,s,o;return De(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function TQ(t,e,n,i){let r=e.pixels,s=r[t],o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null,c=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);let l=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/i,ratio:n.barPercentage,start:l}}function CQ(t,e,n,i){let r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s),c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),e[n.axis]=l,e._custom={barStart:c,barEnd:l,start:r,end:s,min:o,max:a}}function nL(t,e,n,i){return He(t)?CQ(t,e,n,i):e[n.axis]=n.parse(t,i),e}function aF(t,e,n,i){let r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,c=[],l,d,h,f;for(l=n,d=n+i;l<d;++l)f=e[l],h={},h[r.axis]=a||r.parse(o[l],l),c.push(nL(f,h,s,l));return c}function mD(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function SQ(t,e,n){return t!==0?ei(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function AQ(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function xQ(t,e,n,i){let r=e.borderSkipped,s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:c,top:l,bottom:d}=AQ(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=l:(n._bottom||0)===i?r=d:(s[cF(d,o,a,c)]=!0,r=l)),s[cF(r,o,a,c)]=!0,t.borderSkipped=s}function cF(t,e,n,i){return i?(t=MQ(t,e,n),t=lF(t,n,e)):t=lF(t,e,n),t}function MQ(t,e,n){return t===e?n:t===n?e:t}function lF(t,e,n){return t==="start"?e:t==="end"?n:t}function RQ(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}var OQ=(()=>{class t extends ws{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(n,i,r,s){return aF(n,i,r,s)}parseArrayData(n,i,r,s){return aF(n,i,r,s)}parseObjectData(n,i,r,s){let{iScale:o,vScale:a}=n,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,d=o.axis==="x"?c:l,h=a.axis==="x"?c:l,f=[],g,_,y,v;for(g=r,_=r+s;g<_;++g)v=i[g],y={},y[o.axis]=o.parse(yr(v,d),g),f.push(nL(yr(v,h),y,a,g));return f}updateRangeFromParsed(n,i,r,s){super.updateRangeFromParsed(n,i,r,s);let o=r._custom;o&&i===this._cachedMeta.vScale&&(n.min=Math.min(n.min,o.min),n.max=Math.max(n.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(n){let i=this._cachedMeta,{iScale:r,vScale:s}=i,o=this.getParsed(n),a=o._custom,c=mD(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,n)}updateElements(n,i,r,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),d=c.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:g}=this._getSharedOptions(i,s);for(let _=i;_<i+r;_++){let y=this.getParsed(_),v=o||De(y[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(_),A=this._calculateBarIndexPixels(_,h),x=(y._stacks||{})[c.axis],O={horizontal:d,base:v.base,enableBorderRadius:!x||mD(y._custom)||a===x._top||a===x._bottom,x:d?v.head:A.center,y:d?A.center:v.head,height:d?A.size:Math.abs(v.size),width:d?Math.abs(v.size):A.size};g&&(O.options=f||this.resolveDataElementOptions(_,n[_].active?"active":s));let N=O.options||n[_].options;xQ(O,N,x,a),RQ(O,N,h.ratio),this.updateElement(n[_],_,O,s)}}_getStacks(n,i){let{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),o=r.options.stacked,a=[],c=l=>{let d=l.controller.getParsed(i),h=d&&d[l.vScale.axis];if(De(h)||isNaN(h))return!0};for(let l of s)if(!(i!==void 0&&c(l))&&((o===!1||a.indexOf(l.stack)===-1||o===void 0&&l.stack===void 0)&&a.push(l.stack),l.index===n))break;return a.length||a.push(void 0),a}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,i,r){let s=this._getStacks(n,r),o=i!==void 0?s.indexOf(i):-1;return o===-1?s.length-1:o}_getRuler(){let n=this.options,i=this._cachedMeta,r=i.iScale,s=[],o,a;for(o=0,a=i.data.length;o<a;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));let c=n.barThickness;return{min:c||EQ(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:n.grouped,ratio:c?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){let{_cachedMeta:{vScale:i,_stacked:r,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,l=this.getParsed(n),d=l._custom,h=mD(d),f=l[i.axis],g=0,_=r?this.applyStack(i,l,r):f,y,v;_!==f&&(g=_-f,_=f),h&&(f=d.barStart,_=d.barEnd-d.barStart,f!==0&&ei(f)!==ei(d.barEnd)&&(g=0),g+=f);let A=!De(o)&&!h?o:g,x=i.getPixelForValue(A);if(this.chart.getDataVisibility(n)?y=i.getPixelForValue(g+_):y=x,v=y-x,Math.abs(v)<a){v=SQ(v,i,c)*a,f===c&&(x-=v/2);let O=i.getPixelForDecimal(0),N=i.getPixelForDecimal(1),k=Math.min(O,N),P=Math.max(O,N);x=Math.max(Math.min(x,P),k),y=x+v,r&&!h&&(l._stacks[i.axis]._visualValues[s]=i.getValueForPixel(y)-i.getValueForPixel(x))}if(x===i.getPixelForValue(c)){let O=ei(v)*i.getLineWidthForValue(c)/2;x+=O,v-=O}return{size:v,base:x,head:y,center:y+v/2}}_calculateBarIndexPixels(n,i){let r=i.scale,s=this.options,o=s.skipNull,a=ce(s.maxBarThickness,1/0),c,l;if(i.grouped){let d=o?this._getStackCount(n):i.stackCount,h=s.barThickness==="flex"?TQ(n,i,s,d):DQ(n,i,s,d),f=this._getStackIndex(this.index,this._cachedMeta.stack,o?n:void 0);c=h.start+h.chunk*f+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else c=r.getPixelForValue(this.getParsed(n)[r.axis],n),l=Math.min(a,i.min*i.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let n=this._cachedMeta,i=n.vScale,r=n.data,s=r.length,o=0;for(;o<s;++o)this.getParsed(o)[i.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}return t})(),NQ=(()=>{class t extends ws{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,i,r,s){let o=super.parsePrimitiveData(n,i,r,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(n,i,r,s){let o=super.parseArrayData(n,i,r,s);for(let a=0;a<o.length;a++){let c=i[r+a];o[a]._custom=ce(c[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(n,i,r,s){let o=super.parseObjectData(n,i,r,s);for(let a=0;a<o.length;a++){let c=i[r+a];o[a]._custom=ce(c&&c.r&&+c.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){let n=this._cachedMeta.data,i=0;for(let r=n.length-1;r>=0;--r)i=Math.max(i,n[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(n),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y),d=a._custom;return{label:r[n]||"",value:"("+c+", "+l+(d?", "+d:"")+")"}}update(n){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,n)}updateElements(n,i,r,s){let o=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:d}=this._getSharedOptions(i,s),h=a.axis,f=c.axis;for(let g=i;g<i+r;g++){let _=n[g],y=!o&&this.getParsed(g),v={},A=v[h]=o?a.getPixelForDecimal(.5):a.getPixelForValue(y[h]),x=v[f]=o?c.getBasePixel():c.getPixelForValue(y[f]);v.skip=isNaN(A)||isNaN(x),d&&(v.options=l||this.resolveDataElementOptions(g,_.active?"active":s),o&&(v.options.radius=0)),this.updateElement(_,g,v,s)}}resolveDataElementOptions(n,i){let r=this.getParsed(n),s=super.resolveDataElementOptions(n,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return i!=="active"&&(s.radius=0),s.radius+=ce(r&&r._custom,o),s}}return t})();function PQ(t,e,n){let i=1,r=1,s=0,o=0;if(e<Ge){let a=t,c=a+e,l=Math.cos(a),d=Math.sin(a),h=Math.cos(c),f=Math.sin(c),g=(O,N,k)=>Ic(O,a,c,!0)?1:Math.max(N,N*n,k,k*n),_=(O,N,k)=>Ic(O,a,c,!0)?-1:Math.min(N,N*n,k,k*n),y=g(0,l,h),v=g(ut,d,f),A=_(ze,l,h),x=_(ze+ut,d,f);i=(y-A)/2,r=(v-x)/2,s=-(y+A)/2,o=-(v+x)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}var zD=(()=>{class t extends ws{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let i=n.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=n.legend.options;return i.labels.map((o,a)=>{let l=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(n,i){super(n,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,i){let r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let o=l=>+r[l];if(me(r[n])){let{key:l="value"}=this._parsing;o=d=>+yr(r[d],l)}let a,c;for(a=n,c=n+i;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return Nn(this.options.rotation-90)}_getCircumference(){return Nn(this.options.circumference)}_getRotationExtents(){let n=Ge,i=-Ge;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),a=s._getCircumference();n=Math.min(n,o),i=Math.max(i,o+a)}return{rotation:n,circumference:i-n}}update(n){let i=this.chart,{chartArea:r}=i,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(Ck(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:g,ratioY:_,offsetX:y,offsetY:v}=PQ(f,h,l),A=(r.width-a)/g,x=(r.height-a)/_,O=Math.max(Math.min(A,x)/2,0),N=UE(this.options.radius,O),k=Math.max(N*l,0),P=(N-k)/this._getVisibleDatasetWeightTotal();this.offsetX=y*N,this.offsetY=v*N,s.total=this.calculateTotal(),this.outerRadius=N-P*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-P*d,0),this.updateElements(o,0,o.length,n)}_circumference(n,i){let r=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(n)||s._parsed[n]===null||s.data[n].hidden?0:this.calculateCircumference(s._parsed[n]*o/Ge)}updateElements(n,i,r,s){let o=s==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,h=(c.left+c.right)/2,f=(c.top+c.bottom)/2,g=o&&d.animateScale,_=g?0:this.innerRadius,y=g?0:this.outerRadius,{sharedOptions:v,includeOptions:A}=this._getSharedOptions(i,s),x=this._getRotation(),O;for(O=0;O<i;++O)x+=this._circumference(O,o);for(O=i;O<i+r;++O){let N=this._circumference(O,o),k=n[O],P={x:h+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+N,circumference:N,outerRadius:y,innerRadius:_};A&&(P.options=v||this.resolveDataElementOptions(O,k.active?"active":s)),x+=N,this.updateElement(k,O,P,s)}}calculateTotal(){let n=this._cachedMeta,i=n.data,r=0,s;for(s=0;s<i.length;s++){let o=n._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(n){let i=this._cachedMeta.total;return i>0&&!isNaN(n)?Ge*(Math.abs(n)/i):0}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=Ec(i._parsed[n],r.options.locale);return{label:s[n]||"",value:o}}getMaxBorderWidth(n){let i=0,r=this.chart,s,o,a,c,l;if(!n){for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),n=a.data,c=a.controller;break}}if(!n)return 0;for(s=0,o=n.length;s<o;++s)l=c.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(n){let i=0;for(let r=0,s=n.length;r<s;++r){let o=this.resolveDataElementOptions(r);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(n){let i=0;for(let r=0;r<n;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(n){return Math.max(ce(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),kQ=(()=>{class t extends ws{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){let i=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=i,a=this.chart._animationsDisabled,{start:c,count:l}=JE(i,s,a);this._drawStart=c,this._drawCount=l,XE(i)&&(c=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;let d=this.resolveDatasetElementOptions(n);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},n),this.updateElements(s,c,l,n)}updateElements(n,i,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(i,s),g=a.axis,_=c.axis,{spanGaps:y,segment:v}=this.options,A=Po(y)?y:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||o||s==="none",O=i+r,N=n.length,k=i>0&&this.getParsed(i-1);for(let P=0;P<N;++P){let E=n[P],b=x?E:{};if(P<i||P>=O){b.skip=!0;continue}let I=this.getParsed(P),T=De(I[_]),S=b[g]=a.getPixelForValue(I[g],P),M=b[_]=o||T?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,I,l):I[_],P);b.skip=isNaN(S)||isNaN(M)||T,b.stop=P>0&&Math.abs(I[g]-k[g])>A,v&&(b.parsed=I,b.raw=d.data[P]),f&&(b.options=h||this.resolveDataElementOptions(P,E.active?"active":s)),x||this.updateElement(E,P,b,s),k=I}}getMaxOverflow(){let n=this._cachedMeta,i=n.dataset,r=i.options&&i.options.borderWidth||0,s=n.data||[];if(!s.length)return r;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,a)/2}draw(){let n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}return t})(),iL=(()=>{class t extends ws{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let i=n.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=n.legend.options;return i.labels.map((o,a)=>{let l=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(n,i){super(n,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=Ec(i._parsed[n].r,r.options.locale);return{label:s[n]||"",value:o}}parseObjectData(n,i,r,s){return aD.bind(this)(n,i,r,s)}update(n){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,n)}getMinMax(){let n=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return n.data.forEach((r,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){let n=this.chart,i=n.chartArea,r=n.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),c=(o-a)/n.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(n,i,r,s){let o=s==="reset",a=this.chart,l=a.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,f=d.yCenter,g=d.getIndexAngle(0)-.5*ze,_=g,y,v=360/this.countVisibleElements();for(y=0;y<i;++y)_+=this._computeAngle(y,s,v);for(y=i;y<i+r;y++){let A=n[y],x=_,O=_+this._computeAngle(y,s,v),N=a.getDataVisibility(y)?d.getDistanceFromCenterForValue(this.getParsed(y).r):0;_=O,o&&(l.animateScale&&(N=0),l.animateRotate&&(x=O=g));let k={x:h,y:f,innerRadius:0,outerRadius:N,startAngle:x,endAngle:O,options:this.resolveDataElementOptions(y,A.active?"active":s)};this.updateElement(A,y,k,s)}}countVisibleElements(){let n=this._cachedMeta,i=0;return n.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(n,i,r){return this.chart.getDataVisibility(n)?Nn(this.resolveDataElementOptions(n,i).angle||r):0}}return t})(),FQ=(()=>{class t extends zD{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),LQ=(()=>{class t extends ws{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(n){let i=this._cachedMeta.vScale,r=this.getParsed(n);return{label:i.getLabels()[n],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(n,i,r,s){return aD.bind(this)(n,i,r,s)}update(n){let i=this._cachedMeta,r=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(r.points=s,n!=="resize"){let a=this.resolveDatasetElementOptions(n);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(r,void 0,c,n)}this.updateElements(s,0,s.length,n)}updateElements(n,i,r,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let c=i;c<i+r;c++){let l=n[c],d=this.resolveDataElementOptions(c,l.active?"active":s),h=o.getPointPositionForValue(c,this.getParsed(c).r),f=a?o.xCenter:h.x,g=a?o.yCenter:h.y,_={x:f,y:g,angle:h.angle,skip:isNaN(f)||isNaN(g),options:d};this.updateElement(l,c,_,s)}}}return t})(),VQ=(()=>{class t extends ws{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(n){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(n),c=s.getLabelForValue(a.x),l=o.getLabelForValue(a.y);return{label:r[n]||"",value:"("+c+", "+l+")"}}update(n){let i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled,{start:o,count:a}=JE(i,r,s);if(this._drawStart=o,this._drawCount=a,XE(i)&&(o=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=i;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=r;let d=this.resolveDatasetElementOptions(n);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},n)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,o,a,n)}addElements(){let{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(n,i,r,s){let o=s==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(i,s),f=this.getSharedOptions(h),g=this.includeOptions(s,f),_=a.axis,y=c.axis,{spanGaps:v,segment:A}=this.options,x=Po(v)?v:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||o||s==="none",N=i>0&&this.getParsed(i-1);for(let k=i;k<i+r;++k){let P=n[k],E=this.getParsed(k),b=O?P:{},I=De(E[y]),T=b[_]=a.getPixelForValue(E[_],k),S=b[y]=o||I?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,E,l):E[y],k);b.skip=isNaN(T)||isNaN(S)||I,b.stop=k>0&&Math.abs(E[_]-N[_])>x,A&&(b.parsed=E,b.raw=d.data[k]),g&&(b.options=f||this.resolveDataElementOptions(k,P.active?"active":s)),O||this.updateElement(P,k,b,s),N=E}this.updateSharedOptions(f,s,h)}getMaxOverflow(){let n=this._cachedMeta,i=n.data||[];if(!this.options.showLine){let c=0;for(let l=i.length-1;l>=0;--l)c=Math.max(c,i[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let r=n.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;let o=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,a)/2}}return t})(),BQ=Object.freeze({__proto__:null,BarController:OQ,BubbleController:NQ,DoughnutController:zD,LineController:kQ,PieController:FQ,PolarAreaController:iL,RadarController:LQ,ScatterController:VQ});function Fo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var TD=class t{static override(e){Object.assign(t.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Fo()}parse(){return Fo()}format(){return Fo()}add(){return Fo()}diff(){return Fo()}startOf(){return Fo()}endOf(){return Fo()}},jQ={_date:TD};function UQ(t,e,n,i){let{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){let c=a._reversePixels?Ok:Mi;if(i){if(r._sharedOptions){let l=s[0],d=typeof l.getRange=="function"&&l.getRange(e);if(d){let h=c(s,e,n-d),f=c(s,e,n+d);return{lo:h.lo,hi:f.hi}}}}else return c(s,e,n)}return{lo:0,hi:s.length-1}}function ld(t,e,n,i,r){let s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=s.length;a<c;++a){let{index:l,data:d}=s[a],{lo:h,hi:f}=UQ(s[a],e,o,r);for(let g=h;g<=f;++g){let _=d[g];_.skip||i(_,l,g)}}}function $Q(t){let e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){let s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function _D(t,e,n,i,r){let s=[];return!r&&!t.isPointInArea(e)||ld(t,n,e,function(a,c,l){!r&&!Ri(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:c,index:l})},!0),s}function HQ(t,e,n,i){let r=[];function s(o,a,c){let{startAngle:l,endAngle:d}=o.getProps(["startAngle","endAngle"],i),{angle:h}=qE(o,{x:e.x,y:e.y});Ic(h,l,d)&&r.push({element:o,datasetIndex:a,index:c})}return ld(t,n,e,s),r}function zQ(t,e,n,i,r,s){let o=[],a=$Q(n),c=Number.POSITIVE_INFINITY;function l(d,h,f){let g=d.inRange(e.x,e.y,r);if(i&&!g)return;let _=d.getCenterPoint(r);if(!(!!s||t.isPointInArea(_))&&!g)return;let v=a(e,_);v<c?(o=[{element:d,datasetIndex:h,index:f}],c=v):v===c&&o.push({element:d,datasetIndex:h,index:f})}return ld(t,n,e,l),o}function yD(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?HQ(t,e,n,r):zQ(t,e,n,i,r,s)}function uF(t,e,n,i,r){let s=[],o=n==="x"?"inXRange":"inYRange",a=!1;return ld(t,n,e,(c,l,d)=>{c[o](e[n],r)&&(s.push({element:c,datasetIndex:l,index:d}),a=a||c.inRange(e.x,e.y,r))}),i&&!a?[]:s}var GQ={evaluateInteractionItems:ld,modes:{index(t,e,n,i){let r=vs(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?_D(t,r,s,i,o):yD(t,r,s,!1,i,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(l=>{let d=a[0].index,h=l.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:l.index,index:d})}),c):[]},dataset(t,e,n,i){let r=vs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1,a=n.intersect?_D(t,r,s,i,o):yD(t,r,s,!1,i,o);if(a.length>0){let c=a[0].datasetIndex,l=t.getDatasetMeta(c).data;a=[];for(let d=0;d<l.length;++d)a.push({element:l[d],datasetIndex:c,index:d})}return a},point(t,e,n,i){let r=vs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return _D(t,r,s,i,o)},nearest(t,e,n,i){let r=vs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return yD(t,r,s,n.intersect,i,o)},x(t,e,n,i){let r=vs(e,t);return uF(t,r,"x",n.intersect,i)},y(t,e,n,i){let r=vs(e,t);return uF(t,r,"y",n.intersect,i)}}},rL=["left","top","right","bottom"];function ed(t,e){return t.filter(n=>n.pos===e)}function dF(t,e){return t.filter(n=>rL.indexOf(n.pos)===-1&&n.box.axis===e)}function td(t,e){return t.sort((n,i)=>{let r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function qQ(t){let e=[],n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function WQ(t){let e={};for(let n of t){let{stack:i,pos:r,stackWeight:s}=n;if(!i||!rL.includes(r))continue;let o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function KQ(t,e){let n=WQ(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e,s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];let{fullSize:c}=a.box,l=n[a.stack],d=l&&a.stackWeight/l.weight;a.horizontal?(a.width=d?d*i:c&&e.availableWidth,a.height=r):(a.width=i,a.height=d?d*r:c&&e.availableHeight)}return n}function YQ(t){let e=qQ(t),n=td(e.filter(l=>l.box.fullSize),!0),i=td(ed(e,"left"),!0),r=td(ed(e,"right")),s=td(ed(e,"top"),!0),o=td(ed(e,"bottom")),a=dF(e,"x"),c=dF(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(c).concat(o).concat(a),chartArea:ed(e,"chartArea"),vertical:i.concat(r).concat(c),horizontal:s.concat(o).concat(a)}}function hF(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function sL(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function QQ(t,e,n,i){let{pos:r,box:s}=n,o=t.maxPadding;if(!me(r)){n.size&&(t[r]-=n.size);let h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[r]+=n.size}s.getPadding&&sL(o,s.getPadding());let a=Math.max(0,e.outerWidth-hF(o,t,"left","right")),c=Math.max(0,e.outerHeight-hF(o,t,"top","bottom")),l=a!==t.w,d=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:l,other:d}:{same:d,other:l}}function JQ(t){let e=t.maxPadding;function n(i){let r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function XQ(t,e){let n=e.maxPadding;function i(r){let s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function rd(t,e,n,i){let r=[],s,o,a,c,l,d;for(s=0,o=t.length,l=0;s<o;++s){a=t[s],c=a.box,c.update(a.width||e.w,a.height||e.h,XQ(a.horizontal,e));let{same:h,other:f}=QQ(e,n,a,i);l|=h&&r.length,d=d||f,c.fullSize||r.push(a)}return l&&rd(r,e,n,i)||d}function sm(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function fF(t,e,n,i){let r=n.padding,{x:s,y:o}=e;for(let a of t){let c=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/l.weight||1;if(a.horizontal){let h=e.w*d,f=l.size||c.height;bc(l.start)&&(o=l.start),c.fullSize?sm(c,r.left,o,n.outerWidth-r.right-r.left,f):sm(c,e.left+l.placed,o,h,f),l.start=o,l.placed+=h,o=c.bottom}else{let h=e.h*d,f=l.size||c.width;bc(l.start)&&(s=l.start),c.fullSize?sm(c,s,r.top,f,n.outerHeight-r.bottom-r.top):sm(c,s,e.top+l.placed,f,h),l.start=s,l.placed+=h,s=c.right}}e.x=s,e.y=o}var Jt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){let n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;let r=$t(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=YQ(t.boxes),c=a.vertical,l=a.horizontal;Me(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});let d=c.reduce((y,v)=>v.box.options&&v.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},r);sL(f,$t(i));let g=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),_=KQ(c.concat(l),h);rd(a.fullSize,g,h,_),rd(c,g,h,_),rd(l,g,h,_)&&rd(c,g,h,_),JQ(g),fF(a.leftAndTop,g,h,_),g.x+=g.w,g.y+=g.h,fF(a.rightAndBottom,g,h,_),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Me(a.chartArea,y=>{let v=y.box;Object.assign(v,t.chartArea),v.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}},gm=class{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}},CD=class extends gm{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},hm="$chartjs",ZQ={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},pF=t=>t===null||t==="";function eJ(t,e){let n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[hm]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",pF(r)){let s=lD(t,"width");s!==void 0&&(t.width=s)}if(pF(i))if(t.style.height==="")t.height=t.width/(e||2);else{let s=lD(t,"height");s!==void 0&&(t.height=s)}return t}var oL=Yk?{passive:!0}:!1;function tJ(t,e,n){t&&t.addEventListener(e,n,oL)}function nJ(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,oL)}function iJ(t,e){let n=ZQ[t.type]||t.type,{x:i,y:r}=vs(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function mm(t,e){for(let n of t)if(n===e||n.contains(e))return!0}function rJ(t,e,n){let i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||mm(a.addedNodes,i),o=o&&!mm(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function sJ(t,e,n){let i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||mm(a.removedNodes,i),o=o&&!mm(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}var od=new Map,gF=0;function aL(){let t=window.devicePixelRatio;t!==gF&&(gF=t,od.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function oJ(t,e){od.size||window.addEventListener("resize",aL),od.set(t,e)}function aJ(t){od.delete(t),od.size||window.removeEventListener("resize",aL)}function cJ(t,e,n){let i=t.canvas,r=i&&im(i);if(!r)return;let s=QE((a,c)=>{let l=r.clientWidth;n(a,c),l<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,d=c.contentRect.height;l===0&&d===0||s(l,d)});return o.observe(r),oJ(t,s),o}function vD(t,e,n){n&&n.disconnect(),e==="resize"&&aJ(t)}function lJ(t,e,n){let i=t.canvas,r=QE(s=>{t.ctx!==null&&n(iJ(s,t))},t);return tJ(i,e,r),r}var SD=class extends gm{acquireContext(e,n){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(eJ(e,n),i):null}releaseContext(e){let n=e.canvas;if(!n[hm])return!1;let i=n[hm].initial;["height","width"].forEach(s=>{let o=i[s];De(o)?n.removeAttribute(s):n.setAttribute(s,o)});let r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[hm],!0}addEventListener(e,n,i){this.removeEventListener(e,n);let r=e.$proxies||(e.$proxies={}),o={attach:rJ,detach:sJ,resize:cJ}[n]||lJ;r[n]=o(e,n,i)}removeEventListener(e,n){let i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:vD,detach:vD,resize:vD}[n]||nJ)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return Kk(e,n,i,r)}isAttached(e){let n=e&&im(e);return!!(n&&n.isConnected)}};function uJ(t){return!nm()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?CD:SD}var ti=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Po(this.x)&&Po(this.y)}getProps(e,n){let i=this.$animations;if(!n||!i)return this;let r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}};function dJ(t,e){let n=t.options.ticks,i=hJ(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?pJ(e):[],o=s.length,a=s[0],c=s[o-1],l=[];if(o>r)return gJ(e,l,s,o/r),l;let d=fJ(s,e,r);if(o>0){let h,f,g=o>1?Math.round((c-a)/(o-1)):null;for(om(e,l,d,De(g)?0:a-g,a),h=0,f=o-1;h<f;h++)om(e,l,d,s[h],s[h+1]);return om(e,l,d,c,De(g)?e.length:c+g),l}return om(e,l,d),l}function hJ(t){let e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function fJ(t,e,n){let i=mJ(t),r=e.length/n;if(!i)return Math.max(r,1);let s=xk(i);for(let o=0,a=s.length-1;o<a;o++){let c=s[o];if(c>r)return c}return Math.max(r,1)}function pJ(t){let e=[],n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function gJ(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function om(t,e,n,i,r){let s=ce(i,0),o=Math.min(ce(r,t.length),t.length),a=0,c,l,d;for(n=Math.ceil(n),r&&(c=r-i,n=c/Math.floor(c/n)),d=s;d<0;)a++,d=Math.round(s+a*n);for(l=Math.max(s,0);l<o;l++)l===d&&(e.push(t[l]),a++,d=Math.round(s+a*n))}function mJ(t){let e=t.length,n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}var _J=t=>t==="left"?"right":t==="right"?"left":t,mF=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,_F=(t,e)=>Math.min(e||t,t);function yF(t,e){let n=[],i=t.length/e,r=t.length,s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function yJ(t,e,n){let i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6,c=t.getPixelForTick(r),l;if(!(n&&(i===1?l=Math.max(c-s,o-c):e===0?l=(t.getPixelForTick(1)-c)/2:l=(c-t.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<s-a||c>o+a)))return c}function vJ(t,e){Me(t,n=>{let i=n.gc,r=i.length/2,s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function nd(t){return t.drawTicks?t.tickLength:0}function vF(t,e){if(!t.display)return 0;let n=wt(t.font,e),i=$t(t.padding);return(He(t.text)?t.text.length:1)*n.lineHeight+i.height}function bJ(t,e){return vr(t,{scale:e,type:"scale"})}function wJ(t,e,n){return vr(t,{tick:n,index:e,type:"tick"})}function IJ(t,e,n){let i=Jg(t);return(n&&e!=="right"||!n&&e==="right")&&(i=_J(i)),i}function EJ(t,e,n,i){let{top:r,left:s,bottom:o,right:a,chart:c}=t,{chartArea:l,scales:d}=c,h=0,f,g,_,y=o-r,v=a-s;if(t.isHorizontal()){if(g=Ut(i,s,a),me(n)){let A=Object.keys(n)[0],x=n[A];_=d[A].getPixelForValue(x)+y-e}else n==="center"?_=(l.bottom+l.top)/2+y-e:_=mF(t,n,e);f=a-s}else{if(me(n)){let A=Object.keys(n)[0],x=n[A];g=d[A].getPixelForValue(x)-v+e}else n==="center"?g=(l.left+l.right)/2-v+e:g=mF(t,n,e);_=Ut(i,o,r),h=n==="left"?-ut:ut}return{titleX:g,titleY:_,maxWidth:f,rotation:h}}var Vo=class t extends ti{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=gn(e,Number.POSITIVE_INFINITY),n=gn(n,Number.NEGATIVE_INFINITY),i=gn(i,Number.POSITIVE_INFINITY),r=gn(r,Number.NEGATIVE_INFINITY),{min:gn(e,i),max:gn(n,r),minDefined:nt(e),maxDefined:nt(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:gn(n,gn(i,n)),max:gn(i,gn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ve(this.options.beforeUpdate,[this])}update(e,n,i){let{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$k(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?yF(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=dJ(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ve(this.options.afterUpdate,[this])}beforeSetDimensions(){Ve(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ve(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ve(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ve(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let n=this.options.ticks,i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Ve(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Ve(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ve(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,n=e.ticks,i=_F(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation,o=r,a,c,l;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,g=Ct(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:g/(i-1),h+6>a&&(a=g/(i-(e.offset?.5:1)),c=this.maxHeight-nd(e.grid)-n.padding-vF(e.title,this.chart.options.font),l=Math.sqrt(h*h+f*f),o=Yg(Math.min(Math.asin(Ct((d.highest.height+6)/a,-1,1)),Math.asin(Ct(c/l,-1,1))-Math.asin(Ct(f/l,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ve(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ve(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let c=vF(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=nd(s)+c):(e.height=this.maxHeight,e.width=nd(s)+c),i.display&&this.ticks.length){let{first:l,last:d,widest:h,highest:f}=this._getLabelSizes(),g=i.padding*2,_=Nn(this.labelRotation),y=Math.cos(_),v=Math.sin(_);if(a){let A=i.mirror?0:v*h.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+A+g)}else{let A=i.mirror?0:y*h.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+A+g)}this._calculatePadding(l,d,v,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){let{ticks:{align:s,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),f=0,g=0;c?l?(f=r*e.width,g=i*n.height):(f=i*e.height,g=r*n.width):s==="start"?g=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;s==="start"?(d=0,h=e.height):s==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ve(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)De(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let n=this.options.ticks.sampleSize,i=this.ticks;n<i.length&&(i=yF(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){let{ctx:r,_longestTextCache:s}=this,o=[],a=[],c=Math.floor(n/_F(n,i)),l=0,d=0,h,f,g,_,y,v,A,x,O,N,k;for(h=0;h<n;h+=c){if(_=e[h].label,y=this._resolveTickFontOptions(h),r.font=v=y.string,A=s[v]=s[v]||{data:{},gc:[]},x=y.lineHeight,O=N=0,!De(_)&&!He(_))O=Ku(r,A.data,A.gc,O,_),N=x;else if(He(_))for(f=0,g=_.length;f<g;++f)k=_[f],!De(k)&&!He(k)&&(O=Ku(r,A.data,A.gc,O,k),N+=x);o.push(O),a.push(N),l=Math.max(O,l),d=Math.max(N,d)}vJ(s,n);let P=o.indexOf(l),E=a.indexOf(d),b=I=>({width:o[I]||0,height:a[I]||0});return{first:b(0),last:b(n-1),widest:b(P),highest:b(E),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let n=this._startPixel+e*this._length;return Rk(this._alignToPixels?ms(this.chart,n,0):n)}getDecimalForPixel(e){let n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){let n=this.ticks||[];if(e>=0&&e<n.length){let i=n[e];return i.$context||(i.$context=wJ(this.getContext(),e,i))}return this.$context||(this.$context=bJ(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,n=Nn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*i>a*r?a/i:c/r:c*r<a*i?c/i:a/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,c=s.offset,l=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=nd(s),g=[],_=a.setContext(this.getContext()),y=_.display?_.width:0,v=y/2,A=function(Be){return ms(i,Be,y)},x,O,N,k,P,E,b,I,T,S,M,D;if(o==="top")x=A(this.bottom),E=this.bottom-f,I=x-v,S=A(e.top)+v,D=e.bottom;else if(o==="bottom")x=A(this.top),S=e.top,D=A(e.bottom)-v,E=x+v,I=this.top+f;else if(o==="left")x=A(this.right),P=this.right-f,b=x-v,T=A(e.left)+v,M=e.right;else if(o==="right")x=A(this.left),T=e.left,M=A(e.right)-v,P=x+v,b=this.left+f;else if(n==="x"){if(o==="center")x=A((e.top+e.bottom)/2+.5);else if(me(o)){let Be=Object.keys(o)[0],Pe=o[Be];x=A(this.chart.scales[Be].getPixelForValue(Pe))}S=e.top,D=e.bottom,E=x+v,I=E+f}else if(n==="y"){if(o==="center")x=A((e.left+e.right)/2);else if(me(o)){let Be=Object.keys(o)[0],Pe=o[Be];x=A(this.chart.scales[Be].getPixelForValue(Pe))}P=x-v,b=P-f,T=e.left,M=e.right}let Xe=ce(r.ticks.maxTicksLimit,h),Ie=Math.max(1,Math.ceil(h/Xe));for(O=0;O<h;O+=Ie){let Be=this.getContext(O),Pe=s.setContext(Be),Ot=a.setContext(Be),gt=Pe.lineWidth,Li=Pe.color,Bo=Ot.dash||[],Xt=Ot.dashOffset,it=Pe.tickWidth,Vi=Pe.tickColor,kn=Pe.tickBorderDash||[],Bi=Pe.tickBorderDashOffset;N=yJ(this,O,c),N!==void 0&&(k=ms(i,N,gt),l?P=b=T=M=k:E=I=S=D=k,g.push({tx1:P,ty1:E,tx2:b,ty2:I,x1:T,y1:S,x2:M,y2:D,width:gt,color:Li,borderDash:Bo,borderDashOffset:Xt,tickWidth:it,tickColor:Vi,tickBorderDash:kn,tickBorderDashOffset:Bi}))}return this._ticksLength=h,this._borderValue=x,g}_computeLabelItems(e){let n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:d,mirror:h}=s,f=nd(i.grid),g=f+d,_=h?-d:g,y=-Nn(this.labelRotation),v=[],A,x,O,N,k,P,E,b,I,T,S,M,D="middle";if(r==="top")P=this.bottom-_,E=this._getXAxisLabelAlignment();else if(r==="bottom")P=this.top+_,E=this._getXAxisLabelAlignment();else if(r==="left"){let Ie=this._getYAxisLabelAlignment(f);E=Ie.textAlign,k=Ie.x}else if(r==="right"){let Ie=this._getYAxisLabelAlignment(f);E=Ie.textAlign,k=Ie.x}else if(n==="x"){if(r==="center")P=(e.top+e.bottom)/2+g;else if(me(r)){let Ie=Object.keys(r)[0],Be=r[Ie];P=this.chart.scales[Ie].getPixelForValue(Be)+g}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")k=(e.left+e.right)/2-g;else if(me(r)){let Ie=Object.keys(r)[0],Be=r[Ie];k=this.chart.scales[Ie].getPixelForValue(Be)}E=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?D="top":c==="end"&&(D="bottom"));let Xe=this._getLabelSizes();for(A=0,x=a.length;A<x;++A){O=a[A],N=O.label;let Ie=s.setContext(this.getContext(A));b=this.getPixelForTick(A)+s.labelOffset,I=this._resolveTickFontOptions(A),T=I.lineHeight,S=He(N)?N.length:1;let Be=S/2,Pe=Ie.color,Ot=Ie.textStrokeColor,gt=Ie.textStrokeWidth,Li=E;o?(k=b,E==="inner"&&(A===x-1?Li=this.options.reverse?"left":"right":A===0?Li=this.options.reverse?"right":"left":Li="center"),r==="top"?l==="near"||y!==0?M=-S*T+T/2:l==="center"?M=-Xe.highest.height/2-Be*T+T:M=-Xe.highest.height+T/2:l==="near"||y!==0?M=T/2:l==="center"?M=Xe.highest.height/2-Be*T:M=Xe.highest.height-S*T,h&&(M*=-1),y!==0&&!Ie.showLabelBackdrop&&(k+=T/2*Math.sin(y))):(P=b,M=(1-S)*T/2);let Bo;if(Ie.showLabelBackdrop){let Xt=$t(Ie.backdropPadding),it=Xe.heights[A],Vi=Xe.widths[A],kn=M-Xt.top,Bi=0-Xt.left;switch(D){case"middle":kn-=it/2;break;case"bottom":kn-=it;break}switch(E){case"center":Bi-=Vi/2;break;case"right":Bi-=Vi;break;case"inner":A===x-1?Bi-=Vi:A>0&&(Bi-=Vi/2);break}Bo={left:Bi,top:kn,width:Vi+Xt.width,height:it+Xt.height,color:Ie.backdropColor}}v.push({label:N,font:I,textOffset:M,options:{rotation:y,color:Pe,strokeColor:Ot,strokeWidth:gt,textAlign:Li,textBaseline:D,translation:[k,P],backdrop:Bo}})}return v}_getXAxisLabelAlignment(){let{position:e,ticks:n}=this.options;if(-Nn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,c=o.widest.width,l,d;return n==="left"?r?(d=this.right+s,i==="near"?l="left":i==="center"?(l="center",d+=c/2):(l="right",d+=c)):(d=this.right-a,i==="near"?l="right":i==="center"?(l="center",d-=c/2):(l="left",d=this.left)):n==="right"?r?(d=this.left+s,i==="near"?l="right":i==="center"?(l="center",d-=c/2):(l="left",d-=c)):(d=this.left+a,i==="near"?l="left":i==="center"?(l="center",d+=c/2):(l="right",d=this.right)):l="right",{textAlign:l,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){let n=this.options.grid;if(!this._isVisible()||!n.display)return 0;let r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s,o,a=(c,l,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(l.x,l.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){let c=r[s];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;let a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,d,h,f;this.isHorizontal()?(l=ms(e,this.left,o)-o/2,d=ms(e,this.right,a)+a/2,h=f=c):(h=ms(e,this.top,o)-o/2,f=ms(e,this.bottom,a)+a/2,l=d=c),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(l,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&Ju(i,r);let s=this.getLabelItems(e);for(let o of s){let a=o.options,c=o.font,l=o.label,d=o.textOffset;_s(i,l,0,d,c,a)}r&&Xu(i)}drawTitle(){let{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;let s=wt(i.font),o=$t(i.padding),a=i.align,c=s.lineHeight/2;n==="bottom"||n==="center"||me(n)?(c+=o.bottom,He(i.text)&&(c+=s.lineHeight*(i.text.length-1))):c+=o.top;let{titleX:l,titleY:d,maxWidth:h,rotation:f}=EJ(this,c,n,a);_s(e,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:f,textAlign:IJ(a,n,r),textBaseline:"middle",translation:[l,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,n=e.ticks&&e.ticks.z||0,i=ce(e.grid&&e.grid.z,-1),r=ce(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){let n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],s,o;for(s=0,o=n.length;s<o;++s){let a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){let n=this.options.ticks.setContext(this.getContext(e));return wt(n.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},Sc=class{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let n=Object.getPrototypeOf(e),i;CJ(n)&&(i=this.register(n));let r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,DJ(e,o,i),this.override&&Ye.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Ye[r]&&(delete Ye[r][i],this.override&&delete gs[i])}};function DJ(t,e,n){let i=_c(Object.create(null),[n?Ye.get(n):{},Ye.get(e),t.defaults]);Ye.set(e,i),t.defaultRoutes&&TJ(e,t.defaultRoutes),t.descriptors&&Ye.describe(e,t.descriptors)}function TJ(t,e){Object.keys(e).forEach(n=>{let i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");Ye.route(s,r,c,a)})}function CJ(t){return"id"in t&&"defaults"in t}var AD=class{constructor(){this.controllers=new Sc(ws,"datasets",!0),this.elements=new Sc(ti,"elements"),this.plugins=new Sc(Object,"plugins"),this.scales=new Sc(Vo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{let s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Me(r,o=>{let a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){let r=Kg(e);Ve(i["before"+r],[],i),n[e](i),Ve(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){let i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){let r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}},ki=new AD,xD=class{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(let s of e){let o=s.plugin,a=o[i],c=[n,r,s.options];if(Ve(a,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){De(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){let i=e&&e.config,r=ce(i.options&&i.options.plugins,{}),s=SJ(i);return r===!1&&!n?[]:xJ(e,s,r,n)}_notifyStateChanges(e){let n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}};function SJ(t){let e={},n=[],i=Object.keys(ki.plugins.items);for(let s=0;s<i.length;s++)n.push(ki.getPlugin(i[s]));let r=t.plugins||[];for(let s=0;s<r.length;s++){let o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function AJ(t,e){return!e&&t===!1?null:t===!0?{}:t}function xJ(t,{plugins:e,localIds:n},i,r){let s=[],o=t.getContext();for(let a of e){let c=a.id,l=AJ(i[c],r);l!==null&&s.push({plugin:a,options:MJ(t.config,{plugin:a,local:n[c]},l,o)})}return s}function MJ(t,{plugin:e,local:n},i,r){let s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function MD(t,e){let n=Ye.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function RJ(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function OJ(t,e){return t===e?"_index_":"_value_"}function bF(t){if(t==="x"||t==="y"||t==="r")return t}function NJ(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function RD(t,...e){if(bF(t))return t;for(let n of e){let i=n.axis||NJ(n.position)||t.length>1&&bF(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function wF(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function PJ(t,e){if(e.data&&e.data.datasets){let n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return wF(t,"x",n[0])||wF(t,"y",n[0])}return{}}function kJ(t,e){let n=gs[t.type]||{scales:{}},i=e.scales||{},r=MD(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{let a=i[o];if(!me(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=RD(o,a,PJ(o,t),Ye.scales[a.type]),l=OJ(c,r),d=n.scales||{};s[o]=vc(Object.create(null),[{axis:c},a,d[c],d[l]])}),t.data.datasets.forEach(o=>{let a=o.type||t.type,c=o.indexAxis||MD(a,e),d=(gs[a]||{}).scales||{};Object.keys(d).forEach(h=>{let f=RJ(h,c),g=o[f+"AxisID"]||f;s[g]=s[g]||Object.create(null),vc(s[g],[{axis:f},i[g],d[h]])})}),Object.keys(s).forEach(o=>{let a=s[o];vc(a,[Ye.scales[a.type],Ye.scale])}),s}function cL(t){let e=t.options||(t.options={});e.plugins=ce(e.plugins,{}),e.scales=kJ(t,e)}function lL(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function FJ(t){return t=t||{},t.data=lL(t.data),cL(t),t}var IF=new Map,uL=new Set;function am(t,e){let n=IF.get(t);return n||(n=e(),IF.set(t,n),uL.add(n)),n}var id=(t,e,n)=>{let i=yr(e,n);i!==void 0&&t.add(i)},OD=class{constructor(e){this._config=FJ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=lL(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),cL(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return am(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return am(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return am(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){let n=e.id,i=this.type;return am(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){let i=this._scopeCache,r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){let{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;let c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(h=>id(c,e,h))),d.forEach(h=>id(c,r,h)),d.forEach(h=>id(c,gs[s]||{},h)),d.forEach(h=>id(c,Ye,h)),d.forEach(h=>id(c,Xg,h))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),uL.has(n)&&o.set(n,l),l}chartOptionScopes(){let{options:e,type:n}=this;return[e,gs[n]||{},Ye.datasets[n]||{},{type:n},Ye,Xg]}resolveNamedOptions(e,n,i,r=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=EF(this._resolverCache,e,r),c=o;if(VJ(o,n)){s.$shared=!1,i=mr(i)?i():i;let l=this.createResolver(e,i,a);c=No(o,i,l)}for(let l of n)s[l]=c[l];return s}createResolver(e,n,i=[""],r){let{resolver:s}=EF(this._resolverCache,e,i);return me(n)?No(s,n,void 0,r):s}};function EF(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));let r=n.join(),s=i.get(r);return s||(s={resolver:tm(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}var LJ=t=>me(t)&&Object.getOwnPropertyNames(t).some(e=>mr(t[e]));function VJ(t,e){let{isScriptable:n,isIndexable:i}=rD(t);for(let r of e){let s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(mr(a)||LJ(a))||o&&He(a))return!0}return!1}var BJ="4.4.3",jJ=["top","bottom","left","right","chartArea"];function DF(t,e){return t==="top"||t==="bottom"||jJ.indexOf(t)===-1&&e==="x"}function TF(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function CF(t){let e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ve(n&&n.onComplete,[t],e)}function UJ(t){let e=t.chart,n=e.options.animation;Ve(n&&n.onProgress,[t],e)}function dL(t){return nm()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var fm={},SF=t=>{let e=dL(t);return Object.values(fm).filter(n=>n.canvas===e).pop()};function $J(t,e,n){let i=Object.keys(t);for(let r of i){let s=+r;if(s>=e){let o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function HJ(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function cm(t,e,n){return t.options.clip?t[n]:e[n]}function zJ(t,e){let{xScale:n,yScale:i}=t;return n&&i?{left:cm(n,e,"left"),right:cm(n,e,"right"),top:cm(i,e,"top"),bottom:cm(i,e,"bottom")}:e}var ud=(()=>{class t{static defaults=Ye;static instances=fm;static overrides=gs;static registry=ki;static version=BJ;static getChart=SF;static register(...n){ki.add(...n),AF()}static unregister(...n){ki.remove(...n),AF()}constructor(n,i){let r=this.config=new OD(i),s=dL(n),o=SF(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||uJ(s)),this.platform.updateConfig(r);let c=this.platform.acquireContext(s,a.aspectRatio),l=c&&c.canvas,d=l&&l.height,h=l&&l.width;if(this.id=Tk(),this.ctx=c,this.canvas=l,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new xD,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Fk(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],fm[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}br.listen(this,"complete",CF),br.listen(this,"progress",UJ),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:i},width:r,height:s,_aspectRatio:o}=this;return De(n)?i&&o?o:s?r/s:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return ki}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tD(this.canvas,this.ctx),this}stop(){return br.stop(this),this}resize(n,i){br.running(this)?this._resizeBeforeDraw={width:n,height:i}:this._resize(n,i)}_resize(n,i){let r=this.options,s=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,n,i,o),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,cD(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Ve(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};Me(i,(r,s)=>{r.id=s})}buildOrUpdateScales(){let n=this.options,i=n.scales,r=this.scales,s=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{}),o=[];i&&(o=o.concat(Object.keys(i).map(a=>{let c=i[a],l=RD(a,c),d=l==="r",h=l==="x";return{options:c,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),Me(o,a=>{let c=a.options,l=c.id,d=RD(l,c),h=ce(c.type,a.dtype);(c.position===void 0||DF(c.position,d)!==DF(a.dposition))&&(c.position=a.dposition),s[l]=!0;let f=null;if(l in r&&r[l].type===h)f=r[l];else{let g=ki.getScale(h);f=new g({id:l,type:h,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(c,n)}),Me(s,(a,c)=>{a||delete r[c]}),Me(r,a=>{Jt.configure(this,a,a.options),Jt.addBox(this,a)})}_updateMetasets(){let n=this._metasets,i=this.data.datasets.length,r=n.length;if(n.sort((s,o)=>s.index-o.index),r>i){for(let s=i;s<r;++s)this._destroyDatasetMeta(s);n.splice(i,r-i)}this._sortedMetasets=n.slice(0).sort(TF("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:i}}=this;n.length>i.length&&delete this._stacks,n.forEach((r,s)=>{i.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let n=[],i=this.data.datasets,r,s;for(this._removeUnreferencedMetasets(),r=0,s=i.length;r<s;r++){let o=i[r],a=this.getDatasetMeta(r),c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=o.indexAxis||MD(c,this.options),a.order=o.order||0,a.index=r,a.label=""+o.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let l=ki.getController(c),{datasetElementType:d,dataElementType:h}=Ye.datasets[c];Object.assign(l,{dataElementType:ki.getElement(h),datasetElementType:d&&ki.getElement(d)}),a.controller=new l(this,r),n.push(a.controller)}}return this._updateMetasets(),n}_resetElements(){Me(this.data.datasets,(n,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){let{controller:f}=this.getDatasetMeta(d),g=!s&&o.indexOf(f)===-1;f.buildOrUpdateElements(g),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||Me(o,d=>{d.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(TF("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Me(this.scales,n=>{Jt.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(n.events);(!$E(i,r)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:s,count:o}of i){let a=r==="_removeElements"?-o:o;$J(n,s,a)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=o=>new Set(n.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=r(0);for(let o=1;o<i;o++)if(!$E(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Jt.update(this,this.width,this.height,n);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],Me(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,mr(n)?n({datasetIndex:i}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,i){let r=this.getDatasetMeta(n),s={meta:r,index:n,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(br.has(this)?this.attached&&!br.running(this)&&br.start(this):(this.draw(),CF({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:r,height:s}=this._resizeBeforeDraw;this._resize(r,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(n=0;n<i.length&&i[n].z<=0;++n)i[n].draw(this.chartArea);for(this._drawDatasets();n<i.length;++n)i[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let i=this._sortedMetasets,r=[],s,o;for(s=0,o=i.length;s<o;++s){let a=i[s];(!n||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i)this._drawDataset(n[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let i=this.ctx,r=n._clip,s=!r.disabled,o=zJ(n,this.chartArea),a={meta:n,index:n.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&Ju(i,{left:r.left===!1?0:o.left-r.left,right:r.right===!1?this.width:o.right+r.right,top:r.top===!1?0:o.top-r.top,bottom:r.bottom===!1?this.height:o.bottom+r.bottom}),n.controller.draw(),s&&Xu(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(n){return Ri(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,i,r,s){let o=GQ.modes[i];return typeof o=="function"?o(this,n,r,s):[]}getDatasetMeta(n){let i=this.data.datasets[n],r=this._metasets,s=r.filter(o=>o&&o._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:n,_dataset:i,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=vr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let i=this.data.datasets[n];if(!i)return!1;let r=this.getDatasetMeta(n);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(n,i){let r=this.getDatasetMeta(n);r.hidden=!i}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,i,r){let s=r?"show":"hide",o=this.getDatasetMeta(n),a=o.controller._resolveAnimations(void 0,s);bc(i)?(o.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(n,r),a.update(o,{visible:r}),this.update(c=>c.datasetIndex===n?s:void 0))}hide(n,i){this._updateVisibility(n,i,!1)}show(n,i){this._updateVisibility(n,i,!0)}_destroyDatasetMeta(n){let i=this._metasets[n];i&&i.controller&&i.controller._destroy(),delete this._metasets[n]}_stop(){let n,i;for(this.stop(),br.remove(this),n=0,i=this.data.datasets.length;n<i;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:i}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),tD(n,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete fm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,i=this.platform,r=(o,a)=>{i.addEventListener(this,o,a),n[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};Me(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,i=this.platform,r=(l,d)=>{i.addEventListener(this,l,d),n[l]=d},s=(l,d)=>{n[l]&&(i.removeEventListener(this,l,d),delete n[l])},o=(l,d)=>{this.canvas&&this.resize(l,d)},a,c=()=>{s("attach",c),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",c)},i.isAttached(this.canvas)?c():a()}unbindEvents(){Me(this._listeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._listeners={},Me(this._responsiveListeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,i,r){let s=r?"set":"remove",o,a,c,l;for(i==="dataset"&&(o=this.getDatasetMeta(n[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,l=n.length;c<l;++c){a=n[c];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let i=this._active||[],r=n.map(({datasetIndex:o,index:a})=>{let c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!Yu(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(n,i,r){return this._plugins.notify(this,n,i,r)}isPluginEnabled(n){return this._plugins._cache.filter(i=>i.plugin.id===n).length===1}_updateHoverStyles(n,i,r){let s=this.options.hover,o=(l,d)=>l.filter(h=>!d.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=o(i,n),c=r?n:o(n,i);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(n,i){let r={event:n,replay:i,cancelable:!0,inChartArea:this.isPointInArea(n)},s=a=>(a.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;let o=this._handleEvent(n,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(n,i,r){let{_active:s=[],options:o}=this,a=i,c=this._getActiveElements(n,s,r,a),l=Ak(n),d=HJ(n,this._lastEvent,r,l);r&&(this._lastEvent=null,Ve(o.onHover,[n,c,this],this),l&&Ve(o.onClick,[n,c,this],this));let h=!Yu(c,s);return(h||i)&&(this._active=c,this._updateHoverStyles(c,s,i)),this._lastEvent=d,h}_getActiveElements(n,i,r,s){if(n.type==="mouseout")return[];if(!r)return i;let o=this.options.hover;return this.getElementsAtEventForMode(n,o.mode,o,s)}}return t})();function AF(){return Me(ud.instances,t=>t._plugins.invalidate())}function GJ(t,e,n){let{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:c}=e,l=r/a;t.beginPath(),t.arc(s,o,a,i-l,n+l),c>r?(l=r/c,t.arc(s,o,c,n+l,i-l,!0)):t.arc(s,o,r,n+ut,i-ut),t.closePath(),t.clip()}function qJ(t){return em(t,["outerStart","outerEnd","innerStart","innerEnd"])}function WJ(t,e,n,i){let r=qJ(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=c=>{let l=(n-Math.min(s,c))*i/2;return Ct(c,0,Math.min(s,l))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Ct(r.innerStart,0,o),innerEnd:Ct(r.innerEnd,0,o)}}function Cc(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function _m(t,e,n,i,r,s){let{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:d}=e,h=Math.max(e.outerRadius+i+n-l,0),f=d>0?d+i+n+l:0,g=0,_=r-c;if(i){let Ie=d>0?d-i:0,Be=h>0?h-i:0,Pe=(Ie+Be)/2,Ot=Pe!==0?_*Pe/(Pe+i):_;g=(_-Ot)/2}let y=Math.max(.001,_*h-n/ze)/h,v=(_-y)/2,A=c+v+g,x=r-v-g,{outerStart:O,outerEnd:N,innerStart:k,innerEnd:P}=WJ(e,f,h,x-A),E=h-O,b=h-N,I=A+O/E,T=x-N/b,S=f+k,M=f+P,D=A+k/S,Xe=x-P/M;if(t.beginPath(),s){let Ie=(I+T)/2;if(t.arc(o,a,h,I,Ie),t.arc(o,a,h,Ie,T),N>0){let gt=Cc(b,T,o,a);t.arc(gt.x,gt.y,N,T,x+ut)}let Be=Cc(M,x,o,a);if(t.lineTo(Be.x,Be.y),P>0){let gt=Cc(M,Xe,o,a);t.arc(gt.x,gt.y,P,x+ut,Xe+Math.PI)}let Pe=(x-P/f+(A+k/f))/2;if(t.arc(o,a,f,x-P/f,Pe,!0),t.arc(o,a,f,Pe,A+k/f,!0),k>0){let gt=Cc(S,D,o,a);t.arc(gt.x,gt.y,k,D+Math.PI,A-ut)}let Ot=Cc(E,A,o,a);if(t.lineTo(Ot.x,Ot.y),O>0){let gt=Cc(E,I,o,a);t.arc(gt.x,gt.y,O,A-ut,I)}}else{t.moveTo(o,a);let Ie=Math.cos(I)*h+o,Be=Math.sin(I)*h+a;t.lineTo(Ie,Be);let Pe=Math.cos(T)*h+o,Ot=Math.sin(T)*h+a;t.lineTo(Pe,Ot)}t.closePath()}function KJ(t,e,n,i,r){let{fullCircles:s,startAngle:o,circumference:a}=e,c=e.endAngle;if(s){_m(t,e,n,i,c,r);for(let l=0;l<s;++l)t.fill();isNaN(a)||(c=o+(a%Ge||Ge))}return _m(t,e,n,i,c,r),t.fill(),c}function YJ(t,e,n,i,r){let{fullCircles:s,startAngle:o,circumference:a,options:c}=e,{borderWidth:l,borderJoinStyle:d,borderDash:h,borderDashOffset:f}=c,g=c.borderAlign==="inner";if(!l)return;t.setLineDash(h||[]),t.lineDashOffset=f,g?(t.lineWidth=l*2,t.lineJoin=d||"round"):(t.lineWidth=l,t.lineJoin=d||"bevel");let _=e.endAngle;if(s){_m(t,e,n,i,_,r);for(let y=0;y<s;++y)t.stroke();isNaN(a)||(_=o+(a%Ge||Ge))}g&&GJ(t,e,_),s||(_m(t,e,n,i,_,r),t.stroke())}var ND=class extends ti{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){let r=this.getProps(["x","y"],i),{angle:s,distance:o}=qE(r,{x:e,y:n}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,_=ce(h,c-a)>=Ge||Ic(s,a,c),y=Ni(o,l+f,d+f);return _&&y}getCenterPoint(e){let{x:n,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:l}=this.options,d=(r+s)/2,h=(o+a+l+c)/2;return{x:n+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:n,circumference:i}=this,r=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Ge?Math.floor(i/Ge):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);let c=1-Math.sin(Math.min(ze,i||0)),l=r*c;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,KJ(e,this,l,s,o),YJ(e,this,l,s,o),e.restore()}};function hL(t,e,n=e){t.lineCap=ce(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ce(n.borderDash,e.borderDash)),t.lineDashOffset=ce(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ce(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ce(n.borderWidth,e.borderWidth),t.strokeStyle=ce(n.borderColor,e.borderColor)}function QJ(t,e,n){t.lineTo(n.x,n.y)}function JJ(t){return t.stepped?jk:t.tension||t.cubicInterpolationMode==="monotone"?Uk:QJ}function fL(t,e,n={}){let i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,c=Math.max(r,o),l=Math.min(s,a),d=r<o&&s<o||r>a&&s>a;return{count:i,start:c,loop:e.loop,ilen:l<c&&!d?i+l-c:l-c}}function XJ(t,e,n,i){let{points:r,options:s}=e,{count:o,start:a,loop:c,ilen:l}=fL(r,n,i),d=JJ(s),{move:h=!0,reverse:f}=i||{},g,_,y;for(g=0;g<=l;++g)_=r[(a+(f?l-g:g))%o],!_.skip&&(h?(t.moveTo(_.x,_.y),h=!1):d(t,y,_,f,s.stepped),y=_);return c&&(_=r[(a+(f?l:0))%o],d(t,y,_,f,s.stepped)),!!c}function ZJ(t,e,n,i){let r=e.points,{count:s,start:o,ilen:a}=fL(r,n,i),{move:c=!0,reverse:l}=i||{},d=0,h=0,f,g,_,y,v,A,x=N=>(o+(l?a-N:N))%s,O=()=>{y!==v&&(t.lineTo(d,v),t.lineTo(d,y),t.lineTo(d,A))};for(c&&(g=r[x(0)],t.moveTo(g.x,g.y)),f=0;f<=a;++f){if(g=r[x(f)],g.skip)continue;let N=g.x,k=g.y,P=N|0;P===_?(k<y?y=k:k>v&&(v=k),d=(h*d+N)/++h):(O(),t.lineTo(N,k),_=P,h=0,y=v=k),A=k}O()}function PD(t){let e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?ZJ:XJ}function eX(t){return t.stepped?Qk:t.tension||t.cubicInterpolationMode==="monotone"?Jk:ps}function tX(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),hL(t,e.options),t.stroke(r)}function nX(t,e,n,i){let{segments:r,options:s}=e,o=PD(e);for(let a of r)hL(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}var iX=typeof Path2D=="function";function rX(t,e,n,i){iX&&!e.options.segment?tX(t,e,n,i):nX(t,e,n,i)}var bm=(()=>{class t extends ti{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let s=r.spanGaps?this._loop:this._fullLoop;Wk(this._points,r,n,s,i),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Zk(this,this.options.segment))}first(){let n=this.segments,i=this.points;return n.length&&i[n[0].start]}last(){let n=this.segments,i=this.points,r=n.length;return r&&i[n[r-1].end]}interpolate(n,i){let r=this.options,s=n[i],o=this.points,a=fD(this,{property:i,start:s,end:s});if(!a.length)return;let c=[],l=eX(r),d,h;for(d=0,h=a.length;d<h;++d){let{start:f,end:g}=a[d],_=o[f],y=o[g];if(_===y){c.push(_);continue}let v=Math.abs((s-_[i])/(y[i]-_[i])),A=l(_,y,v,r.stepped);A[i]=n[i],c.push(A)}return c.length===1?c[0]:c}pathSegment(n,i,r){return PD(this)(n,this,i,r)}path(n,i,r){let s=this.segments,o=PD(this),a=this._loop;i=i||0,r=r||this.points.length-i;for(let c of s)a&=o(n,this,c,{start:i,end:i+r-1});return!!a}draw(n,i,r,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(n.save(),rX(n,this,r,s),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function xF(t,e,n,i){let r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}var sX=(()=>{class t extends ti{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return xF(this,n,"x",i)}inYRange(n,i){return xF(this,n,"y",i)}getCenterPoint(n){let{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);let r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){let r=this.options;this.skip||r.radius<.1||!Ri(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Zg(n,r,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}return t})();function pL(t,e){let{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e),a,c,l,d,h;return t.horizontal?(h=o/2,a=Math.min(n,r),c=Math.max(n,r),l=i-h,d=i+h):(h=s/2,a=n-h,c=n+h,l=Math.min(i,r),d=Math.max(i,r)),{left:a,top:l,right:c,bottom:d}}function bs(t,e,n,i){return t?0:Ct(e,n,i)}function oX(t,e,n){let i=t.options.borderWidth,r=t.borderSkipped,s=iD(i);return{t:bs(r.top,s.top,0,n),r:bs(r.right,s.right,0,e),b:bs(r.bottom,s.bottom,0,n),l:bs(r.left,s.left,0,e)}}function aX(t,e,n){let{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=ys(r),o=Math.min(e,n),a=t.borderSkipped,c=i||me(r);return{topLeft:bs(!c||a.top||a.left,s.topLeft,0,o),topRight:bs(!c||a.top||a.right,s.topRight,0,o),bottomLeft:bs(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:bs(!c||a.bottom||a.right,s.bottomRight,0,o)}}function cX(t){let e=pL(t),n=e.right-e.left,i=e.bottom-e.top,r=oX(t,n/2,i/2),s=aX(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function bD(t,e,n,i){let r=e===null,s=n===null,a=t&&!(r&&s)&&pL(t,i);return a&&(r||Ni(e,a.left,a.right))&&(s||Ni(n,a.top,a.bottom))}function lX(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function uX(t,e){t.rect(e.x,e.y,e.w,e.h)}function wD(t,e,n={}){let i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}var kD=class extends ti{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=cX(this),a=lX(o.radius)?Dc:uX;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,wD(o,n,s)),e.clip(),a(e,wD(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,wD(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return bD(this,e,n,i)}inXRange(e,n){return bD(this,e,null,n)}inYRange(e,n){return bD(this,null,e,n)}getCenterPoint(e){let{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},dX=Object.freeze({__proto__:null,ArcElement:ND,BarElement:kD,LineElement:bm,PointElement:sX}),FD=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],MF=FD.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function gL(t){return FD[t%FD.length]}function mL(t){return MF[t%MF.length]}function hX(t,e){return t.borderColor=gL(e),t.backgroundColor=mL(e),++e}function fX(t,e){return t.backgroundColor=t.data.map(()=>gL(e++)),e}function pX(t,e){return t.backgroundColor=t.data.map(()=>mL(e++)),e}function gX(t){let e=0;return(n,i)=>{let r=t.getDatasetMeta(i).controller;r instanceof zD?e=fX(n,e):r instanceof iL?e=pX(n,e):r&&(e=hX(n,e))}}function RF(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function mX(t){return t&&(t.borderColor||t.backgroundColor)}var _X={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;let{data:{datasets:i},options:r}=t.config,{elements:s}=r;if(!n.forceOverride&&(RF(i)||mX(r)||s&&RF(s)))return;let o=gX(t);i.forEach(o)}};function yX(t,e,n,i,r){let s=r.samples||i;if(s>=n)return t.slice(e,e+n);let o=[],a=(n-2)/(s-2),c=0,l=e+n-1,d=e,h,f,g,_,y;for(o[c++]=t[d],h=0;h<s-2;h++){let v=0,A=0,x,O=Math.floor((h+1)*a)+1+e,N=Math.min(Math.floor((h+2)*a)+1,n)+e,k=N-O;for(x=O;x<N;x++)v+=t[x].x,A+=t[x].y;v/=k,A/=k;let P=Math.floor(h*a)+1+e,E=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:b,y:I}=t[d];for(g=_=-1,x=P;x<E;x++)_=.5*Math.abs((b-v)*(t[x].y-I)-(b-t[x].x)*(A-I)),_>g&&(g=_,f=t[x],y=x);o[c++]=f,d=y}return o[c++]=t[l],o}function vX(t,e,n,i){let r=0,s=0,o,a,c,l,d,h,f,g,_,y,v=[],A=e+n-1,x=t[e].x,N=t[A].x-x;for(o=e;o<e+n;++o){a=t[o],c=(a.x-x)/N*i,l=a.y;let k=c|0;if(k===d)l<_?(_=l,h=o):l>y&&(y=l,f=o),r=(s*r+a.x)/++s;else{let P=o-1;if(!De(h)&&!De(f)){let E=Math.min(h,f),b=Math.max(h,f);E!==g&&E!==P&&v.push(ve(U({},t[E]),{x:r})),b!==g&&b!==P&&v.push(ve(U({},t[b]),{x:r}))}o>0&&P!==g&&v.push(t[P]),v.push(a),d=k,s=0,_=y=l,h=f=g=o}}return v}function _L(t){if(t._decimated){let e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function OF(t){t.data.datasets.forEach(e=>{_L(e)})}function bX(t,e){let n=e.length,i=0,r,{iScale:s}=t,{min:o,max:a,minDefined:c,maxDefined:l}=s.getUserBounds();return c&&(i=Ct(Mi(e,s.axis,o).lo,0,n-1)),l?r=Ct(Mi(e,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var wX={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){OF(t);return}let i=t.width;t.data.datasets.forEach((r,s)=>{let{_data:o,indexAxis:a}=r,c=t.getDatasetMeta(s),l=o||r.data;if(Tc([a,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:h,count:f}=bX(c,l),g=n.threshold||4*i;if(f<=g){_L(r);return}De(o)&&(r._data=l,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let _;switch(n.algorithm){case"lttb":_=yX(l,h,f,i,n);break;case"min-max":_=vX(l,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=_})},destroy(t){OF(t)}};function IX(t,e,n){let i=t.segments,r=t.points,s=e.points,o=[];for(let a of i){let{start:c,end:l}=a;l=GD(c,l,r);let d=LD(n,r[c],r[l],a.loop);if(!e.segments){o.push({source:a,target:d,start:r[c],end:r[l]});continue}let h=fD(e,d);for(let f of h){let g=LD(n,s[f.start],s[f.end],f.loop),_=hD(a,r,g);for(let y of _)o.push({source:y,target:f,start:{[n]:NF(d,g,"start",Math.max)},end:{[n]:NF(d,g,"end",Math.min)}})}}return o}function LD(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=pn(r),s=pn(s)),{property:t,start:r,end:s}}function EX(t,e){let{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=GD(o,a,r);let c=r[o],l=r[a];i!==null?(s.push({x:c.x,y:i}),s.push({x:l.x,y:i})):n!==null&&(s.push({x:n,y:c.y}),s.push({x:n,y:l.y}))}),s}function GD(t,e,n){for(;e>t;e--){let i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function NF(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function yL(t,e){let n=[],i=!1;return He(t)?(i=!0,n=t):n=EX(t,e),n.length?new bm({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function PF(t){return t&&t.fill!==!1}function DX(t,e,n){let r=t[e].fill,s=[e],o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!nt(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function TX(t,e,n){let i=xX(t);if(me(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return nt(r)&&Math.floor(r)===r?CX(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function CX(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function SX(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:me(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function AX(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:me(t)?i=t.value:i=e.getBaseValue(),i}function xX(t){let e=t.options,n=e.fill,i=ce(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function MX(t){let{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=RX(e,n);a.push(yL({x:null,y:e.bottom},i));for(let c=0;c<s.length;c++){let l=s[c];for(let d=l.start;d<=l.end;d++)OX(r,o[d],a)}return new bm({points:r,options:{}})}function RX(t,e){let n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function OX(t,e,n){let i=[];for(let r=0;r<n.length;r++){let s=n[r],{first:o,last:a,point:c}=NX(s,e,"x");if(!(!c||o&&a)){if(o)i.unshift(c);else if(t.push(c),!a)break}}t.push(...i)}function NX(t,e,n){let i=t.interpolate(e,n);if(!i)return{};let r=i[n],s=t.segments,o=t.points,a=!1,c=!1;for(let l=0;l<s.length;l++){let d=s[l],h=o[d.start][n],f=o[d.end][n];if(Ni(r,h,f)){a=r===h,c=r===f;break}}return{first:a,last:c,point:i}}var ym=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){let{x:r,y:s,radius:o}=this;return n=n||{start:0,end:Ge},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){let{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}};function PX(t){let{chart:e,fill:n,line:i}=t;if(nt(n))return kX(e,n);if(n==="stack")return MX(t);if(n==="shape")return!0;let r=FX(t);return r instanceof ym?r:yL(r,i)}function kX(t,e){let n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function FX(t){return(t.scale||{}).getPointPositionForValue?VX(t):LX(t)}function LX(t){let{scale:e={},fill:n}=t,i=SX(n,e);if(nt(i)){let r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function VX(t){let{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=AX(n,e,s),a=[];if(i.grid.circular){let c=e.getPointPositionForValue(0,s);return new ym({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)a.push(e.getPointPositionForValue(c,o));return a}function ID(t,e,n){let i=PX(e),{line:r,scale:s,axis:o}=e,a=r.options,c=a.fill,l=a.backgroundColor,{above:d=l,below:h=l}=c||{};i&&r.points.length&&(Ju(t,n),BX(t,{line:r,target:i,above:d,below:h,area:n,scale:s,axis:o}),Xu(t))}function BX(t,e){let{line:n,target:i,above:r,below:s,area:o,scale:a}=e,c=n._loop?"angle":e.axis;t.save(),c==="x"&&s!==r&&(kF(t,i,o.top),FF(t,{line:n,target:i,color:r,scale:a,property:c}),t.restore(),t.save(),kF(t,i,o.bottom)),FF(t,{line:n,target:i,color:s,scale:a,property:c}),t.restore()}function kF(t,e,n){let{segments:i,points:r}=e,s=!0,o=!1;t.beginPath();for(let a of i){let{start:c,end:l}=a,d=r[c],h=r[GD(c,l,r)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function FF(t,e){let{line:n,target:i,property:r,color:s,scale:o}=e,a=IX(n,i,r);for(let{source:c,target:l,start:d,end:h}of a){let{style:{backgroundColor:f=s}={}}=c,g=i!==!0;t.save(),t.fillStyle=f,jX(t,o,g&&LD(r,d,h)),t.beginPath();let _=!!n.pathSegment(t,c),y;if(g){_?t.closePath():LF(t,i,h,r);let v=!!i.pathSegment(t,l,{move:_,reverse:!0});y=_&&v,y||LF(t,i,d,r)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function jX(t,e,n){let{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function LF(t,e,n,i){let r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var UX={id:"filler",afterDatasetsUpdate(t,e,n){let i=(t.data.datasets||[]).length,r=[],s,o,a,c;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof bm&&(c={visible:t.isDatasetVisible(o),index:o,fill:TX(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,r.push(c);for(o=0;o<i;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=DX(r,o,n.propagate))},beforeDraw(t,e,n){let i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){let a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&ID(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;let i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let s=i[r].$filler;PF(s)&&ID(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){let i=e.meta.$filler;!PF(i)||n.drawTime!=="beforeDatasetDraw"||ID(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},VF=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},$X=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index,vm=class extends ti{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},n=Ve(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){let{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}let i=e.labels,r=wt(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=VF(i,s),l,d;n.font=r.string,this.isHorizontal()?(l=this.maxWidth,d=this._fitRows(o,s,a,c)+10):(d=this.maxHeight,l=this._fitCols(o,r,a,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],d=r+a,h=e;s.textAlign="left",s.textBaseline="middle";let f=-1,g=-d;return this.legendItems.forEach((_,y)=>{let v=i+n/2+s.measureText(_.text).width;(y===0||l[l.length-1]+v+2*a>o)&&(h+=d,l[l.length-(y>0?0:1)]=0,g+=d,f++),c[y]={left:0,top:g,row:f,width:v,height:r},l[l.length-1]+=v+a}),h}_fitCols(e,n,i,r){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],d=o-e,h=a,f=0,g=0,_=0,y=0;return this.legendItems.forEach((v,A)=>{let{itemWidth:x,itemHeight:O}=HX(i,n,s,v,r);A>0&&g+O+2*a>d&&(h+=f+a,l.push({width:f,height:g}),_+=f+a,y++,f=g=0),c[A]={left:_,top:g,col:y,width:x,height:O},f=Math.max(f,x),g+=O+a}),h+=f,l.push({width:f,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=ko(s,this.left,this.width);if(this.isHorizontal()){let a=0,c=Ut(i,this.left+r,this.right-this.lineWidths[a]);for(let l of n)a!==l.row&&(a=l.row,c=Ut(i,this.left+r,this.right-this.lineWidths[a])),l.top+=this.top+e+r,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+r}else{let a=0,c=Ut(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(let l of n)l.col!==a&&(a=l.col,c=Ut(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+r,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;Ju(e,this),this._draw(),Xu(e)}}_draw(){let{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=Ye.color,c=ko(e.rtl,this.left,this.width),l=wt(o.font),{padding:d}=o,h=l.size,f=h/2,g;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;let{boxWidth:_,boxHeight:y,itemHeight:v}=VF(o,h),A=function(P,E,b){if(isNaN(_)||_<=0||isNaN(y)||y<0)return;r.save();let I=ce(b.lineWidth,1);if(r.fillStyle=ce(b.fillStyle,a),r.lineCap=ce(b.lineCap,"butt"),r.lineDashOffset=ce(b.lineDashOffset,0),r.lineJoin=ce(b.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=ce(b.strokeStyle,a),r.setLineDash(ce(b.lineDash,[])),o.usePointStyle){let T={radius:y*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:I},S=c.xPlus(P,_/2),M=E+f;nD(r,T,S,M,o.pointStyleWidth&&_)}else{let T=E+Math.max((h-y)/2,0),S=c.leftForLtr(P,_),M=ys(b.borderRadius);r.beginPath(),Object.values(M).some(D=>D!==0)?Dc(r,{x:S,y:T,w:_,h:y,radius:M}):r.rect(S,T,_,y),r.fill(),I!==0&&r.stroke()}r.restore()},x=function(P,E,b){_s(r,b.text,P,E+v/2,l,{strikethrough:b.hidden,textAlign:c.textAlign(b.textAlign)})},O=this.isHorizontal(),N=this._computeTitleHeight();O?g={x:Ut(s,this.left+d,this.right-i[0]),y:this.top+d+N,line:0}:g={x:this.left+d,y:Ut(s,this.top+N+d,this.bottom-n[0].height),line:0},uD(this.ctx,e.textDirection);let k=v+d;this.legendItems.forEach((P,E)=>{r.strokeStyle=P.fontColor,r.fillStyle=P.fontColor;let b=r.measureText(P.text).width,I=c.textAlign(P.textAlign||(P.textAlign=o.textAlign)),T=_+f+b,S=g.x,M=g.y;c.setWidth(this.width),O?E>0&&S+T+d>this.right&&(M=g.y+=k,g.line++,S=g.x=Ut(s,this.left+d,this.right-i[g.line])):E>0&&M+k>this.bottom&&(S=g.x=S+n[g.line].width+d,g.line++,M=g.y=Ut(s,this.top+N+d,this.bottom-n[g.line].height));let D=c.x(S);if(A(D,M,P),S=Lk(I,S+_+f,O?S+T:this.right,e.rtl),x(c.x(S),M,P),O)g.x+=T+d;else if(typeof P.text!="string"){let Xe=l.lineHeight;g.y+=vL(P,Xe)+d}else g.y+=k}),dD(this.ctx,e.textDirection)}drawTitle(){let e=this.options,n=e.title,i=wt(n.font),r=$t(n.padding);if(!n.display)return;let s=ko(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=i.size/2,l=r.top+c,d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+l,h=Ut(e.align,h,this.right-f);else{let _=this.columnSizes.reduce((y,v)=>Math.max(y,v.height),0);d=l+Ut(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}let g=Ut(a,h,h+f);o.textAlign=s.textAlign(Jg(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,_s(o,n.text,g,d,i)}_computeTitleHeight(){let e=this.options.title,n=wt(e.font),i=$t(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(Ni(e,this.left,this.right)&&Ni(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Ni(e,r.left,r.left+r.width)&&Ni(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){let n=this.options;if(!qX(e.type,n))return;let i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,s=$X(r,i);r&&!s&&Ve(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Ve(n.onHover,[e,i,this],this)}else i&&Ve(n.onClick,[e,i,this],this)}};function HX(t,e,n,i,r){let s=zX(i,t,e,n),o=GX(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function zX(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function GX(t,e,n){let i=t;return typeof e.text!="string"&&(i=vL(e,n)),i}function vL(t,e){let n=t.text?t.text.length:0;return e*n}function qX(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var WX={id:"legend",_element:vm,start(t,e,n){let i=t.legend=new vm({ctx:t.ctx,options:n,chart:t});Jt.configure(t,i,n),Jt.addBox(t,i)},stop(t){Jt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){let i=t.legend;Jt.configure(t,i,n),i.options=n},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){let i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(n?0:void 0),d=$t(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},ad=class extends ti{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;let r=He(i.text)?i.text.length:1;this._padding=$t(i.padding);let s=r*wt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align,c=0,l,d,h;return this.isHorizontal()?(d=Ut(a,i,s),h=n+e,l=s-i):(o.position==="left"?(d=i+e,h=Ut(a,r,n),c=ze*-.5):(d=s-e,h=Ut(a,n,r),c=ze*.5),l=r-n),{titleX:d,titleY:h,maxWidth:l,rotation:c}}draw(){let e=this.ctx,n=this.options;if(!n.display)return;let i=wt(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(s);_s(e,n.text,0,0,i,{color:n.color,maxWidth:c,rotation:l,textAlign:Jg(n.align),textBaseline:"middle",translation:[o,a]})}};function KX(t,e){let n=new ad({ctx:t.ctx,options:e,chart:t});Jt.configure(t,n,e),Jt.addBox(t,n),t.titleBlock=n}var YX={id:"title",_element:ad,start(t,e,n){KX(t,n)},stop(t){let e=t.titleBlock;Jt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){let i=t.titleBlock;Jt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},lm=new WeakMap,QX={id:"subtitle",start(t,e,n){let i=new ad({ctx:t.ctx,options:n,chart:t});Jt.configure(t,i,n),Jt.addBox(t,i),lm.set(t,i)},stop(t){Jt.removeBox(t,lm.get(t)),lm.delete(t)},beforeUpdate(t,e,n){let i=lm.get(t);Jt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},sd={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){let a=t[e].element;if(a&&a.hasValue()){let c=a.tooltipPosition();i.add(c.x),r+=c.y,++s}}return{x:[...i].reduce((a,c)=>a+c)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){let c=t[s].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),d=qg(e,l);d<r&&(r=d,a=c)}}if(a){let c=a.tooltipPosition();n=c.x,i=c.y}return{x:n,y:i}}};function Pi(t,e){return e&&(He(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function wr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function JX(t,e){let{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function BF(t,e){let n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,c=wt(e.bodyFont),l=wt(e.titleFont),d=wt(e.footerFont),h=s.length,f=r.length,g=i.length,_=$t(e.padding),y=_.height,v=0,A=i.reduce((N,k)=>N+k.before.length+k.lines.length+k.after.length,0);if(A+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*l.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),A){let N=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;y+=g*N+(A-g)*c.lineHeight+(A-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let x=0,O=function(N){v=Math.max(v,n.measureText(N).width+x)};return n.save(),n.font=l.string,Me(t.title,O),n.font=c.string,Me(t.beforeBody.concat(t.afterBody),O),x=e.displayColors?o+2+e.boxPadding:0,Me(i,N=>{Me(N.before,O),Me(N.lines,O),Me(N.after,O)}),x=0,n.font=d.string,Me(t.footer,O),n.restore(),v+=_.width,{width:v,height:y}}function XX(t,e){let{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function ZX(t,e,n,i){let{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function eZ(t,e,n,i){let{x:r,width:s}=n,{width:o,chartArea:{left:a,right:c}}=t,l="center";return i==="center"?l=r<=(a+c)/2?"left":"right":r<=s/2?l="left":r>=o-s/2&&(l="right"),ZX(l,t,e,n)&&(l="center"),l}function jF(t,e,n){let i=n.yAlign||e.yAlign||XX(t,n);return{xAlign:n.xAlign||e.xAlign||eZ(t,e,n,i),yAlign:i}}function tZ(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function nZ(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function UF(t,e,n,i){let{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,l=r+s,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=ys(o),_=tZ(e,a),y=nZ(e,c,l);return c==="center"?a==="left"?_+=l:a==="right"&&(_-=l):a==="left"?_-=Math.max(d,f)+r:a==="right"&&(_+=Math.max(h,g)+r),{x:Ct(_,0,i.width-e.width),y:Ct(y,0,i.height-e.height)}}function um(t,e,n){let i=$t(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function $F(t){return Pi([],wr(t))}function iZ(t,e,n){return vr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function HF(t,e){let n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}var bL={beforeTitle:Oi,title(t){if(t.length>0){let e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Oi,beforeBody:Oi,beforeLabel:Oi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let n=t.formattedValue;return De(n)||(e+=n),e},labelColor(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Oi,afterBody:Oi,beforeFooter:Oi,footer:Oi,afterFooter:Oi};function mn(t,e,n,i){let r=t[e].call(n,i);return typeof r>"u"?bL[e].call(n,i):r}var zF=(()=>{class t extends ti{static positioners=sd;constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let n=this._cachedAnimations;if(n)return n;let i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,o=new pm(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=iZ(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,i){let{callbacks:r}=i,s=mn(r,"beforeTitle",this,n),o=mn(r,"title",this,n),a=mn(r,"afterTitle",this,n),c=[];return c=Pi(c,wr(s)),c=Pi(c,wr(o)),c=Pi(c,wr(a)),c}getBeforeBody(n,i){return $F(mn(i.callbacks,"beforeBody",this,n))}getBody(n,i){let{callbacks:r}=i,s=[];return Me(n,o=>{let a={before:[],lines:[],after:[]},c=HF(r,o);Pi(a.before,wr(mn(c,"beforeLabel",this,o))),Pi(a.lines,mn(c,"label",this,o)),Pi(a.after,wr(mn(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(n,i){return $F(mn(i.callbacks,"afterBody",this,n))}getFooter(n,i){let{callbacks:r}=i,s=mn(r,"beforeFooter",this,n),o=mn(r,"footer",this,n),a=mn(r,"afterFooter",this,n),c=[];return c=Pi(c,wr(s)),c=Pi(c,wr(o)),c=Pi(c,wr(a)),c}_createItems(n){let i=this._active,r=this.chart.data,s=[],o=[],a=[],c=[],l,d;for(l=0,d=i.length;l<d;++l)c.push(JX(this.chart,i[l]));return n.filter&&(c=c.filter((h,f,g)=>n.filter(h,f,g,r))),n.itemSort&&(c=c.sort((h,f)=>n.itemSort(h,f,r))),Me(c,h=>{let f=HF(n.callbacks,h);s.push(mn(f,"labelColor",this,h)),o.push(mn(f,"labelPointStyle",this,h)),a.push(mn(f,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(n,i){let r=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let c=sd[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let l=this._size=BF(this,r),d=Object.assign({},c,l),h=jF(this.chart,r,d),f=UF(r,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,o={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),n&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(n,i,r,s){let o=this.getCaretPosition(n,r,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(n,i,r){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:l,topRight:d,bottomLeft:h,bottomRight:f}=ys(c),{x:g,y:_}=n,{width:y,height:v}=i,A,x,O,N,k,P;return o==="center"?(k=_+v/2,s==="left"?(A=g,x=A-a,N=k+a,P=k-a):(A=g+y,x=A+a,N=k-a,P=k+a),O=A):(s==="left"?x=g+Math.max(l,h)+a:s==="right"?x=g+y-Math.max(d,f)-a:x=this.caretX,o==="top"?(N=_,k=N-a,A=x-a,O=x+a):(N=_+v,k=N+a,A=x+a,O=x-a),P=N),{x1:A,x2:x,x3:O,y1:N,y2:k,y3:P}}drawTitle(n,i,r){let s=this.title,o=s.length,a,c,l;if(o){let d=ko(r.rtl,this.x,this.width);for(n.x=um(this,r.titleAlign,r),i.textAlign=d.textAlign(r.titleAlign),i.textBaseline="middle",a=wt(r.titleFont),c=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,l=0;l<o;++l)i.fillText(s[l],d.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+c,l+1===o&&(n.y+=r.titleMarginBottom-c)}}_drawColorBox(n,i,r,s,o){let a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:l,boxWidth:d}=o,h=wt(o.bodyFont),f=um(this,"left",o),g=s.x(f),_=l<h.lineHeight?(h.lineHeight-l)/2:0,y=i.y+_;if(o.usePointStyle){let v={radius:Math.min(d,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},A=s.leftForLtr(g,d)+d/2,x=y+l/2;n.strokeStyle=o.multiKeyBackground,n.fillStyle=o.multiKeyBackground,Zg(n,v,A,x),n.strokeStyle=a.borderColor,n.fillStyle=a.backgroundColor,Zg(n,v,A,x)}else{n.lineWidth=me(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,n.strokeStyle=a.borderColor,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset||0;let v=s.leftForLtr(g,d),A=s.leftForLtr(s.xPlus(g,1),d-2),x=ys(a.borderRadius);Object.values(x).some(O=>O!==0)?(n.beginPath(),n.fillStyle=o.multiKeyBackground,Dc(n,{x:v,y,w:d,h:l,radius:x}),n.fill(),n.stroke(),n.fillStyle=a.backgroundColor,n.beginPath(),Dc(n,{x:A,y:y+1,w:d-2,h:l-2,radius:x}),n.fill()):(n.fillStyle=o.multiKeyBackground,n.fillRect(v,y,d,l),n.strokeRect(v,y,d,l),n.fillStyle=a.backgroundColor,n.fillRect(A,y+1,d-2,l-2))}n.fillStyle=this.labelTextColors[r]}drawBody(n,i,r){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:d,boxPadding:h}=r,f=wt(r.bodyFont),g=f.lineHeight,_=0,y=ko(r.rtl,this.x,this.width),v=function(I){i.fillText(I,y.x(n.x+_),n.y+g/2),n.y+=g+o},A=y.textAlign(a),x,O,N,k,P,E,b;for(i.textAlign=a,i.textBaseline="middle",i.font=f.string,n.x=um(this,A,r),i.fillStyle=r.bodyColor,Me(this.beforeBody,v),_=c&&A!=="right"?a==="center"?d/2+h:d+2+h:0,k=0,E=s.length;k<E;++k){for(x=s[k],O=this.labelTextColors[k],i.fillStyle=O,Me(x.before,v),N=x.lines,c&&N.length&&(this._drawColorBox(i,n,k,y,r),g=Math.max(f.lineHeight,l)),P=0,b=N.length;P<b;++P)v(N[P]),g=f.lineHeight;Me(x.after,v)}_=0,g=f.lineHeight,Me(this.afterBody,v),n.y-=o}drawFooter(n,i,r){let s=this.footer,o=s.length,a,c;if(o){let l=ko(r.rtl,this.x,this.width);for(n.x=um(this,r.footerAlign,r),n.y+=r.footerMarginTop,i.textAlign=l.textAlign(r.footerAlign),i.textBaseline="middle",a=wt(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,c=0;c<o;++c)i.fillText(s[c],l.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+r.footerSpacing}}drawBackground(n,i,r,s){let{xAlign:o,yAlign:a}=this,{x:c,y:l}=n,{width:d,height:h}=r,{topLeft:f,topRight:g,bottomLeft:_,bottomRight:y}=ys(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(c+f,l),a==="top"&&this.drawCaret(n,i,r,s),i.lineTo(c+d-g,l),i.quadraticCurveTo(c+d,l,c+d,l+g),a==="center"&&o==="right"&&this.drawCaret(n,i,r,s),i.lineTo(c+d,l+h-y),i.quadraticCurveTo(c+d,l+h,c+d-y,l+h),a==="bottom"&&this.drawCaret(n,i,r,s),i.lineTo(c+_,l+h),i.quadraticCurveTo(c,l+h,c,l+h-_),a==="center"&&o==="left"&&this.drawCaret(n,i,r,s),i.lineTo(c,l+f),i.quadraticCurveTo(c,l,c+f,l),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(n){let i=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){let a=sd[n.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=BF(this,n),l=Object.assign({},a,this._size),d=jF(i,n,l),h=UF(n,l,d,i);(s._to!==h.x||o._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(n){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=$t(i.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&c&&(n.save(),n.globalAlpha=r,this.drawBackground(o,n,s,i),uD(n,i.textDirection),o.y+=a.top,this.drawTitle(o,n,i),this.drawBody(o,n,i),this.drawFooter(o,n,i),dD(n,i.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,i){let r=this._active,s=n.map(({datasetIndex:c,index:l})=>{let d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[l],index:l}}),o=!Yu(r,s),a=this._positionChanged(s,i);(o||a)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(n,o,i,r),c=this._positionChanged(a,n),l=i||!Yu(a,o)||c;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,i))),l}_getActiveElements(n,i,r,s){let o=this.options;if(n.type==="mouseout")return[];if(!s)return i.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(n,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(n,i){let{caretX:r,caretY:s,options:o}=this,a=sd[o.position].call(this,n,i);return a!==!1&&(r!==a.x||s!==a.y)}}return t})(),rZ={id:"tooltip",_element:zF,positioners:sd,afterInit(t,e,n){n&&(t.tooltip=new zF({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",ve(U({},n),{cancelable:!0}))===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){let n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:bL},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},sZ=Object.freeze({__proto__:null,Colors:_X,Decimation:wX,Filler:UX,Legend:WX,SubTitle:QX,Title:YX,Tooltip:rZ}),oZ=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function aZ(t,e,n,i){let r=t.indexOf(e);if(r===-1)return oZ(t,e,n,i);let s=t.lastIndexOf(e);return r!==s?n:r}var cZ=(t,e)=>t===null?null:Ct(Math.round(t),0,e);function GF(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}var lZ=(()=>{class t extends Vo{static id="category";static defaults={ticks:{callback:GF}};constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:s,label:o}of i)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(n)}parse(n,i){if(De(n))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===n?i:aZ(r,n,ce(i,n),this._addedLabels),cZ(i,r.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(r=0),i||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){let n=this.min,i=this.max,r=this.options.offset,s=[],o=this.getLabels();o=n===0&&i===o.length-1?o:o.slice(n,i+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=n;a<=i;a++)s.push({value:a});return s}getLabelForValue(n){return GF.call(this,n)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let i=this.ticks;return n<0||n>i.length-1?null:this.getPixelForValue(i[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function uZ(t,e){let n=[],{bounds:r,step:s,min:o,max:a,precision:c,count:l,maxTicks:d,maxDigits:h,includeBounds:f}=t,g=s||1,_=d-1,{min:y,max:v}=e,A=!De(o),x=!De(a),O=!De(l),N=(v-y)/(h+1),k=HE((v-y)/_/g)*g,P,E,b,I;if(k<1e-14&&!A&&!x)return[{value:y},{value:v}];I=Math.ceil(v/k)-Math.floor(y/k),I>_&&(k=HE(I*k/_/g)*g),De(c)||(P=Math.pow(10,c),k=Math.ceil(k*P)/P),r==="ticks"?(E=Math.floor(y/k)*k,b=Math.ceil(v/k)*k):(E=y,b=v),A&&x&&s&&Mk((a-o)/s,k/1e3)?(I=Math.round(Math.min((a-o)/k,d)),k=(a-o)/I,E=o,b=a):O?(E=A?o:E,b=x?a:b,I=l-1,k=(b-E)/I):(I=(b-E)/k,wc(I,Math.round(I),k/1e3)?I=Math.round(I):I=Math.ceil(I));let T=Math.max(GE(k),GE(E));P=Math.pow(10,De(c)?T:c),E=Math.round(E*P)/P,b=Math.round(b*P)/P;let S=0;for(A&&(f&&E!==o?(n.push({value:o}),E<o&&S++,wc(Math.round((E+S*k)*P)/P,o,qF(o,N,t))&&S++):E<o&&S++);S<I;++S){let M=Math.round((E+S*k)*P)/P;if(x&&M>a)break;n.push({value:M})}return x&&f&&b!==a?n.length&&wc(n[n.length-1].value,a,qF(a,N,t))?n[n.length-1].value=a:n.push({value:a}):(!x||b===a)&&n.push({value:b}),n}function qF(t,e,{horizontal:n,minRotation:i}){let r=Nn(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}var Ac=class extends Vo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return De(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this,o=c=>r=n?r:c,a=c=>s=i?s:c;if(e){let c=ei(r),l=ei(s);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(r===s){let c=s===0?1:Math.abs(s*.05);a(s+c),e||o(r-c)}this.min=r,this.max=s}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,n=e.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=uZ(r,s);return e.bounds==="ticks"&&zE(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Ec(e,this.chart.options.locale,this.options.ticks.format)}},VD=class extends Ac{static id="linear";static defaults={ticks:{callback:Qu.formatters.numeric}};determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=nt(e)?e:0,this.max=nt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),n=e?this.width:this.height,i=Nn(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},cd=t=>Math.floor(_r(t)),Lo=(t,e)=>Math.pow(10,cd(t)+e);function WF(t){return t/Math.pow(10,cd(t))===1}function KF(t,e,n){let i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function dZ(t,e){let n=e-t,i=cd(n);for(;KF(t,e,i)>10;)i++;for(;KF(t,e,i)<10;)i--;return Math.min(i,cd(t))}function hZ(t,{min:e,max:n}){e=gn(t.min,e);let i=[],r=cd(e),s=dZ(e,n),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),c=r>s?Math.pow(10,r):0,l=Math.round((e-c)*o)/o,d=Math.floor((e-c)/a/10)*a*10,h=Math.floor((l-d)/Math.pow(10,s)),f=gn(t.min,Math.round((c+d+h*Math.pow(10,s))*o)/o);for(;f<n;)i.push({value:f,major:WF(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((c+d+h*Math.pow(10,s))*o)/o;let g=gn(t.max,f);return i.push({value:g,major:WF(g),significand:h}),i}var BD=class extends Vo{static id="logarithmic";static defaults={ticks:{callback:Qu.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){let i=Ac.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return nt(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=nt(e)?Math.max(0,e):null,this.max=nt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!nt(this._userMin)&&(this.min=e===Lo(this.min,0)?Lo(this.min,-1):Lo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),i=this.min,r=this.max,s=a=>i=e?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(Lo(i,-1)),o(Lo(r,1)))),i<=0&&s(Lo(r,-1)),r<=0&&o(Lo(i,1)),this.min=i,this.max=r}buildTicks(){let e=this.options,n={min:this._userMin,max:this._userMax},i=hZ(n,this);return e.bounds==="ticks"&&zE(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Ec(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=_r(e),this._valueRange=_r(this.max)-_r(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(_r(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}};function jD(t){let e=t.ticks;if(e.display&&t.display){let n=$t(e.backdropPadding);return ce(e.font&&e.font.size,Ye.font.size)+n.height}return 0}function fZ(t,e,n){return n=He(n)?n:[n],{w:Bk(t,e.string,n),h:n.length*e.lineHeight}}function YF(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function pZ(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?ze/s:0;for(let c=0;c<s;c++){let l=o.setContext(t.getPointLabelContext(c));r[c]=l.padding;let d=t.getPointPosition(c,t.drawingArea+r[c],a),h=wt(l.font),f=fZ(t.ctx,h,t._pointLabels[c]);i[c]=f;let g=pn(t.getIndexAngle(c)+a),_=Math.round(Yg(g)),y=YF(_,d.x,f.w,0,180),v=YF(_,d.y,f.h,90,270);gZ(n,e,g,y,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=yZ(t,i,r)}function gZ(t,e,n,i,r){let s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n)),a=0,c=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(c=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-c)):r.end>e.b&&(c=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function mZ(t,e,n){let i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,c=t.getPointPosition(e,i+r+o,s),l=Math.round(Yg(pn(c.angle+ut))),d=wZ(c.y,a.h,l),h=vZ(l),f=bZ(c.x,a.w,h);return{visible:!0,x:c.x,y:d,textAlign:h,left:f,top:d,right:f+a.w,bottom:d+a.h}}function _Z(t,e){if(!e)return!0;let{left:n,top:i,right:r,bottom:s}=t;return!(Ri({x:n,y:i},e)||Ri({x:n,y:s},e)||Ri({x:r,y:i},e)||Ri({x:r,y:s},e))}function yZ(t,e,n){let i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,c={extra:jD(s)/2,additionalAngle:o?ze/r:0},l;for(let d=0;d<r;d++){c.padding=n[d],c.size=e[d];let h=mZ(t,d,c);i.push(h),a==="auto"&&(h.visible=_Z(h,l),h.visible&&(l=h))}return i}function vZ(t){return t===0||t===180?"center":t<180?"left":"right"}function bZ(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function wZ(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function IZ(t,e,n){let{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!De(a)){let c=ys(e.borderRadius),l=$t(e.backdropPadding);t.fillStyle=a;let d=i-l.left,h=r-l.top,f=s-i+l.width,g=o-r+l.height;Object.values(c).some(_=>_!==0)?(t.beginPath(),Dc(t,{x:d,y:h,w:f,h:g,radius:c}),t.fill()):t.fillRect(d,h,f,g)}}function EZ(t,e){let{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){let s=t._pointLabelItems[r];if(!s.visible)continue;let o=i.setContext(t.getPointLabelContext(r));IZ(n,o,s);let a=wt(o.font),{x:c,y:l,textAlign:d}=s;_s(n,t._pointLabels[r],c,l+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function wL(t,e,n,i){let{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Ge);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function DZ(t,e,n,i,r){let s=t.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!i||!a||!c||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=c,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),wL(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function TZ(t,e,n){return vr(t,{label:n,index:e,type:"pointLabel"})}var UD=class extends Ac{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Qu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=$t(jD(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!1);this.min=nt(e)&&!isNaN(e)?e:0,this.max=nt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/jD(this.options))}generateTickLabels(e){Ac.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{let r=Ve(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){let e=this.options;e.display&&e.pointLabels.display?pZ(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){let n=Ge/(this._pointLabels.length||1),i=this.options.startAngle||0;return pn(e*n+Nn(i))}getDistanceFromCenterForValue(e){if(De(e))return NaN;let n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(De(e))return NaN;let n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){let n=this._pointLabels||[];if(e>=0&&e<n.length){let i=n[e];return TZ(this.getContext(),e,i)}}getPointPosition(e,n,i=0){let r=this.getIndexAngle(e)-ut+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:n}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),wL(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length,a,c,l;if(n.pointLabels.display&&EZ(this,o),r.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);let f=this.getContext(h),g=r.setContext(f),_=s.setContext(f);DZ(this,g,c,o,_)}}),i.display){for(e.save(),a=o-1;a>=0;a--){let d=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=d;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;let r=this.getIndexAngle(0),s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;let l=i.setContext(this.getContext(c)),d=wt(l.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){e.font=d.string,o=e.measureText(a.label).width,e.fillStyle=l.backdropColor;let h=$t(l.backdropPadding);e.fillRect(-o/2-h.left,-s-d.size/2-h.top,o+h.width,d.size+h.height)}_s(e,a.label,0,-s,d,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}},wm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_n=Object.keys(wm);function QF(t,e){return t-e}function JF(t,e){if(De(e))return null;let n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts,o=e;return typeof i=="function"&&(o=i(o)),nt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Po(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function XF(t,e,n,i){let r=_n.length;for(let s=_n.indexOf(t);s<r-1;++s){let o=wm[_n[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return _n[s]}return _n[r-1]}function CZ(t,e,n,i,r){for(let s=_n.length-1;s>=_n.indexOf(n);s--){let o=_n[s];if(wm[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return _n[n?_n.indexOf(n):0]}function SZ(t){for(let e=_n.indexOf(t)+1,n=_n.length;e<n;++e)if(wm[_n[e]].common)return _n[e]}function ZF(t,e,n){if(!n)t[e]=!0;else if(n.length){let{lo:i,hi:r}=Qg(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function AZ(t,e,n,i){let r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value,a,c;for(a=s;a<=o;a=+r.add(a,1,i))c=n[a],c>=0&&(e[c].major=!0);return e}function eL(t,e,n){let i=[],r={},s=e.length,o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:AZ(t,i,r,n)}var $D=(()=>{class t extends Vo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,i={}){let r=n.time||(n.time={}),s=this._adapter=new jQ._date(n.adapters.date);s.init(i),vc(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(n),this._normalized=i.normalized}parse(n,i){return n===void 0?null:JF(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let n=this.options,i=this._adapter,r=n.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function l(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!c)&&(l(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=nt(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),o=nt(o)&&!isNaN(o)?o:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let n=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return n.length&&(i=n[0],r=n[n.length-1]),{min:i,max:r}}buildTicks(){let n=this.options,i=n.time,r=n.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,c=Nk(s,o,a);return this._unit=i.unit||(r.autoSkip?XF(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):CZ(this,c.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:SZ(this._unit),this.initOffsets(s),n.reverse&&c.reverse(),eL(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let i=0,r=0,s,o;this.options.offset&&n.length&&(s=this.getDecimalForValue(n[0]),n.length===1?i=1-s:i=(this.getDecimalForValue(n[1])-s)/2,o=this.getDecimalForValue(n[n.length-1]),n.length===1?r=o:r=(o-this.getDecimalForValue(n[n.length-2]))/2);let a=n.length<3?.5:.25;i=Ct(i,0,a),r=Ct(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let n=this._adapter,i=this.min,r=this.max,s=this.options,o=s.time,a=o.unit||XF(o.minUnit,i,r,this._getLabelCapacity(i)),c=ce(s.ticks.stepSize,1),l=a==="week"?o.isoWeekday:!1,d=Po(l)||l===!0,h={},f=i,g,_;if(d&&(f=+n.startOf(f,"isoWeek",l)),f=+n.startOf(f,d?"day":a),n.diff(r,i,a)>1e5*c)throw new Error(i+" and "+r+" are too far apart with stepSize of "+c+" "+a);let y=s.ticks.source==="data"&&this.getDataTimestamps();for(g=f,_=0;g<r;g=+n.add(g,c,a),_++)ZF(h,g,y);return(g===r||s.bounds==="ticks"||_===1)&&ZF(h,g,y),Object.keys(h).sort(QF).map(v=>+v)}getLabelForValue(n){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(n,r.tooltipFormat):i.format(n,r.displayFormats.datetime)}format(n,i){let s=this.options.time.displayFormats,o=this._unit,a=i||s[o];return this._adapter.format(n,a)}_tickFormatFunction(n,i,r,s){let o=this.options,a=o.ticks.callback;if(a)return Ve(a,[n,i,r],this);let c=o.time.displayFormats,l=this._unit,d=this._majorUnit,h=l&&c[l],f=d&&c[d],g=r[i],_=d&&f&&g&&g.major;return this._adapter.format(n,s||(_?f:h))}generateTickLabels(n){let i,r,s;for(i=0,r=n.length;i<r;++i)s=n[i],s.label=this._tickFormatFunction(s.value,i,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){let i=this._offsets,r=this.getDecimalForValue(n);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(n){let i=this._offsets,r=this.getDecimalForPixel(n)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(n){let i=this.options.ticks,r=this.ctx.measureText(n).width,s=Nn(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:r*o+c*a,h:r*a+c*o}}_getLabelCapacity(n){let i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,o=this._tickFormatFunction(n,0,eL(this,[n],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let n=this._cache.data||[],i,r;if(n.length)return n;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)n=n.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){let n=this._cache.labels||[],i,r;if(n.length)return n;let s=this.getLabels();for(i=0,r=s.length;i<r;++i)n.push(JF(this,s[i]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return KE(n.sort(QF))}}return t})();function dm(t,e,n){let i=0,r=t.length-1,s,o,a,c;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Mi(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:c}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Mi(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:c}=t[r]);let l=o-s;return l?a+(c-a)*(e-s)/l:a}var HD=class extends $D{static id="timeseries";static defaults=$D.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=dm(n,this.min),this._tableRange=dm(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:n,max:i}=this,r=[],s=[],o,a,c,l,d;for(o=0,a=e.length;o<a;++o)l=e[o],l>=n&&l<=i&&r.push(l);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)d=r[o+1],c=r[o-1],l=r[o],Math.round((d+c)/2)!==l&&s.push({time:l,pos:o/(a-1)});return s}_generate(){let e=this.min,n=this.max,i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(dm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return dm(this._table,i*this._tableRange+this._minPos,!0)}},xZ=Object.freeze({__proto__:null,CategoryScale:lZ,LinearScale:VD,LogarithmicScale:BD,RadialLinearScale:UD,TimeScale:$D,TimeSeriesScale:HD}),IL=[BQ,dX,sZ,xZ];var MZ=typeof global=="object"&&global&&global.Object===Object&&global,Im=MZ;var RZ=typeof self=="object"&&self&&self.Object===Object&&self,OZ=Im||RZ||Function("return this")(),Pn=OZ;var NZ=Pn.Symbol,xc=NZ;var EL=Object.prototype,PZ=EL.hasOwnProperty,kZ=EL.toString,dd=xc?xc.toStringTag:void 0;function FZ(t){var e=PZ.call(t,dd),n=t[dd];try{t[dd]=void 0;var i=!0}catch{}var r=kZ.call(t);return i&&(e?t[dd]=n:delete t[dd]),r}var DL=FZ;var LZ=Object.prototype,VZ=LZ.toString;function BZ(t){return VZ.call(t)}var TL=BZ;var jZ="[object Null]",UZ="[object Undefined]",CL=xc?xc.toStringTag:void 0;function $Z(t){return t==null?t===void 0?UZ:jZ:CL&&CL in Object(t)?DL(t):TL(t)}var Is=$Z;function HZ(t){return t!=null&&typeof t=="object"}var Fi=HZ;var zZ=Array.isArray,hd=zZ;function GZ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var yn=GZ;function qZ(t){return t}var Em=qZ;var WZ="[object AsyncFunction]",KZ="[object Function]",YZ="[object GeneratorFunction]",QZ="[object Proxy]";function JZ(t){if(!yn(t))return!1;var e=Is(t);return e==KZ||e==YZ||e==WZ||e==QZ}var Mc=JZ;var XZ=Pn["__core-js_shared__"],Dm=XZ;var SL=function(){var t=/[^.]+$/.exec(Dm&&Dm.keys&&Dm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ZZ(t){return!!SL&&SL in t}var AL=ZZ;var eee=Function.prototype,tee=eee.toString;function nee(t){if(t!=null){try{return tee.call(t)}catch{}try{return t+""}catch{}}return""}var xL=nee;var iee=/[\\^$.*+?()[\]{}|]/g,ree=/^\[object .+?Constructor\]$/,see=Function.prototype,oee=Object.prototype,aee=see.toString,cee=oee.hasOwnProperty,lee=RegExp("^"+aee.call(cee).replace(iee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uee(t){if(!yn(t)||AL(t))return!1;var e=Mc(t)?lee:ree;return e.test(xL(t))}var ML=uee;function dee(t,e){return t?.[e]}var RL=dee;function hee(t,e){var n=RL(t,e);return ML(n)?n:void 0}var Rc=hee;var OL=Object.create,fee=function(){function t(){}return function(e){if(!yn(e))return{};if(OL)return OL(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),NL=fee;function pee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var PL=pee;function gee(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var kL=gee;var mee=800,_ee=16,yee=Date.now;function vee(t){var e=0,n=0;return function(){var i=yee(),r=_ee-(i-n);if(n=i,r>0){if(++e>=mee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var FL=vee;function bee(t){return function(){return t}}var LL=bee;var wee=function(){try{var t=Rc(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Oc=wee;var Iee=Oc?function(t,e){return Oc(t,"toString",{configurable:!0,enumerable:!1,value:LL(e),writable:!0})}:Em,VL=Iee;var Eee=FL(VL),BL=Eee;var Dee=9007199254740991,Tee=/^(?:0|[1-9]\d*)$/;function Cee(t,e){var n=typeof t;return e=e??Dee,!!e&&(n=="number"||n!="symbol"&&Tee.test(t))&&t>-1&&t%1==0&&t<e}var Tm=Cee;function See(t,e,n){e=="__proto__"&&Oc?Oc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Nc=See;function Aee(t,e){return t===e||t!==t&&e!==e}var Es=Aee;var xee=Object.prototype,Mee=xee.hasOwnProperty;function Ree(t,e,n){var i=t[e];(!(Mee.call(t,e)&&Es(i,n))||n===void 0&&!(e in t))&&Nc(t,e,n)}var jL=Ree;function Oee(t,e,n,i){var r=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],c=i?i(n[a],t[a],a,n,t):void 0;c===void 0&&(c=t[a]),r?Nc(n,a,c):jL(n,a,c)}return n}var UL=Oee;var $L=Math.max;function Nee(t,e,n){return e=$L(e===void 0?t.length-1:e,0),function(){for(var i=arguments,r=-1,s=$L(i.length-e,0),o=Array(s);++r<s;)o[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(o),PL(t,this,a)}}var HL=Nee;function Pee(t,e){return BL(HL(t,e,Em),t+"")}var zL=Pee;var kee=9007199254740991;function Fee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kee}var Cm=Fee;function Lee(t){return t!=null&&Cm(t.length)&&!Mc(t)}var Pc=Lee;function Vee(t,e,n){if(!yn(n))return!1;var i=typeof e;return(i=="number"?Pc(n)&&Tm(e,n.length):i=="string"&&e in n)?Es(n[e],t):!1}var GL=Vee;function Bee(t){return zL(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(r--,s):void 0,o&&GL(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,s)}return e})}var qL=Bee;var jee=Object.prototype;function Uee(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||jee;return t===n}var Sm=Uee;function $ee(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var WL=$ee;var Hee="[object Arguments]";function zee(t){return Fi(t)&&Is(t)==Hee}var qD=zee;var KL=Object.prototype,Gee=KL.hasOwnProperty,qee=KL.propertyIsEnumerable,Wee=qD(function(){return arguments}())?qD:function(t){return Fi(t)&&Gee.call(t,"callee")&&!qee.call(t,"callee")},fd=Wee;function Kee(){return!1}var YL=Kee;var XL=typeof exports=="object"&&exports&&!exports.nodeType&&exports,QL=XL&&typeof module=="object"&&module&&!module.nodeType&&module,Yee=QL&&QL.exports===XL,JL=Yee?Pn.Buffer:void 0,Qee=JL?JL.isBuffer:void 0,Jee=Qee||YL,Am=Jee;var Xee="[object Arguments]",Zee="[object Array]",ete="[object Boolean]",tte="[object Date]",nte="[object Error]",ite="[object Function]",rte="[object Map]",ste="[object Number]",ote="[object Object]",ate="[object RegExp]",cte="[object Set]",lte="[object String]",ute="[object WeakMap]",dte="[object ArrayBuffer]",hte="[object DataView]",fte="[object Float32Array]",pte="[object Float64Array]",gte="[object Int8Array]",mte="[object Int16Array]",_te="[object Int32Array]",yte="[object Uint8Array]",vte="[object Uint8ClampedArray]",bte="[object Uint16Array]",wte="[object Uint32Array]",Qe={};Qe[fte]=Qe[pte]=Qe[gte]=Qe[mte]=Qe[_te]=Qe[yte]=Qe[vte]=Qe[bte]=Qe[wte]=!0;Qe[Xee]=Qe[Zee]=Qe[dte]=Qe[ete]=Qe[hte]=Qe[tte]=Qe[nte]=Qe[ite]=Qe[rte]=Qe[ste]=Qe[ote]=Qe[ate]=Qe[cte]=Qe[lte]=Qe[ute]=!1;function Ite(t){return Fi(t)&&Cm(t.length)&&!!Qe[Is(t)]}var ZL=Ite;function Ete(t){return function(e){return t(e)}}var eV=Ete;var tV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pd=tV&&typeof module=="object"&&module&&!module.nodeType&&module,Dte=pd&&pd.exports===tV,WD=Dte&&Im.process,Tte=function(){try{var t=pd&&pd.require&&pd.require("util").types;return t||WD&&WD.binding&&WD.binding("util")}catch{}}(),KD=Tte;var nV=KD&&KD.isTypedArray,Cte=nV?eV(nV):ZL,xm=Cte;var Ste=Object.prototype,Ate=Ste.hasOwnProperty;function xte(t,e){var n=hd(t),i=!n&&fd(t),r=!n&&!i&&Am(t),s=!n&&!i&&!r&&xm(t),o=n||i||r||s,a=o?WL(t.length,String):[],c=a.length;for(var l in t)(e||Ate.call(t,l))&&!(o&&(l=="length"||r&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Tm(l,c)))&&a.push(l);return a}var iV=xte;function Mte(t,e){return function(n){return t(e(n))}}var rV=Mte;function Rte(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var sV=Rte;var Ote=Object.prototype,Nte=Ote.hasOwnProperty;function Pte(t){if(!yn(t))return sV(t);var e=Sm(t),n=[];for(var i in t)i=="constructor"&&(e||!Nte.call(t,i))||n.push(i);return n}var oV=Pte;function kte(t){return Pc(t)?iV(t,!0):oV(t)}var Mm=kte;var Fte=Rc(Object,"create"),Ir=Fte;function Lte(){this.__data__=Ir?Ir(null):{},this.size=0}var aV=Lte;function Vte(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cV=Vte;var Bte="__lodash_hash_undefined__",jte=Object.prototype,Ute=jte.hasOwnProperty;function $te(t){var e=this.__data__;if(Ir){var n=e[t];return n===Bte?void 0:n}return Ute.call(e,t)?e[t]:void 0}var lV=$te;var Hte=Object.prototype,zte=Hte.hasOwnProperty;function Gte(t){var e=this.__data__;return Ir?e[t]!==void 0:zte.call(e,t)}var uV=Gte;var qte="__lodash_hash_undefined__";function Wte(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ir&&e===void 0?qte:e,this}var dV=Wte;function kc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}kc.prototype.clear=aV;kc.prototype.delete=cV;kc.prototype.get=lV;kc.prototype.has=uV;kc.prototype.set=dV;var YD=kc;function Kte(){this.__data__=[],this.size=0}var hV=Kte;function Yte(t,e){for(var n=t.length;n--;)if(Es(t[n][0],e))return n;return-1}var Ds=Yte;var Qte=Array.prototype,Jte=Qte.splice;function Xte(t){var e=this.__data__,n=Ds(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Jte.call(e,n,1),--this.size,!0}var fV=Xte;function Zte(t){var e=this.__data__,n=Ds(e,t);return n<0?void 0:e[n][1]}var pV=Zte;function ene(t){return Ds(this.__data__,t)>-1}var gV=ene;function tne(t,e){var n=this.__data__,i=Ds(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var mV=tne;function Fc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Fc.prototype.clear=hV;Fc.prototype.delete=fV;Fc.prototype.get=pV;Fc.prototype.has=gV;Fc.prototype.set=mV;var Ts=Fc;var nne=Rc(Pn,"Map"),Rm=nne;function ine(){this.size=0,this.__data__={hash:new YD,map:new(Rm||Ts),string:new YD}}var _V=ine;function rne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var yV=rne;function sne(t,e){var n=t.__data__;return yV(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Cs=sne;function one(t){var e=Cs(this,t).delete(t);return this.size-=e?1:0,e}var vV=one;function ane(t){return Cs(this,t).get(t)}var bV=ane;function cne(t){return Cs(this,t).has(t)}var wV=cne;function lne(t,e){var n=Cs(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var IV=lne;function Lc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Lc.prototype.clear=_V;Lc.prototype.delete=vV;Lc.prototype.get=bV;Lc.prototype.has=wV;Lc.prototype.set=IV;var EV=Lc;var une=rV(Object.getPrototypeOf,Object),Om=une;var dne="[object Object]",hne=Function.prototype,fne=Object.prototype,DV=hne.toString,pne=fne.hasOwnProperty,gne=DV.call(Object);function mne(t){if(!Fi(t)||Is(t)!=dne)return!1;var e=Om(t);if(e===null)return!0;var n=pne.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&DV.call(n)==gne}var TV=mne;function _ne(){this.__data__=new Ts,this.size=0}var CV=_ne;function yne(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var SV=yne;function vne(t){return this.__data__.get(t)}var AV=vne;function bne(t){return this.__data__.has(t)}var xV=bne;var wne=200;function Ine(t,e){var n=this.__data__;if(n instanceof Ts){var i=n.__data__;if(!Rm||i.length<wne-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new EV(i)}return n.set(t,e),this.size=n.size,this}var MV=Ine;function Vc(t){var e=this.__data__=new Ts(t);this.size=e.size}Vc.prototype.clear=CV;Vc.prototype.delete=SV;Vc.prototype.get=AV;Vc.prototype.has=xV;Vc.prototype.set=MV;var RV=Vc;var kV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,OV=kV&&typeof module=="object"&&module&&!module.nodeType&&module,Ene=OV&&OV.exports===kV,NV=Ene?Pn.Buffer:void 0,PV=NV?NV.allocUnsafe:void 0;function Dne(t,e){if(e)return t.slice();var n=t.length,i=PV?PV(n):new t.constructor(n);return t.copy(i),i}var FV=Dne;var Tne=Pn.Uint8Array,QD=Tne;function Cne(t){var e=new t.constructor(t.byteLength);return new QD(e).set(new QD(t)),e}var LV=Cne;function Sne(t,e){var n=e?LV(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var VV=Sne;function Ane(t){return typeof t.constructor=="function"&&!Sm(t)?NL(Om(t)):{}}var BV=Ane;function xne(t){return function(e,n,i){for(var r=-1,s=Object(e),o=i(e),a=o.length;a--;){var c=o[t?a:++r];if(n(s[c],c,s)===!1)break}return e}}var jV=xne;var Mne=jV(),UV=Mne;function Rne(t,e,n){(n!==void 0&&!Es(t[e],n)||n===void 0&&!(e in t))&&Nc(t,e,n)}var gd=Rne;function One(t){return Fi(t)&&Pc(t)}var $V=One;function Nne(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var md=Nne;function Pne(t){return UL(t,Mm(t))}var HV=Pne;function kne(t,e,n,i,r,s,o){var a=md(t,n),c=md(e,n),l=o.get(c);if(l){gd(t,n,l);return}var d=s?s(a,c,n+"",t,e,o):void 0,h=d===void 0;if(h){var f=hd(c),g=!f&&Am(c),_=!f&&!g&&xm(c);d=c,f||g||_?hd(a)?d=a:$V(a)?d=kL(a):g?(h=!1,d=FV(c,!0)):_?(h=!1,d=VV(c,!0)):d=[]:TV(c)||fd(c)?(d=a,fd(a)?d=HV(a):(!yn(a)||Mc(a))&&(d=BV(c))):h=!1}h&&(o.set(c,d),r(d,c,i,s,o),o.delete(c)),gd(t,n,d)}var zV=kne;function GV(t,e,n,i,r){t!==e&&UV(e,function(s,o){if(r||(r=new RV),yn(s))zV(t,e,o,n,GV,i,r);else{var a=i?i(md(t,o),s,o+"",t,e,r):void 0;a===void 0&&(a=s),gd(t,o,a)}},Mm)}var qV=GV;var Fne=qL(function(t,e,n){qV(t,e,n)}),Nm=Fne;var Lne=(()=>{let e=class e{constructor(){this.colorschemesOptions=new mt(void 0)}setColorschemesOptions(i){this.pColorschemesOptions=i,this.colorschemesOptions.next(i)}getColorschemesOptions(){return this.pColorschemesOptions}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),KV=(()=>{let e=class e{constructor(i,r,s){this.zone=r,this.themeService=s,this.type="bar",this.plugins=[],this.chartClick=new Ne,this.chartHover=new Ne,this.subs=[],this.themeOverrides={},this.ctx=i.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(nl()).subscribe(o=>this.themeChanged(o)))}ngOnChanges(i){let r=["type"],s=Object.getOwnPropertyNames(i);if(s.some(o=>r.includes(o))||s.every(o=>i[o].isFirstChange()))this.render();else{let o=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,o.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,o.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,o.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(i=>i.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new ud(this.ctx,this.getChartConfiguration()))}update(i){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(i))}hideDataset(i,r){this.chart&&(this.chart.getDatasetMeta(i).hidden=r,this.update())}isDatasetHidden(i){return this.chart?.getDatasetMeta(i)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(i){this.themeOverrides=i,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return Nm({onHover:(i,r)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:i,active:r}))},onClick:(i,r)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:i,active:r}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}};e.\u0275fac=function(r){return new(r||e)(q(_t),q(le),q(Lne))},e.\u0275dir=Le({type:e,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[In]});let t=e;return t})(),Vne=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],Bne={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:t=>Ss(As(t.datasetIndex),.4),borderColor:t=>Ss(As(t.datasetIndex),1),pointBackgroundColor:t=>Ss(As(t.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:t=>Ss(As(t.datasetIndex),.6),borderColor:t=>Ss(As(t.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:t=>Ss(As(t.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:t=>Ss(As(t.dataIndex),.6),borderColor:t=>Ss(As(t.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Ss(t,e){return"rgba("+t.concat(e).join(",")+")"}function JD(t,e){return Math.floor(Math.random()*(e-t+1))+t}function jne(){return[JD(0,255),JD(0,255),JD(0,255)]}function As(t=0){return Vne[t]||jne()}var WV=(()=>{let e=class e{constructor(){this.generateColors=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();ud.register(...IL);var Cwe=(()=>{let e=class e{constructor(i){i?.plugins&&ud.register(...i.plugins);let r=Nm(i?.generateColors?Bne:{},i?.defaults||{});Ye.set(r)}static forRoot(i){return{ngModule:e,providers:[{provide:WV,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(W(WV,8))},e.\u0275mod=we({type:e}),e.\u0275inj=be({});let t=e;return t})();var XD=(()=>{let e=class e{constructor(){this.pieChartLabels=["English","Math"],this.pieChartData={labels:["English","Math"],datasets:[{data:[350,450],backgroundColor:["#26547c","#ff6b6b","#ffd166"]}]},this.pieChartType="pie",this.pieChartOptions={}}onChartClick(i){console.log(i)}ngOnInit(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ft({type:e,selectors:[["app-dashboard"]],decls:5,vars:4,consts:[[1,"container-fluid","h-100","p-3",2,"background-color","lightgrey"],[1,"p-3",2,"width","600px","background-color","white"],["baseChart","",3,"data","labels","type","options"]],template:function(r,s){r&1&&($(0,"div",0)(1,"div",1)(2,"h5"),X(3,"Students Strength and Weakness subject"),z(),Oe(4,"canvas",2),z()()),r&2&&(st(4),Kt("data",s.pieChartData)("labels",s.pieChartLabels)("type",s.pieChartType)("options",s.pieChartOptions))},dependencies:[KV]});let t=e;return t})();var YV=(()=>{let e=class e{constructor(i,r){this.fb=i,this.quizService=r,this.FOR_UPLOAD=null,this.activeModal=V(Yr),this.quizForm$=i.group({cover:[null],title:["",Cn.required],desc:["",Cn.required],subject:["",Cn.required],timer:[0,Cn.required]})}onSelectImage(i){this.FOR_UPLOAD=i.target.files[0]}onSubmit(){if(this.quizForm$.valid){let i=this.quizForm$.get("subject")?.value??"",r={id:"",title:this.quizForm$.get("title")?.value??"",desc:this.quizForm$.get("desc")?.value??"",cover_photo:"",subject:i==="MATH"?xg.MATH:xg.ENGLISH,type:yE.MULTIPLE_CHOICE,createdAt:new Date,timer:+this.quizForm$.get("timer")?.value||0};this.FOR_UPLOAD!==null?this.uploadFile(this.FOR_UPLOAD,r):this.saveQuiz(r)}}uploadFile(i,r){return C(this,null,function*(){try{let s=yield this.quizService.uploadFile(i);r.cover_photo=s,this.saveQuiz(r)}catch(s){alert(s.message)}})}saveQuiz(i){this.quizService.createQuiz(i).then(r=>{alert("Success")}).catch(r=>alert(r.message)).finally(()=>this.activeModal.close())}};e.\u0275fac=function(r){return new(r||e)(q(ip),q(pc))},e.\u0275cmp=ft({type:e,selectors:[["app-create-quiz"]],decls:37,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"submit","formGroup"],[1,"form-floating","mb-3"],["type","file","id","cover","accept","image/*","formControlName","cover",1,"form-control",3,"change"],["for","cover"],["type","text","id","title","formControlName","title",1,"form-control"],["for","title"],["formControlName","desc","placeholder","Description","id","description",1,"form-control",2,"height","100px"],["for","description"],["id","subject","formControlName","subject","aria-label","Floating label select example",1,"form-select"],["selected","","value","MATH"],["value","ENGLISH"],["for","subject"],[1,"form-floating"],["type","number","id","timer","formControlName","timer",1,"form-control"],["for","timer"],["id","basic-addon4",1,"form-text"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","submit",1,"btn","btn-dark",3,"disabled"]],template:function(r,s){r&1&&($(0,"div",0)(1,"h4",1),X(2,"Create Quiz"),z(),$(3,"button",2),Ue("click",function(){return s.activeModal.dismiss("Cross click")}),z()(),$(4,"div",3)(5,"form",4),Ue("submit",function(){return s.onSubmit()}),$(6,"div",5)(7,"input",6),Ue("change",function(a){return s.onSelectImage(a)}),z(),$(8,"label",7),X(9,"Cover Photo"),z()(),$(10,"div",5),Oe(11,"input",8),$(12,"label",9),X(13,"Title"),z()(),$(14,"div",5),Oe(15,"textarea",10),$(16,"label",11),X(17,"Description"),z()(),$(18,"div",5)(19,"select",12)(20,"option",13),X(21,"MATH"),z(),$(22,"option",14),X(23,"ENGLISH"),z()(),$(24,"label",15),X(25,"Subject"),z()(),$(26,"div",16),Oe(27,"input",17),$(28,"label",18),X(29,"Timer"),z(),$(30,"div",19),X(31,"Timer in minutes"),z()(),$(32,"div",20)(33,"button",21),Ue("click",function(){return s.activeModal.close("Close click")}),X(34," Cancel "),z(),$(35,"button",22),X(36," Save "),z()()()()),r&2&&(st(5),Kt("formGroup",s.quizForm$),st(30),Kt("disabled",s.quizForm$.invalid))},dependencies:[tp,OM,PM,Pa,eu,np,Jf,Xf,tu,nu]});let t=e;return t})();var $ne=t=>["view",t];function Hne(t,e){if(t&1&&($(0,"div",7)(1,"div",8),Oe(2,"img",9),$(3,"div",10)(4,"h5",11),X(5),z(),$(6,"p",12),X(7),z(),$(8,"a",13),X(9," VIew Quiz"),z()()()()),t&2){let n=e.$implicit;st(2),Kt("src",n.cover_photo,ov),st(3),fi(n.title),st(2),El(" ",n.desc," "),st(),Kt("routerLink",Ev(4,$ne,n.id))}}var QV=(()=>{let e=class e{constructor(i){this.quizService=i,this.modalService=V(iu),this.quizzes$=[],this.quizSub$=new We}ngOnInit(){this.quizSub$=this.quizService.getAllQuiz().subscribe(i=>{this.quizzes$=i,console.log(this.quizzes$)})}createQuiz(){let i=this.modalService.open(YV)}};e.\u0275fac=function(r){return new(r||e)(q(pc))},e.\u0275cmp=ft({type:e,selectors:[["app-games"]],decls:10,vars:1,consts:[[1,"container-fluid","vh-100","p-3"],[1,"d-flex","align-items-center","justify-content-between"],[1,"btn","btn-dark",3,"click"],[1,"fa-solid","fa-plus","me-3"],[1,"container","mt-4"],[1,"row"],["class","col-12 col-sm-6 col-md-4 col-lg-3 mb-3",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-3"],[1,"card",2,"width","18rem"],["alt","cover phot",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"routerLink"]],template:function(r,s){r&1&&($(0,"div",0)(1,"div",1)(2,"h5"),X(3,"Analytical"),z(),$(4,"button",2),Ue("click",function(){return s.createQuiz()}),Oe(5,"i",3),X(6," Create Quiz "),z()(),$(7,"div",4)(8,"div",5),ba(9,Hne,10,6,"div",6),z()()()),r&2&&(st(9),Kt("ngForOf",s.quizzes$))},dependencies:[yf,xa]});let t=e;return t})();var JV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ft({type:e,selectors:[["app-submissions"]],decls:2,vars:0,template:function(r,s){r&1&&($(0,"p"),X(1,"submissions works!"),z())}});let t=e;return t})();var XV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ft({type:e,selectors:[["app-leaderboard"]],decls:2,vars:0,template:function(r,s){r&1&&($(0,"p"),X(1,"leaderboard works!"),z())}});let t=e;return t})();var zne=[{path:"main",component:ak,children:[{path:"",component:XD},{path:"dashboard",component:XD},{path:"leaderboard",component:XV},{path:"games",component:QV},{path:"games/view/:id",component:sk},{path:"submissions",component:JV}]}],Xwe=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=we({type:e}),e.\u0275inj=be({imports:[N0.forChild(zne),N0,vf,LM,FM]});let t=e;return t})();export{be as a,ft as b,we as c,kj as d,Fj as e,st as f,q as g,ba as h,Kt as i,$ as j,z as k,Oe as l,hz as m,Ue as n,yz as o,X as p,Tz as q,Pue as r,kue as s,vf as t,tde as u,nde as v,C0 as w,Wn as x,N0 as y,Pa as z,Cn as A,Jf as B,Xf as C,tp as D,tu as E,nu as F,a4 as G,ip as H,LM as I,Sfe as J,Afe as K,wpe as L,Ipe as M,fme as N,pme as O,ok as P,ak as Q,Bhe as R,Xme as S,Zme as T,Cwe as U,Xwe as V};
