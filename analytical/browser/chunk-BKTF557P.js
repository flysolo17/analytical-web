var Yk=Object.defineProperty,Jk=Object.defineProperties;var Zk=Object.getOwnPropertyDescriptors;var Zu=Object.getOwnPropertySymbols,Xk=Object.getPrototypeOf,HD=Object.prototype.hasOwnProperty,GD=Object.prototype.propertyIsEnumerable,eF=Reflect.get;var $D=(t,e,n)=>e in t?Yk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e)=>{for(var n in e||={})HD.call(e,n)&&$D(t,n,e[n]);if(Zu)for(var n of Zu(e))GD.call(e,n)&&$D(t,n,e[n]);return t},be=(t,e)=>Jk(t,Zk(e));var tF=(t,e)=>{var n={};for(var i in t)HD.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&Zu)for(var i of Zu(t))e.indexOf(i)<0&&GD.call(t,i)&&(n[i]=t[i]);return n};var Cr=(t,e,n)=>eF(Xk(t),n,e);var v=(t,e,n)=>new Promise((i,r)=>{var s=c=>{try{a(n.next(c))}catch(u){r(u)}},o=c=>{try{a(n.throw(c))}catch(u){r(u)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var zD=null;var sg=1,og=Symbol("SIGNAL");function Ie(t){let e=zD;return zD=t,e}var qD={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function nF(t){if(!(lg(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===sg)){if(!t.producerMustRecompute(t)&&!ag(t)){t.dirty=!1,t.lastCleanEpoch=sg;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=sg}}function WD(t){return t&&(t.nextProducerIndex=0),Ie(t)}function QD(t,e){if(Ie(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(lg(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)cg(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ag(t){Xu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(nF(n),i!==n.version))return!0}return!1}function KD(t){if(Xu(t),lg(t))for(let e=0;e<t.producerNode.length;e++)cg(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function cg(t,e){if(iF(t),Xu(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)cg(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Xu(r),r.producerIndexOfThis[i]=e}}function lg(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Xu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function iF(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function rF(){throw new Error}var sF=rF;function YD(t){sF=t}function se(t){return typeof t=="function"}function $o(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ed=$o(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ms(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ct=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(se(i))try{i()}catch(s){e=s instanceof ed?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{JD(s)}catch(o){e=e??[],o instanceof ed?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ed(e)}}add(e){var n;if(e&&e!==this)if(this.closed)JD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ms(n,e)}remove(e){let{_finalizers:n}=this;n&&Ms(n,e),e instanceof t&&e._removeParent(this)}};ct.EMPTY=(()=>{let t=new ct;return t.closed=!0,t})();var ug=ct.EMPTY;function td(t){return t instanceof ct||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function JD(t){se(t)?t():t.unsubscribe()}var Bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ho={setTimeout(t,e,...n){let{delegate:i}=Ho;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ho;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function nd(t){Ho.setTimeout(()=>{let{onUnhandledError:e}=Bn;if(e)e(t);else throw t})}function Ns(){}var ZD=dg("C",void 0,void 0);function XD(t){return dg("E",void 0,t)}function eT(t){return dg("N",t,void 0)}function dg(t,e,n){return{kind:t,value:e,error:n}}var xs=null;function Go(t){if(Bn.useDeprecatedSynchronousErrorHandling){let e=!xs;if(e&&(xs={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=xs;if(xs=null,n)throw i}}else t()}function tT(t){Bn.useDeprecatedSynchronousErrorHandling&&xs&&(xs.errorThrown=!0,xs.error=t)}var Os=class extends ct{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,td(e)&&e.add(this)):this.destination=cF}static create(e,n,i){return new Sr(e,n,i)}next(e){this.isStopped?fg(eT(e),this):this._next(e)}error(e){this.isStopped?fg(XD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?fg(ZD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oF=Function.prototype.bind;function hg(t,e){return oF.call(t,e)}var pg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){id(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){id(i)}else id(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){id(n)}}},Sr=class extends Os{constructor(e,n,i){super();let r;if(se(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&Bn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&hg(e.next,s),error:e.error&&hg(e.error,s),complete:e.complete&&hg(e.complete,s)}):r=e}this.destination=new pg(r)}};function id(t){Bn.useDeprecatedSynchronousErrorHandling?tT(t):nd(t)}function aF(t){throw t}function fg(t,e){let{onStoppedNotification:n}=Bn;n&&Ho.setTimeout(()=>n(t,e))}var cF={closed:!0,next:Ns,error:aF,complete:Ns};var zo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function At(t){return t}function rd(...t){return mg(t)}function mg(t){return t.length===0?At:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var ne=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=uF(n)?n:new Sr(n,i,r);return Go(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=nT(i),new i((r,s)=>{let o=new Sr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[zo](){return this}pipe(...n){return mg(n)(this)}toPromise(n){return n=nT(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function nT(t){var e;return(e=t??Bn.Promise)!==null&&e!==void 0?e:Promise}function lF(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function uF(t){return t&&t instanceof Os||lF(t)&&td(t)}function gg(t){return se(t?.lift)}function ve(t){return e=>{if(gg(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(t,e,n,i,r){return new _g(t,e,n,i,r)}var _g=class extends Os{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function qo(){return ve((t,e)=>{let n=null;t._refCount++;let i=le(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Wo=class extends ne{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,gg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ct;let n=this.getSubject();e.add(this.source.subscribe(le(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ct.EMPTY)}return e}refCount(){return qo()(this)}};var iT=$o(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=(()=>{class t extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new sd(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new iT}next(n){Go(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Go(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Go(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?ug:(this.currentObservers=null,s.push(n),new ct(()=>{this.currentObservers=null,Ms(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new ne;return n.source=this,n}}return t.create=(e,n)=>new sd(e,n),t})(),sd=class extends Ae{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:ug}};var ft=class extends Ae{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var yg={now(){return(yg.delegate||Date).now()},delegate:void 0};var od=class extends ct{constructor(e,n){super()}schedule(e,n=0){return this}};var Vc={setInterval(t,e,...n){let{delegate:i}=Vc;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Vc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Qo=class extends od{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return Vc.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Vc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ms(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ko=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Ko.now=yg.now;var Yo=class extends Ko{constructor(e,n=Ko.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var ad=new Yo(Qo),vg=ad;var cd=class extends Qo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var ld=class extends Yo{};var wg=new ld(cd);var Rt=new ne(t=>t.complete());function ud(t){return t&&se(t.schedule)}function rT(t){return t[t.length-1]}function Ar(t){return se(rT(t))?t.pop():void 0}function Rr(t){return ud(rT(t))?t.pop():void 0}function bg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function oT(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(i.next(d))}catch(p){o(p)}}function c(d){try{u(i.throw(d))}catch(p){o(p)}}function u(d){d.done?s(d.value):r(d.value).then(a,c)}u((i=i.apply(t,e||[])).next())})}function sT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ps(t){return this instanceof Ps?(this.v=t,this):new Ps(t)}function aT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(_){return function(D){return Promise.resolve(D).then(_,p)}}function a(_,D){i[_]&&(r[_]=function(O){return new Promise(function(R,k){s.push([_,O,R,k])>1||c(_,O)})},D&&(r[_]=D(r[_])))}function c(_,D){try{u(i[_](D))}catch(O){m(s[0][3],O)}}function u(_){_.value instanceof Ps?Promise.resolve(_.value.v).then(d,p):m(s[0][2],_)}function d(_){c("next",_)}function p(_){c("throw",_)}function m(_,D){_(D),s.shift(),s.length&&c(s[0][0],s[0][1])}}function cT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof sT=="function"?sT(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Jo=t=>t&&typeof t.length=="number"&&typeof t!="function";function dd(t){return se(t?.then)}function hd(t){return se(t[zo])}function fd(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function pd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function dF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var md=dF();function gd(t){return se(t?.[md])}function _d(t){return aT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield Ps(n.read());if(r)return yield Ps(void 0);yield yield Ps(i)}}finally{n.releaseLock()}})}function yd(t){return se(t?.getReader)}function Ve(t){if(t instanceof ne)return t;if(t!=null){if(hd(t))return hF(t);if(Jo(t))return fF(t);if(dd(t))return pF(t);if(fd(t))return lT(t);if(gd(t))return mF(t);if(yd(t))return gF(t)}throw pd(t)}function hF(t){return new ne(e=>{let n=t[zo]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fF(t){return new ne(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function pF(t){return new ne(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,nd)})}function mF(t){return new ne(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function lT(t){return new ne(e=>{_F(t,e).catch(n=>e.error(n))})}function gF(t){return lT(_d(t))}function _F(t,e){var n,i,r,s;return oT(this,void 0,void 0,function*(){try{for(n=cT(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function ln(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function Mr(t,e=0){return ve((n,i)=>{n.subscribe(le(i,r=>ln(i,t,()=>i.next(r),e),()=>ln(i,t,()=>i.complete(),e),r=>ln(i,t,()=>i.error(r),e)))})}function Nr(t,e=0){return ve((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function uT(t,e){return Ve(t).pipe(Nr(e),Mr(e))}function dT(t,e){return Ve(t).pipe(Nr(e),Mr(e))}function hT(t,e){return new ne(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function fT(t,e){return new ne(n=>{let i;return ln(n,e,()=>{i=t[md](),ln(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>se(i?.return)&&i.return()})}function vd(t,e){if(!t)throw new Error("Iterable cannot be null");return new ne(n=>{ln(n,e,()=>{let i=t[Symbol.asyncIterator]();ln(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function pT(t,e){return vd(_d(t),e)}function mT(t,e){if(t!=null){if(hd(t))return uT(t,e);if(Jo(t))return hT(t,e);if(dd(t))return dT(t,e);if(fd(t))return vd(t,e);if(gd(t))return fT(t,e);if(yd(t))return pT(t,e)}throw pd(t)}function Be(t,e){return e?mT(t,e):Ve(t)}function X(...t){let e=Rr(t);return Be(t,e)}function Zo(t,e){let n=se(t)?t:()=>t,i=r=>r.error(n());return new ne(e?r=>e.schedule(i,0,r):i)}function Ig(t){return!!t&&(t instanceof ne||se(t.lift)&&se(t.subscribe))}var Un=$o(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Eg(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let s=new Sr({next:o=>{i(o),s.unsubscribe()},error:r,complete:()=>{n?i(e.defaultValue):r(new Un)}});t.subscribe(s)})}function gT(t){return t instanceof Date&&!isNaN(t)}function Z(t,e){return ve((n,i)=>{let r=0;n.subscribe(le(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:yF}=Array;function vF(t,e){return yF(e)?t(...e):t(e)}function Xo(t){return Z(e=>vF(t,e))}var{isArray:wF}=Array,{getPrototypeOf:bF,prototype:IF,keys:EF}=Object;function wd(t){if(t.length===1){let e=t[0];if(wF(e))return{args:e,keys:null};if(DF(e)){let n=EF(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function DF(t){return t&&typeof t=="object"&&bF(t)===IF}function bd(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function xr(...t){let e=Rr(t),n=Ar(t),{args:i,keys:r}=wd(t);if(i.length===0)return Be([],e);let s=new ne(TF(i,e,r?o=>bd(r,o):At));return n?s.pipe(Xo(n)):s}function TF(t,e,n=At){return i=>{_T(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)_T(e,()=>{let u=Be(t[c],e),d=!1;u.subscribe(le(i,p=>{s[c]=p,d||(d=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function _T(t,e,n){t?ln(n,t,e):e()}function yT(t,e,n,i,r,s,o,a){let c=[],u=0,d=0,p=!1,m=()=>{p&&!c.length&&!u&&e.complete()},_=O=>u<i?D(O):c.push(O),D=O=>{s&&e.next(O),u++;let R=!1;Ve(n(O,d++)).subscribe(le(e,k=>{r?.(k),s?_(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(u--;c.length&&u<i;){let k=c.shift();o?ln(e,o,()=>D(k)):D(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(le(e,_,()=>{p=!0,m()})),()=>{a?.()}}function Je(t,e,n=1/0){return se(e)?Je((i,r)=>Z((s,o)=>e(i,s,r,o))(Ve(t(i,r))),n):(typeof e=="number"&&(n=e),ve((i,r)=>yT(i,r,t,n)))}function Or(t=1/0){return Je(At,t)}function vT(){return Or(1)}function Pr(...t){return vT()(Be(t,Rr(t)))}function Id(t){return new ne(e=>{Ve(t()).subscribe(e)})}function Dg(...t){let e=Ar(t),{args:n,keys:i}=wd(t),r=new ne(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let d=0;d<o;d++){let p=!1;Ve(n[d]).subscribe(le(s,m=>{p||(p=!0,u--),a[d]=m},()=>c--,void 0,()=>{(!c||!p)&&(u||s.next(i?bd(i,a):a),s.complete())}))}});return e?r.pipe(Xo(e)):r}var CF=["addListener","removeListener"],SF=["addEventListener","removeEventListener"],AF=["on","off"];function Nn(t,e,n,i){if(se(n)&&(i=n,n=void 0),i)return Nn(t,e,n).pipe(Xo(i));let[r,s]=NF(t)?SF.map(o=>a=>t[o](e,a,n)):RF(t)?CF.map(wT(t,e)):MF(t)?AF.map(wT(t,e)):[];if(!r&&Jo(t))return Je(o=>Nn(o,e,n))(Ve(t));if(!r)throw new TypeError("Invalid event target");return new ne(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function wT(t,e){return n=>i=>t[n](e,i)}function RF(t){return se(t.addListener)&&se(t.removeListener)}function MF(t){return se(t.on)&&se(t.off)}function NF(t){return se(t.addEventListener)&&se(t.removeEventListener)}function Tg(t=0,e,n=vg){let i=-1;return e!=null&&(ud(e)?n=e:i=e),new ne(r=>{let s=gT(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}var{isArray:xF}=Array;function Ed(t){return t.length===1&&xF(t[0])?t[0]:t}function nt(t,e){return ve((n,i)=>{let r=0;n.subscribe(le(i,s=>t.call(e,s,r++)&&i.next(s)))})}function Cg(...t){return t=Ed(t),t.length===1?Ve(t[0]):new ne(OF(t))}function OF(t){return e=>{let n=[];for(let i=0;n&&!e.closed&&i<t.length;i++)n.push(Ve(t[i]).subscribe(le(e,r=>{if(n){for(let s=0;s<n.length;s++)s!==i&&n[s].unsubscribe();n=null}e.next(r)})))}}function Bc(...t){let e=Ar(t),n=Ed(t);return n.length?new ne(i=>{let r=n.map(()=>[]),s=n.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<n.length;o++)Ve(n[o]).subscribe(le(i,a=>{if(r[o].push(a),r.every(c=>c.length)){let c=r.map(u=>u.shift());i.next(e?e(...c):c),r.some((u,d)=>!u.length&&s[d])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):Rt}function kr(t){return ve((e,n)=>{let i=null,r=!1,s;i=e.subscribe(le(n,void 0,void 0,o=>{s=Ve(t(o,kr(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function bT(t,e,n,i,r){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(le(o,d=>{let p=u++;c=a?t(c,d,p):(a=!0,d),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function ji(t,e){return se(e)?Je(t,e,1):Je(t,1)}function Fr(t){return ve((e,n)=>{let i=!1;e.subscribe(le(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function un(t){return t<=0?()=>Rt:ve((e,n)=>{let i=0;e.subscribe(le(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Sg(t){return Z(()=>t)}function Dd(t,e=At){return t=t??PF,ve((n,i)=>{let r,s=!0;n.subscribe(le(i,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function PF(t,e){return t===e}function Td(t=kF){return ve((e,n)=>{let i=!1;e.subscribe(le(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function kF(){return new Un}function Ag(...t){return e=>Pr(e,X(...t))}function $i(t){return ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ai(t,e){let n=arguments.length>=2;return i=>i.pipe(t?nt((r,s)=>t(r,s,i)):At,un(1),n?Fr(e):Td(()=>new Un))}function ea(t){return t<=0?()=>Rt:ve((e,n)=>{let i=[];e.subscribe(le(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Rg(t,e){let n=arguments.length>=2;return i=>i.pipe(t?nt((r,s)=>t(r,s,i)):At,ea(1),n?Fr(e):Td(()=>new Un))}function Cd(t,e){return ve(bT(t,e,arguments.length>=2,!0))}function Mg(t){return nt((e,n)=>t<=n)}function ta(...t){let e=Rr(t);return ve((n,i)=>{(e?Pr(t,n,e):Pr(t,n)).subscribe(i)})}function $t(t,e){return ve((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(le(i,c=>{r?.unsubscribe();let u=0,d=s++;Ve(t(c,d)).subscribe(r=le(i,p=>i.next(e?e(c,p,d,u++):p),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function wt(t){return ve((e,n)=>{Ve(t).subscribe(le(n,()=>n.complete(),Ns)),!n.closed&&e.subscribe(n)})}function it(t,e,n){let i=se(t)||e||n?{next:t,error:e,complete:n}:t;return i?ve((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(le(s,c=>{var u;(u=i.next)===null||u===void 0||u.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,c),s.error(c)},()=>{var c,u;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):At}function Sd(...t){let e=Ar(t);return ve((n,i)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let c=0;c<r;c++)Ve(t[c]).subscribe(le(i,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(At))&&(o=null))},Ns));n.subscribe(le(i,c=>{if(a){let u=[c,...s];i.next(e?e(...u):u)}}))})}var c1="https://g.co/ng/security#xss",K=class extends Error{constructor(e,n){super(dh(e,n)),this.code=e}};function dh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function il(t){return{toString:t}.toString()}var Ad="__parameters__";function FF(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function l1(t,e,n){return il(()=>{let i=FF(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,u,d){let p=c.hasOwnProperty(Ad)?c[Ad]:Object.defineProperty(c,Ad,{value:[]})[Ad];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(o),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Mt=globalThis;function $e(t){for(let e in t)if(t[e]===$e)return e;throw Error("Could not find renamed property on target object.")}function LF(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Xt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Xt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Wg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var VF=$e({__forward_ref__:$e});function xn(t){return t.__forward_ref__=xn,t.toString=function(){return Xt(this())},t}function Jt(t){return u1(t)?t():t}function u1(t){return typeof t=="function"&&t.hasOwnProperty(VF)&&t.__forward_ref__===xn}function BF(t,e,n){t!=e&&UF(n,t,e,"==")}function UF(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(i==null?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ee(t){return{providers:t.providers||[],imports:t.imports||[]}}function hh(t){return IT(t,h1)||IT(t,f1)}function d1(t){return hh(t)!==null}function IT(t,e){return t.hasOwnProperty(e)?t[e]:null}function jF(t){let e=t&&(t[h1]||t[f1]);return e||null}function ET(t){return t&&(t.hasOwnProperty(DT)||t.hasOwnProperty($F))?t[DT]:null}var h1=$e({\u0275prov:$e}),DT=$e({\u0275inj:$e}),f1=$e({ngInjectableDef:$e}),$F=$e({ngInjectorDef:$e}),G=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function p1(t){return t&&!!t.\u0275providers}var HF=$e({\u0275cmp:$e}),GF=$e({\u0275dir:$e}),zF=$e({\u0275pipe:$e}),qF=$e({\u0275mod:$e}),$d=$e({\u0275fac:$e}),Uc=$e({__NG_ELEMENT_ID__:$e}),TT=$e({__NG_ENV_ID__:$e});function rl(t){return typeof t=="string"?t:t==null?"":String(t)}function WF(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():rl(t)}function QF(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new K(-200,t)}function oy(t,e){throw new K(-201,!1)}var we=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(we||{}),Qg;function m1(){return Qg}function dn(t){let e=Qg;return Qg=t,e}function g1(t,e,n){let i=hh(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&we.Optional)return null;if(e!==void 0)return e;oy(t,"Injector")}var KF={},Hc=KF,Kg="__NG_DI_FLAG__",Hd="ngTempTokenPath",YF="ngTokenPath",JF=/\n/gm,ZF="\u0275",CT="__source",oa;function XF(){return oa}function Lr(t){let e=oa;return oa=t,e}function eL(t,e=we.Default){if(oa===void 0)throw new K(-203,!1);return oa===null?g1(t,void 0,e):oa.get(t,e&we.Optional?null:void 0,e)}function H(t,e=we.Default){return(m1()||eL)(Jt(t),e)}function N(t,e=we.Default){return H(t,fh(e))}function fh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Yg(t){let e=[];for(let n=0;n<t.length;n++){let i=Jt(t[n]);if(Array.isArray(i)){if(i.length===0)throw new K(900,!1);let r,s=we.Default;for(let o=0;o<i.length;o++){let a=i[o],c=tL(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(H(r,s))}else e.push(H(i))}return e}function _1(t,e){return t[Kg]=e,t.prototype[Kg]=e,t}function tL(t){return t[Kg]}function nL(t,e,n,i){let r=t[Hd];throw e[CT]&&r.unshift(e[CT]),t.message=iL(`
`+t.message,r,n,i),t[YF]=r,t[Hd]=null,t}function iL(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ZF?t.slice(2):t;let r=Xt(e);if(Array.isArray(e))r=e.map(Xt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Xt(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(JF,`
  `)}`}var lt=_1(l1("Optional"),8);var ay=_1(l1("SkipSelf"),4);function Ls(t,e){let n=t.hasOwnProperty($d);return n?t[$d]:null}function rL(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function sL(t){return t.flat(Number.POSITIVE_INFINITY)}function cy(t,e){t.forEach(n=>Array.isArray(n)?cy(n,e):e(n))}function y1(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Gd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function oL(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function aL(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function ly(t,e,n){let i=sl(t,e);return i>=0?t[i|1]=n:(i=~i,aL(t,i,e,n)),i}function Ng(t,e){let n=sl(t,e);if(n>=0)return t[n|1]}function sl(t,e){return cL(t,e,1)}function cL(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}var ca={},Zt=[],la=new G(""),v1=new G("",-1),w1=new G(""),zd=class{get(e,n=Hc){if(n===Hc){let i=new Error(`NullInjectorError: No provider for ${Xt(e)}!`);throw i.name="NullInjectorError",i}return n}},b1=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(b1||{}),ui=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ui||{}),Ze=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ze||{});function lL(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function Jg(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];uL(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function I1(t){return t===3||t===4||t===6}function uL(t){return t.charCodeAt(0)===64}function Gc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?ST(t,n,r,null,e[++i]):ST(t,n,r,null,null))}}return t}function ST(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var E1="ng-template";function dL(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&lL(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(uy(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function uy(t){return t.type===4&&t.value!==E1}function hL(t,e,n){let i=t.type===4&&!n?E1:t.value;return e===i}function fL(t,e,n){let i=4,r=t.attrs,s=r!==null?gL(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!jn(i)&&!jn(c))return!1;if(o&&jn(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!hL(t,c,n)||c===""&&e.length===1){if(jn(i))return!1;o=!0}}else if(i&8){if(r===null||!dL(t,r,c,n)){if(jn(i))return!1;o=!0}}else{let u=e[++a],d=pL(c,r,uy(t),n);if(d===-1){if(jn(i))return!1;o=!0;continue}if(u!==""){let p;if(d>s?p="":p=r[d+1].toLowerCase(),i&2&&u!==p){if(jn(i))return!1;o=!0}}}}return jn(i)||o}function jn(t){return(t&1)===0}function pL(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return _L(e,t)}function D1(t,e,n=!1){for(let i=0;i<e.length;i++)if(fL(t,e[i],n))return!0;return!1}function mL(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function gL(t){for(let e=0;e<t.length;e++){let n=t[e];if(I1(n))return e}return t.length}function _L(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function yL(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function AT(t,e){return t?":not("+e.trim()+")":e}function vL(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!jn(o)&&(e+=AT(s,r),r=""),i=o,s=s||!jn(i);n++}return r!==""&&(e+=AT(s,r)),e}function wL(t){return t.map(vL).join(",")}function bL(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!jn(r))break;r=s}i++}return{attrs:e,classes:n}}function Re(t){return il(()=>{let e=M1(t),n=be(B({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===b1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ui.Emulated,styles:t.styles||Zt,_:null,schemas:t.schemas||null,tView:null,id:""});N1(n);let i=t.dependencies;return n.directiveDefs=MT(i,!1),n.pipeDefs=MT(i,!0),n.id=DL(n),n})}function IL(t){return Gi(t)||C1(t)}function EL(t){return t!==null}function De(t){return il(()=>({type:t.type,bootstrap:t.bootstrap||Zt,declarations:t.declarations||Zt,imports:t.imports||Zt,exports:t.exports||Zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function RT(t,e){if(t==null)return ca;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,o,a=Ze.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(n[s]=a!==Ze.None?[i,a]:i,e[s]=o):n[s]=i}return n}function me(t){return il(()=>{let e=M1(t);return N1(e),e})}function T1(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Gi(t){return t[HF]||null}function C1(t){return t[GF]||null}function S1(t){return t[zF]||null}function A1(t){let e=Gi(t)||C1(t)||S1(t);return e!==null?e.standalone:!1}function R1(t,e){let n=t[qF]||null;if(!n&&e===!0)throw new Error(`Type ${Xt(t)} does not have '\u0275mod' property.`);return n}function M1(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ca,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Zt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:RT(t.inputs,e),outputs:RT(t.outputs),debugInfo:null}}function N1(t){t.features?.forEach(e=>e(t))}function MT(t,e){if(!t)return null;let n=e?S1:IL;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(EL)}function DL(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function fn(t){return{\u0275providers:t}}function TL(...t){return{\u0275providers:x1(!0,t),\u0275fromNgModule:!0}}function x1(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return cy(e,o=>{let a=o;Zg(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&O1(r,s),n}function O1(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];dy(r,s=>{e(s,i)})}}function Zg(t,e,n,i){if(t=Jt(t),!t)return!1;let r=null,s=ET(t),o=!s&&Gi(t);if(!s&&!o){let c=t.ngModule;if(s=ET(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Zg(u,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let u;try{cy(s.imports,d=>{Zg(d,e,n,i)&&(u||=[],u.push(d))})}finally{}u!==void 0&&O1(u,e)}if(!a){let u=Ls(r)||(()=>new r);e({provide:r,useFactory:u,deps:Zt},r),e({provide:w1,useValue:r,multi:!0},r),e({provide:la,useValue:()=>H(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let u=t;dy(c,d=>{e(d,u)})}}else return!1;return r!==t&&t.providers!==void 0}function dy(t,e){for(let n of t)p1(n)&&(n=n.\u0275providers),Array.isArray(n)?dy(n,e):e(n)}var CL=$e({provide:String,useValue:$e});function P1(t){return t!==null&&typeof t=="object"&&CL in t}function SL(t){return!!(t&&t.useExisting)}function AL(t){return!!(t&&t.useFactory)}function ua(t){return typeof t=="function"}function RL(t){return!!t.useClass}var ph=new G(""),kd={},ML={},xg;function mh(){return xg===void 0&&(xg=new zd),xg}var yt=class{},zc=class extends yt{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,e_(e,o=>this.processProvider(o)),this.records.set(v1,na(void 0,this)),r.has("environment")&&this.records.set(yt,na(void 0,this));let s=this.records.get(ph);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(w1,Zt,we.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ie(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Lr(this),i=dn(void 0),r;try{return e()}finally{Lr(n),dn(i)}}get(e,n=Hc,i=we.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(TT))return e[TT](this);i=fh(i);let r,s=Lr(this),o=dn(void 0);try{if(!(i&we.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=kL(e)&&hh(e);u&&this.injectableDefInScope(u)?c=na(Xg(e),kd):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&we.Self?mh():this.parent;return n=i&we.Optional&&n===Hc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Hd]=a[Hd]||[]).unshift(Xt(e)),s)throw a;return nL(a,e,"R3InjectorError",this.source)}else throw a}finally{dn(o),Lr(s)}}resolveInjectorInitializers(){let e=Ie(null),n=Lr(this),i=dn(void 0),r;try{let s=this.get(la,Zt,we.Self);for(let o of s)o()}finally{Lr(n),dn(i),Ie(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Xt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(e){e=Jt(e);let n=ua(e)?e:Jt(e&&e.provide),i=xL(e);if(!ua(e)&&e.multi===!0){let r=this.records.get(n);r||(r=na(void 0,kd,!0),r.factory=()=>Yg(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=Ie(null);try{return n.value===kd&&(n.value=ML,n.value=n.factory()),typeof n.value=="object"&&n.value&&PL(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ie(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Jt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Xg(t){let e=hh(t),n=e!==null?e.factory:Ls(t);if(n!==null)return n;if(t instanceof G)throw new K(204,!1);if(t instanceof Function)return NL(t);throw new K(204,!1)}function NL(t){if(t.length>0)throw new K(204,!1);let n=jF(t);return n!==null?()=>n.factory(t):()=>new t}function xL(t){if(P1(t))return na(void 0,t.useValue);{let e=k1(t);return na(e,kd)}}function k1(t,e,n){let i;if(ua(t)){let r=Jt(t);return Ls(r)||Xg(r)}else if(P1(t))i=()=>Jt(t.useValue);else if(AL(t))i=()=>t.useFactory(...Yg(t.deps||[]));else if(SL(t))i=()=>H(Jt(t.useExisting));else{let r=Jt(t&&(t.useClass||t.provide));if(OL(t))i=()=>new r(...Yg(t.deps));else return Ls(r)||Xg(r)}return i}function na(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function OL(t){return!!t.deps}function PL(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function kL(t){return typeof t=="function"||typeof t=="object"&&t instanceof G}function e_(t,e){for(let n of t)Array.isArray(n)?e_(n,e):n&&p1(n)?e_(n.\u0275providers,e):e(n)}function qn(t,e){t instanceof zc&&t.assertNotDestroyed();let n,i=Lr(t),r=dn(void 0);try{return e()}finally{Lr(i),dn(r)}}function F1(){return m1()!==void 0||XF()!=null}function hy(t){if(!F1())throw new K(-203,!1)}function FL(t){let e=Mt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function LL(t){return typeof t=="function"}var fi=0,ue=1,ae=2,Nt=3,Hn=4,pn=5,da=6,qc=7,Ht=8,ha=9,Gn=10,He=11,Wc=12,NT=13,ga=14,vn=15,ol=16,ia=17,zi=18,gh=19,L1=20,Vr=21,Og=22,Vs=23,bt=25,fy=1;var Bs=7,qd=8,fa=9,Gt=10,py=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(py||{});function ks(t){return Array.isArray(t)&&typeof t[fy]=="object"}function Yi(t){return Array.isArray(t)&&t[fy]===!0}function my(t){return(t.flags&4)!==0}function _h(t){return t.componentOffset>-1}function yh(t){return(t.flags&1)===1}function qi(t){return!!t.template}function VL(t){return(t[ae]&512)!==0}var t_=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function V1(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function en(){return B1}function B1(t){return t.type.prototype.ngOnChanges&&(t.setInput=UL),BL}en.ngInherit=!0;function BL(){let t=j1(this),e=t?.current;if(e){let n=t.previous;if(n===ca)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function UL(t,e,n,i,r){let s=this.declaredInputs[i],o=j1(t)||jL(t,{previous:ca,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new t_(u&&u.currentValue,n,c===ca),V1(t,e,r,n)}var U1="__ngSimpleChanges__";function j1(t){return t[U1]||null}function jL(t,e){return t[U1]=e}var xT=null;var ci=function(t,e,n){xT?.(t,e,n)},$L="svg",HL="math",GL=!1;function zL(){return GL}function zn(t){for(;Array.isArray(t);)t=t[fi];return t}function qL(t){for(;Array.isArray(t);){if(typeof t[fy]=="object")return t;t=t[fi]}return null}function $1(t,e){return zn(e[t])}function On(t,e){return zn(e[t.index])}function gy(t,e){return t.data[e]}function H1(t,e){return t[e]}function jr(t,e){let n=e[t];return ks(n)?n:n[fi]}function WL(t){return(t[ae]&4)===4}function _y(t){return(t[ae]&128)===128}function QL(t){return Yi(t[Nt])}function Us(t,e){return e==null?null:t[e]}function G1(t){t[ia]=0}function KL(t){t[ae]&1024||(t[ae]|=1024,_y(t)&&Qc(t))}function YL(t,e){for(;t>0;)e=e[ga],t--;return e}function yy(t){return!!(t[ae]&9216||t[Vs]?.dirty)}function n_(t){t[Gn].changeDetectionScheduler?.notify(1),yy(t)?Qc(t):t[ae]&64&&(zL()?(t[ae]|=1024,Qc(t)):t[Gn].changeDetectionScheduler?.notify())}function Qc(t){t[Gn].changeDetectionScheduler?.notify();let e=Kc(t);for(;e!==null&&!(e[ae]&8192||(e[ae]|=8192,!_y(e)));)e=Kc(e)}function z1(t,e){if((t[ae]&256)===256)throw new K(911,!1);t[Vr]===null&&(t[Vr]=[]),t[Vr].push(e)}function JL(t,e){if(t[Vr]===null)return;let n=t[Vr].indexOf(e);n!==-1&&t[Vr].splice(n,1)}function Kc(t){let e=t[Nt];return Yi(e)?e[Nt]:e}var ye={lFrame:tC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ZL(){return ye.lFrame.elementDepthCount}function XL(){ye.lFrame.elementDepthCount++}function eV(){ye.lFrame.elementDepthCount--}function q1(){return ye.bindingsEnabled}function W1(){return ye.skipHydrationRootTNode!==null}function tV(t){return ye.skipHydrationRootTNode===t}function nV(){ye.skipHydrationRootTNode=null}function he(){return ye.lFrame.lView}function Qe(){return ye.lFrame.tView}function It(t){return ye.lFrame.contextLView=t,t[Ht]}function Et(t){return ye.lFrame.contextLView=null,t}function zt(){let t=Q1();for(;t!==null&&t.type===64;)t=t.parent;return t}function Q1(){return ye.lFrame.currentTNode}function Yc(){let t=ye.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function di(t,e){let n=ye.lFrame;n.currentTNode=t,n.isParent=e}function vy(){return ye.lFrame.isParent}function wy(){ye.lFrame.isParent=!1}function iV(){return ye.lFrame.contextLView}function vh(){let t=ye.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function rV(t){return ye.lFrame.bindingIndex=t}function $r(){return ye.lFrame.bindingIndex++}function K1(t){let e=ye.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function sV(){return ye.lFrame.inI18n}function Y1(t){ye.lFrame.inI18n=t}function oV(t,e){let n=ye.lFrame;n.bindingIndex=n.bindingRootIndex=t,i_(e)}function aV(){return ye.lFrame.currentDirectiveIndex}function i_(t){ye.lFrame.currentDirectiveIndex=t}function J1(t){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Z1(){return ye.lFrame.currentQueryIndex}function by(t){ye.lFrame.currentQueryIndex=t}function cV(t){let e=t[ue];return e.type===2?e.declTNode:e.type===1?t[pn]:null}function X1(t,e,n){if(n&we.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&we.Host);)if(r=cV(s),r===null||(s=s[ga],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=ye.lFrame=eC();return i.currentTNode=e,i.lView=t,!0}function Iy(t){let e=eC(),n=t[ue];ye.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function eC(){let t=ye.lFrame,e=t===null?null:t.child;return e===null?tC(t):e}function tC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function nC(){let t=ye.lFrame;return ye.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var iC=nC;function Ey(){let t=nC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lV(t){return(ye.lFrame.contextLView=YL(t,ye.lFrame.contextLView))[Ht]}function Hr(){return ye.lFrame.selectedIndex}function js(t){ye.lFrame.selectedIndex=t}function al(){let t=ye.lFrame;return gy(t.tView,t.selectedIndex)}function uV(){return ye.lFrame.currentNamespace}var rC=!0;function cl(){return rC}function ll(t){rC=t}function dV(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=B1(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function wh(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Fd(t,e,n){sC(t,e,3,n)}function Ld(t,e,n,i){(t[ae]&3)===n&&sC(t,e,n,i)}function Pg(t,e){let n=t[ae];(n&3)===e&&(n&=16383,n+=1,t[ae]=n)}function sC(t,e,n,i){let r=i!==void 0?t[ia]&65535:0,s=i??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[ia]+=65536),(a<s||s==-1)&&(hV(t,n,e,c),t[ia]=(t[ia]&4294901760)+c+2),c++}function OT(t,e){ci(4,t,e);let n=Ie(null);try{e.call(t)}finally{Ie(n),ci(5,t,e)}}function hV(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[ae]>>14<t[ia]>>16&&(t[ae]&3)===e&&(t[ae]+=16384,OT(a,s)):OT(a,s)}var aa=-1,$s=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function fV(t){return t instanceof $s}function pV(t){return(t.flags&8)!==0}function mV(t){return(t.flags&16)!==0}function oC(t){return t!==aa}function Wd(t){return t&32767}function gV(t){return t>>16}function Qd(t,e){let n=gV(t),i=e;for(;n>0;)i=i[ga],n--;return i}var r_=!0;function Kd(t){let e=r_;return r_=t,e}var _V=256,aC=_V-1,cC=5,yV=0,li={};function vV(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Uc)&&(i=n[Uc]),i==null&&(i=n[Uc]=yV++);let r=i&aC,s=1<<r;e.data[t+(r>>cC)]|=s}function Yd(t,e){let n=lC(t,e);if(n!==-1)return n;let i=e[ue];i.firstCreatePass&&(t.injectorIndex=e.length,kg(i.data,t),kg(e,null),kg(i.blueprint,null));let r=Dy(t,e),s=t.injectorIndex;if(oC(r)){let o=Wd(r),a=Qd(r,e),c=a[ue].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=r,s}function kg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function lC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Dy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=pC(r),i===null)return aa;if(n++,r=r[ga],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return aa}function s_(t,e,n){vV(t,e,n)}function wV(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let s=n[r];if(I1(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(s===e)return n[r+1];r=r+2}}}return null}function uC(t,e,n){if(n&we.Optional||t!==void 0)return t;oy(e,"NodeInjector")}function dC(t,e,n,i){if(n&we.Optional&&i===void 0&&(i=null),!(n&(we.Self|we.Host))){let r=t[ha],s=dn(void 0);try{return r?r.get(e,i,n&we.Optional):g1(e,i,n&we.Optional)}finally{dn(s)}}return uC(i,e,n)}function hC(t,e,n,i=we.Default,r){if(t!==null){if(e[ae]&2048&&!(i&we.Self)){let o=DV(t,e,n,i,li);if(o!==li)return o}let s=fC(t,e,n,i,li);if(s!==li)return s}return dC(e,n,i,r)}function fC(t,e,n,i,r){let s=IV(n);if(typeof s=="function"){if(!X1(e,t,i))return i&we.Host?uC(r,n,i):dC(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&we.Optional))oy(n);else return o}finally{iC()}}else if(typeof s=="number"){let o=null,a=lC(t,e),c=aa,u=i&we.Host?e[vn][pn]:null;for((a===-1||i&we.SkipSelf)&&(c=a===-1?Dy(t,e):e[a+8],c===aa||!kT(i,!1)?a=-1:(o=e[ue],a=Wd(c),e=Qd(c,e)));a!==-1;){let d=e[ue];if(PT(s,a,d.data)){let p=bV(a,e,n,o,i,u);if(p!==li)return p}c=e[a+8],c!==aa&&kT(i,e[ue].data[a+8]===u)&&PT(s,a,e)?(o=d,a=Wd(c),e=Qd(c,e)):a=-1}}return r}function bV(t,e,n,i,r,s){let o=e[ue],a=o.data[t+8],c=i==null?_h(a)&&r_:i!=o&&(a.type&3)!==0,u=r&we.Host&&s===a,d=Vd(a,o,n,c,u);return d!==null?Hs(e,o,d,a):li}function Vd(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,d=s>>20,p=i?a:a+d,m=r?a+d:u;for(let _=p;_<m;_++){let D=o[_];if(_<c&&n===D||_>=c&&D.type===n)return _}if(r){let _=o[c];if(_&&qi(_)&&_.type===n)return c}return null}function Hs(t,e,n,i){let r=t[n],s=e.data;if(fV(r)){let o=r;o.resolving&&QF(WF(s[n]));let a=Kd(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?dn(o.injectImpl):null,d=X1(t,i,we.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&dV(n,s[n],e)}finally{u!==null&&dn(u),Kd(a),o.resolving=!1,iC()}}return r}function IV(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Uc)?t[Uc]:void 0;return typeof e=="number"?e>=0?e&aC:EV:e}function PT(t,e,n){let i=1<<t;return!!(n[e+(t>>cC)]&i)}function kT(t,e){return!(t&we.Self)&&!(t&we.Host&&e)}var Fs=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return hC(this._tNode,this._lView,e,fh(i),n)}};function EV(){return new Fs(zt(),he())}function Wn(t){return il(()=>{let e=t.prototype.constructor,n=e[$d]||o_(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[$d]||o_(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function o_(t){return u1(t)?()=>{let e=o_(Jt(t));return e&&e()}:Ls(t)}function DV(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[ae]&2048&&!(o[ae]&512);){let a=fC(s,o,n,i|we.Self,li);if(a!==li)return a;let c=s.parent;if(!c){let u=o[L1];if(u){let d=u.get(n,li,i);if(d!==li)return d}c=pC(o),o=o[ga]}s=c}return r}function pC(t){let e=t[ue],n=e.type;return n===2?e.declTNode:n===1?t[pn]:null}function Ws(t){return wV(zt(),t)}function FT(t,e=null,n=null,i){let r=mC(t,e,n,i);return r.resolveInjectorInitializers(),r}function mC(t,e=null,n=null,i,r=new Set){let s=[n||Zt,TL(t)];return i=i||(typeof t=="object"?void 0:Xt(t)),new zc(s,e||mh(),i||null,r)}var Ue=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return FT({name:""},r,i,"");{let s=i.name??"";return FT({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=Hc,e.NULL=new zd,e.\u0275prov=$({token:e,providedIn:"any",factory:()=>H(v1)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var TV="ngOriginalError";function Fg(t){return t[TV]}var hi=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Fg(e);for(;n&&Fg(n);)n=Fg(n);return n||null}},gC=new G("",{providedIn:"root",factory:()=>N(hi).handleError.bind(void 0)}),Qs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=CV,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),a_=class extends Qs{constructor(e){super(),this._lView=e}onDestroy(e){return z1(this._lView,e),()=>JL(this._lView,e)}};function CV(){return new a_(he())}function SV(){return _a(zt(),he())}function _a(t,e){return new Xe(On(t,e))}var Xe=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=SV;let t=e;return t})();function AV(t){return t instanceof Xe?t.nativeElement:t}var c_=class extends Ae{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,F1()&&(this.destroyRef=N(Qs,{optional:!0})??void 0)}emit(e){let n=Ie(null);try{super.next(e)}finally{Ie(n)}}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Lg(s),r&&(r=Lg(r)),o&&(o=Lg(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof ct&&e.add(a),a}};function Lg(t){return e=>{setTimeout(t,void 0,e)}}var Ne=c_;function RV(){return this._results[Symbol.iterator]()}var l_=class t{get changes(){return this._changes??=new Ne}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=RV)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=sL(e);(this._changesDetected=!rL(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function _C(t){return(t.flags&128)===128}var yC=new Map,MV=0;function NV(){return MV++}function xV(t){yC.set(t[gh],t)}function OV(t){yC.delete(t[gh])}var LT="__ngContext__";function Br(t,e){ks(e)?(t[LT]=e[gh],xV(e)):t[LT]=e}function vC(t){return bC(t[Wc])}function wC(t){return bC(t[Hn])}function bC(t){for(;t!==null&&!Yi(t);)t=t[Hn];return t}var u_;function IC(t){u_=t}function Ty(){if(u_!==void 0)return u_;if(typeof document<"u")return document;throw new K(210,!1)}var bh=new G("",{providedIn:"root",factory:()=>PV}),PV="ng",Cy=new G(""),wn=new G("",{providedIn:"platform",factory:()=>"unknown"});var ste=new G(""),Sy=new G("",{providedIn:"root",factory:()=>Ty().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var kV="h",FV="b";var LV=()=>null;function Ay(t,e,n=!1){return LV(t,e,n)}var EC=!1,VV=new G("",{providedIn:"root",factory:()=>EC});var Rd;function BV(){if(Rd===void 0&&(Rd=null,Mt.trustedTypes))try{Rd=Mt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rd}function Ih(t){return BV()?.createHTML(t)||t}var Md;function DC(){if(Md===void 0&&(Md=null,Mt.trustedTypes))try{Md=Mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Md}function VT(t){return DC()?.createHTML(t)||t}function BT(t){return DC()?.createScriptURL(t)||t}var Wi=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${c1})`}},d_=class extends Wi{getTypeName(){return"HTML"}},h_=class extends Wi{getTypeName(){return"Style"}},f_=class extends Wi{getTypeName(){return"Script"}},p_=class extends Wi{getTypeName(){return"URL"}},m_=class extends Wi{getTypeName(){return"ResourceURL"}};function Pn(t){return t instanceof Wi?t.changingThisBreaksApplicationSecurity:t}function Ji(t,e){let n=UV(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${c1})`)}return n===e}function UV(t){return t instanceof Wi&&t.getTypeName()||null}function TC(t){return new d_(t)}function CC(t){return new h_(t)}function SC(t){return new f_(t)}function AC(t){return new p_(t)}function RC(t){return new m_(t)}function MC(t){let e=new __(t);return jV()?new g_(e):e}var g_=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Ih(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},__=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Ih(e),n}};function jV(){try{return!!new window.DOMParser().parseFromString(Ih(""),"text/html")}catch{return!1}}var $V=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ul(t){return t=String(t),t.match($V)?t:"unsafe:"+t}function Zi(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function dl(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var NC=Zi("area,br,col,hr,img,wbr"),xC=Zi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),OC=Zi("rp,rt"),HV=dl(OC,xC),GV=dl(xC,Zi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zV=dl(OC,Zi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),y_=dl(NC,GV,zV,HV),Ry=Zi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qV=Zi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),WV=Zi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),PC=dl(Ry,qV,WV),QV=Zi("script,style,template"),v_=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=JV(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=YV(n);if(s){n=s;break}n=r.pop()}}return this.buf.join("")}startElement(e){let n=UT(e).toLowerCase();if(!y_.hasOwnProperty(n))return this.sanitizedSomething=!0,!QV.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!PC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;Ry[a]&&(c=ul(c)),this.buf.push(" ",o,'="',jT(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=UT(e).toLowerCase();y_.hasOwnProperty(n)&&!NC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(jT(e))}};function KV(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function YV(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw kC(e);return e}function JV(t){let e=t.firstChild;if(e&&KV(t,e))throw kC(e);return e}function UT(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function kC(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var ZV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,XV=/([^\#-~ |!])/g;function jT(t){return t.replace(/&/g,"&amp;").replace(ZV,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(XV,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Nd;function My(t,e){let n=null;try{Nd=Nd||MC(t);let i=e?String(e):"";n=Nd.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Nd.getInertBodyElement(i)}while(i!==s);let a=new v_().sanitizeChildren(w_(n)||n);return Ih(a)}finally{if(n){let i=w_(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function w_(t){return"content"in t&&e2(t)?t.content:null}function e2(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var bn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(bn||{});function Ny(t){let e=xy();return e?VT(e.sanitize(bn.HTML,t)||""):Ji(t,"HTML")?VT(Pn(t)):My(Ty(),rl(t))}function Xi(t){let e=xy();return e?e.sanitize(bn.URL,t)||"":Ji(t,"URL")?Pn(t):ul(rl(t))}function t2(t){let e=xy();if(e)return BT(e.sanitize(bn.RESOURCE_URL,t)||"");if(Ji(t,"ResourceURL"))return BT(Pn(t));throw new K(904,!1)}function n2(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?t2:Xi}function FC(t,e,n){return n2(e,n)(t)}function xy(){let t=he();return t&&t[Gn].sanitizer}var i2=/^>|^->|<!--|-->|--!>|<!-$/g,r2=/(<|>)/g,s2="\u200B$1\u200B";function o2(t){return t.replace(i2,e=>e.replace(r2,s2))}function LC(t){return t instanceof Function?t():t}function a2(t){return(t??N(Ue)).get(wn)==="browser"}var Qi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qi||{}),b_;function Oy(t,e){return b_(t,e)}function c2(t){b_===void 0&&(b_=t())}function ra(t,e,n,i,r){if(i!=null){let s,o=!1;Yi(i)?s=i:ks(i)&&(o=!0,i=i[fi]);let a=zn(i);t===0&&n!==null?r==null?GC(e,n,a):pa(e,n,a,r||null,!0):t===1&&n!==null?pa(e,n,a,r||null,!0):t===2?v2(e,a,o):t===3&&e.destroyNode(a),s!=null&&b2(e,t,s,n,r)}}function VC(t,e){return t.createText(e)}function l2(t,e,n){t.setValue(e,n)}function BC(t,e){return t.createComment(o2(e))}function Py(t,e,n){return t.createElement(e,n)}function u2(t,e){UC(t,e),e[fi]=null,e[pn]=null}function d2(t,e,n,i,r,s){i[fi]=r,i[pn]=e,Th(t,i,n,1,r,s)}function UC(t,e){e[Gn].changeDetectionScheduler?.notify(1),Th(t,e,e[He],2,null,null)}function h2(t){let e=t[Wc];if(!e)return Vg(t[ue],t);for(;e;){let n=null;if(ks(e))n=e[Wc];else{let i=e[Gt];i&&(n=i)}if(!n){for(;e&&!e[Hn]&&e!==t;)ks(e)&&Vg(e[ue],e),e=e[Nt];e===null&&(e=t),ks(e)&&Vg(e[ue],e),n=e&&e[Hn]}e=n}}function f2(t,e,n,i){let r=Gt+i,s=n.length;i>0&&(n[r-1][Hn]=e),i<s-Gt?(e[Hn]=n[r],y1(n,Gt+i,e)):(n.push(e),e[Hn]=null),e[Nt]=n;let o=e[ol];o!==null&&n!==o&&p2(o,e);let a=e[zi];a!==null&&a.insertView(t),n_(e),e[ae]|=128}function p2(t,e){let n=t[fa],r=e[Nt][Nt][vn];e[vn]!==r&&(t[ae]|=py.HasTransplantedViews),n===null?t[fa]=[e]:n.push(e)}function jC(t,e){let n=t[fa],i=n.indexOf(e);n.splice(i,1)}function Jc(t,e){if(t.length<=Gt)return;let n=Gt+e,i=t[n];if(i){let r=i[ol];r!==null&&r!==t&&jC(r,i),e>0&&(t[n-1][Hn]=i[Hn]);let s=Gd(t,Gt+e);u2(i[ue],i);let o=s[zi];o!==null&&o.detachView(s[ue]),i[Nt]=null,i[Hn]=null,i[ae]&=-129}return i}function Eh(t,e){if(!(e[ae]&256)){let n=e[He];n.destroyNode&&Th(t,e,n,3,null,null),h2(e)}}function Vg(t,e){if(e[ae]&256)return;let n=Ie(null);try{e[ae]&=-129,e[ae]|=256,e[Vs]&&KD(e[Vs]),g2(t,e),m2(t,e),e[ue].type===1&&e[He].destroy();let i=e[ol];if(i!==null&&Yi(e[Nt])){i!==e[Nt]&&jC(i,e);let r=e[zi];r!==null&&r.detachView(t)}OV(e)}finally{Ie(n)}}function m2(t,e){let n=t.cleanup,i=e[qc];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(e[qc]=null);let r=e[Vr];if(r!==null){e[Vr]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function g2(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof $s)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];ci(4,a,c);try{c.call(a)}finally{ci(5,a,c)}}else{ci(4,r,s);try{s.call(r)}finally{ci(5,r,s)}}}}}function $C(t,e,n){return HC(t,e.parent,n)}function HC(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[fi];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===ui.None||s===ui.Emulated)return null}return On(i,n)}}function pa(t,e,n,i,r){t.insertBefore(e,n,i,r)}function GC(t,e,n){t.appendChild(e,n)}function $T(t,e,n,i,r){i!==null?pa(t,e,n,i,r):GC(t,e,n)}function _2(t,e,n,i){t.removeChild(e,n,i)}function ky(t,e){return t.parentNode(e)}function y2(t,e){return t.nextSibling(e)}function zC(t,e,n){return WC(t,e,n)}function qC(t,e,n){return t.type&40?On(t,n):null}var WC=qC,I_;function QC(t,e){WC=t,I_=e}function Dh(t,e,n,i){let r=$C(t,i,e),s=e[He],o=i.parent||e[pn],a=zC(o,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)$T(s,r,n[c],a,!1);else $T(s,r,n,a,!1);I_!==void 0&&I_(s,i,e,n,r)}function Bd(t,e){if(e!==null){let n=e.type;if(n&3)return On(e,t);if(n&4)return E_(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return Bd(t,i);{let r=t[e.index];return Yi(r)?E_(-1,r):zn(r)}}else{if(n&32)return Oy(e,t)()||zn(t[e.index]);{let i=KC(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Kc(t[vn]);return Bd(r,i)}else return Bd(t,e.next)}}}return null}function KC(t,e){if(e!==null){let i=t[vn][pn],r=e.projection;return i.projection[r]}return null}function E_(t,e){let n=Gt+t+1;if(n<e.length){let i=e[n],r=i[ue].firstChild;if(r!==null)return Bd(i,r)}return e[Bs]}function v2(t,e,n){let i=ky(t,e);i&&_2(t,i,e,n)}function Fy(t,e,n,i,r,s,o){for(;n!=null;){let a=i[n.index],c=n.type;if(o&&e===0&&(a&&Br(zn(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)Fy(t,e,n.child,i,r,s,!1),ra(e,t,r,a,s);else if(c&32){let u=Oy(n,i),d;for(;d=u();)ra(e,t,r,d,s);ra(e,t,r,a,s)}else c&16?YC(t,e,i,n,r,s):ra(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Th(t,e,n,i,r,s){Fy(n,i,t.firstChild,e,r,s,!1)}function w2(t,e,n){let i=e[He],r=$C(t,n,e),s=n.parent||e[pn],o=zC(s,n,e);YC(i,0,e,n,r,o)}function YC(t,e,n,i,r,s){let o=n[vn],c=o[pn].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];ra(e,t,r,d,s)}else{let u=c,d=o[Nt];_C(i)&&(u.flags|=128),Fy(t,e,u,d,r,s,!0)}}function b2(t,e,n,i,r){let s=n[Bs],o=zn(n);s!==o&&ra(e,t,i,s,r);for(let a=Gt;a<n.length;a++){let c=n[a];Th(c[ue],c,t,e,i,s)}}function I2(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:Qi.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Qi.Important),t.setStyle(n,i,r,s))}}function E2(t,e,n){t.setAttribute(e,"style",n)}function JC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ZC(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&Jg(t,e,i),r!==null&&JC(t,e,r),s!==null&&E2(t,e,s)}var er={};function L(t=1){XC(Qe(),he(),Hr()+t,!1)}function XC(t,e,n,i){if(!i)if((e[ae]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Fd(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Ld(e,s,0,n)}js(n)}function V(t,e=we.Default){let n=he();if(n===null)return H(t,e);let i=zt();return hC(i,n,Jt(t),e)}function eS(){let t="invalid";throw new Error(t)}function tS(t,e,n,i,r,s){let o=Ie(null);try{let a=null;r&Ze.SignalBased&&(a=e[i][og]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Ze.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,i):V1(e,a,i,s)}finally{Ie(o)}}function D2(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)js(~r);else{let s=r,o=n[++i],a=n[++i];oV(o,s);let c=e[s];a(2,c)}}}finally{js(-1)}}function Ch(t,e,n,i,r,s,o,a,c,u,d){let p=e.blueprint.slice();return p[fi]=r,p[ae]=i|4|128|8|64,(u!==null||t&&t[ae]&2048)&&(p[ae]|=2048),G1(p),p[Nt]=p[ga]=t,p[Ht]=n,p[Gn]=o||t&&t[Gn],p[He]=a||t&&t[He],p[ha]=c||t&&t[ha]||null,p[pn]=s,p[gh]=NV(),p[da]=d,p[L1]=u,p[vn]=e.type==2?t[vn]:p,p}function ya(t,e,n,i,r){let s=t.data[e];if(s===null)s=Ly(t,e,n,i,r),sV()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=Yc();s.injectorIndex=o===null?-1:o.injectorIndex}return di(s,!0),s}function Ly(t,e,n,i,r){let s=Q1(),o=vy(),a=o?s:s&&s.parent,c=t.data[e]=M2(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function hl(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function nS(t,e,n,i,r){let s=Hr(),o=i&2;try{js(-1),o&&e.length>bt&&XC(t,e,bt,!1),ci(o?2:0,r),n(i,r)}finally{js(s),ci(o?3:1,r)}}function Vy(t,e,n){if(my(e)){let i=Ie(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{Ie(i)}}}function By(t,e,n){q1()&&(F2(t,e,n,On(n,e)),(n.flags&64)===64&&sS(t,e,n))}function Uy(t,e,n=On){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function iS(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=jy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function jy(t,e,n,i,r,s,o,a,c,u,d){let p=bt+i,m=p+r,_=T2(p,m),D=typeof u=="function"?u():u;return _[ue]={type:t,blueprint:_,template:n,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:D,incompleteFirstPass:!1,ssrId:d}}function T2(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:er);return n}function C2(t,e,n,i){let s=i.get(VV,EC)||n===ui.ShadowDom,o=t.selectRootElement(e,s);return S2(o),o}function S2(t){A2(t)}var A2=()=>null;function R2(t,e,n,i){let r=cS(e);r.push(n),t.firstCreatePass&&lS(t).push(i,r.length-1)}function M2(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return W1()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function HT(t,e,n,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,c=Ze.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}t===0?GT(i,n,u,a,c):GT(i,n,u,a)}return i}function GT(t,e,n,i,r){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,i):s=t[n]=[e,i],r!==void 0&&s.push(r)}function N2(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let d=i;d<r;d++){let p=s[d],m=n?n.get(p):null,_=m?m.inputs:null,D=m?m.outputs:null;c=HT(0,p.inputs,d,c,_),u=HT(1,p.outputs,d,u,D);let O=c!==null&&o!==null&&!uy(e)?W2(c,d,o):null;a.push(O)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function x2(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Sh(t,e,n,i,r,s,o,a){let c=On(e,n),u=e.inputs,d;!a&&u!=null&&(d=u[i])?(Hy(t,n,d,i,r),_h(e)&&O2(n,e.index)):e.type&3?(i=x2(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(c,i,r)):e.type&12}function O2(t,e){let n=jr(e,t);n[ae]&16||(n[ae]|=64)}function $y(t,e,n,i){if(q1()){let r=i===null?null:{"":-1},s=V2(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&rS(t,e,n,o,r,a),r&&B2(n,i,r)}n.mergedAttrs=Gc(n.mergedAttrs,n.attrs)}function rS(t,e,n,i,r,s){for(let u=0;u<i.length;u++)s_(Yd(n,e),t,i[u].type);j2(n,t.data.length,i.length);for(let u=0;u<i.length;u++){let d=i[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,c=hl(t,e,i.length,null);for(let u=0;u<i.length;u++){let d=i[u];n.mergedAttrs=Gc(n.mergedAttrs,d.hostAttrs),$2(t,n,e,c,d),U2(c,d,r),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let p=d.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}N2(t,n,s)}function P2(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;k2(o)!=a&&o.push(a),o.push(n,i,s)}}function k2(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function F2(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;_h(n)&&H2(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Yd(n,e),Br(i,e);let o=n.initialInputs;for(let a=r;a<s;a++){let c=t.data[a],u=Hs(e,t,a,n);if(Br(u,e),o!==null&&q2(e,a-r,u,c,n,o),qi(c)){let d=jr(n.index,e);d[Ht]=Hs(e,t,a,n)}}}function sS(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=aV();try{js(s);for(let a=i;a<r;a++){let c=t.data[a],u=e[a];i_(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&L2(c,u)}}finally{js(-1),i_(o)}}function L2(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function V2(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(D1(e,o.selectors,!1))if(i||(i=[]),qi(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let c=a.length;D_(t,e,c)}else i.unshift(o),D_(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function D_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function B2(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new K(-301,!1);i.push(e[r],s)}}}function U2(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;qi(e)&&(n[""]=t)}}function j2(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $2(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=Ls(r.type,!0)),o=new $s(s,qi(r),V);t.blueprint[i]=o,n[i]=o,P2(t,e,i,hl(t,n,r.hostVars,er),r)}function H2(t,e,n){let i=On(e,t),r=iS(n),s=t[Gn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Ah(t,Ch(t,r,null,o,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=a}function G2(t,e,n,i,r,s){let o=On(t,e);z2(e[He],o,s,t.value,n,i,r)}function z2(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?rl(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function q2(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],d=o[a++],p=o[a++];tS(i,n,c,u,d,p)}}function W2(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function oS(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function aS(t,e){let n=t.contentQueries;if(n!==null){let i=Ie(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];by(s),a.contentQueries(2,e[o],o)}}}finally{Ie(i)}}}function Ah(t,e){return t[Wc]?t[NT][Hn]=e:t[Wc]=e,t[NT]=e,e}function T_(t,e,n){by(0);let i=Ie(null);try{e(t,n)}finally{Ie(i)}}function cS(t){return t[qc]||(t[qc]=[])}function lS(t){return t.cleanup||(t.cleanup=[])}function Q2(t,e,n){return(t===null||qi(t))&&(n=qL(n[e.index])),n[He]}function uS(t,e){let n=t[ha],i=n?n.get(hi,null):null;i&&i.handleError(e)}function Hy(t,e,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],d=t.data[o];tS(d,u,i,a,c,r)}}function K2(t,e,n){let i=$1(e,t);l2(t[He],i,n)}function Y2(t,e){let n=jr(e,t),i=n[ue];J2(i,n);let r=n[fi];r!==null&&n[da]===null&&(n[da]=Ay(r,n[ha])),Gy(i,n,n[Ht])}function J2(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Gy(t,e,n){Iy(e);try{let i=t.viewQuery;i!==null&&T_(1,i,n);let r=t.template;r!==null&&nS(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[zi]?.finishViewCreation(t),t.staticContentQueries&&aS(t,e),t.staticViewQueries&&T_(2,t.viewQuery,n);let s=t.components;s!==null&&Z2(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[ae]&=-5,Ey()}}function Z2(t,e){for(let n=0;n<e.length;n++)Y2(t,e[n])}function Rh(t,e,n,i){let r=Ie(null);try{let s=e.tView,a=t[ae]&4096?4096:16,c=Ch(t,s,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=t[e.index];c[ol]=u;let d=t[zi];return d!==null&&(c[zi]=d.createEmbeddedView(s)),Gy(s,c,n),c}finally{Ie(r)}}function dS(t,e){let n=Gt+e;if(n<t.length)return t[n]}function Zc(t,e){return!e||e.firstChild===null||_C(t)}function Mh(t,e,n,i=!0){let r=e[ue];if(f2(r,e,t,n),i){let o=E_(n,t),a=e[He],c=ky(a,t[Bs]);c!==null&&d2(r,t[pn],a,e,c,o)}let s=e[da];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function hS(t,e){let n=Jc(t,e);return n!==void 0&&Eh(n[ue],n),n}function Jd(t,e,n,i,r=!1){for(;n!==null;){let s=e[n.index];s!==null&&i.push(zn(s)),Yi(s)&&X2(s,i);let o=n.type;if(o&8)Jd(t,e,n.child,i);else if(o&32){let a=Oy(n,e),c;for(;c=a();)i.push(c)}else if(o&16){let a=KC(e,n);if(Array.isArray(a))i.push(...a);else{let c=Kc(e[vn]);Jd(c[ue],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function X2(t,e){for(let n=Gt;n<t.length;n++){let i=t[n],r=i[ue].firstChild;r!==null&&Jd(i[ue],i,r,e)}t[Bs]!==t[fi]&&e.push(t[Bs])}var fS=[];function eB(t){return t[Vs]??tB(t)}function tB(t){let e=fS.pop()??Object.create(iB);return e.lView=t,e}function nB(t){t.lView[Vs]!==t&&(t.lView=null,fS.push(t))}var iB=be(B({},qD),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Qc(t.lView)},consumerOnSignalRead(){this.lView[Vs]=this}}),pS=100;function mS(t,e=!0,n=0){let i=t[Gn],r=i.rendererFactory,s=!1;s||r.begin?.();try{rB(t,n)}catch(o){throw e&&uS(t,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function rB(t,e){C_(t,e);let n=0;for(;yy(t);){if(n===pS)throw new K(103,!1);n++,C_(t,1)}}function sB(t,e,n,i){let r=e[ae];if((r&256)===256)return;let s=!1;!s&&e[Gn].inlineEffectRunner?.flush(),Iy(e);let o=null,a=null;!s&&oB(t)&&(a=eB(e),o=WD(a));try{G1(e),rV(t.bindingStartIndex),n!==null&&nS(t,e,n,2,i);let c=(r&3)===3;if(!s)if(c){let p=t.preOrderCheckHooks;p!==null&&Fd(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Ld(e,p,0,null),Pg(e,0)}if(aB(e),gS(e,0),t.contentQueries!==null&&aS(t,e),!s)if(c){let p=t.contentCheckHooks;p!==null&&Fd(e,p)}else{let p=t.contentHooks;p!==null&&Ld(e,p,1),Pg(e,1)}D2(t,e);let u=t.components;u!==null&&yS(e,u,0);let d=t.viewQuery;if(d!==null&&T_(2,d,i),!s)if(c){let p=t.viewCheckHooks;p!==null&&Fd(e,p)}else{let p=t.viewHooks;p!==null&&Ld(e,p,2),Pg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Og]){for(let p of e[Og])p();e[Og]=null}s||(e[ae]&=-73)}catch(c){throw Qc(e),c}finally{a!==null&&(QD(a,o),nB(a)),Ey()}}function oB(t){return t.type!==2}function gS(t,e){for(let n=vC(t);n!==null;n=wC(n))for(let i=Gt;i<n.length;i++){let r=n[i];_S(r,e)}}function aB(t){for(let e=vC(t);e!==null;e=wC(e)){if(!(e[ae]&py.HasTransplantedViews))continue;let n=e[fa];for(let i=0;i<n.length;i++){let r=n[i],s=r[Nt];KL(r)}}}function cB(t,e,n){let i=jr(e,t);_S(i,n)}function _S(t,e){_y(t)&&C_(t,e)}function C_(t,e){let i=t[ue],r=t[ae],s=t[Vs],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&ag(s)),s&&(s.dirty=!1),t[ae]&=-9217,o)sB(i,t,i.template,t[Ht]);else if(r&8192){gS(t,1);let a=i.components;a!==null&&yS(t,a,1)}}function yS(t,e,n){for(let i=0;i<e.length;i++)cB(t,e[i],n)}function zy(t){for(t[Gn].changeDetectionScheduler?.notify();t;){t[ae]|=64;let e=Kc(t);if(VL(t)&&!e)return t;t=e}return null}var Gs=class{get rootNodes(){let e=this._lView,n=e[ue];return Jd(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ht]}set context(e){this._lView[Ht]=e}get destroyed(){return(this._lView[ae]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Nt];if(Yi(e)){let n=e[qd],i=n?n.indexOf(this):-1;i>-1&&(Jc(e,i),Gd(n,i))}this._attachedToViewContainer=!1}Eh(this._lView[ue],this._lView)}onDestroy(e){z1(this._lView,e)}markForCheck(){zy(this._cdRefInjectingView||this._lView)}detach(){this._lView[ae]&=-129}reattach(){n_(this._lView),this._lView[ae]|=128}detectChanges(){this._lView[ae]|=1024,mS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,UC(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e,n_(this._lView)}},xt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=dB;let t=e;return t})(),lB=xt,uB=class extends lB{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=Rh(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new Gs(r)}};function dB(){return Nh(zt(),he())}function Nh(t,e){return t.type&4?new uB(e,t,_a(t,e)):null}var ate=new RegExp(`^(\\d+)*(${FV}|${kV})*(.*)`);var hB=()=>null;function Xc(t,e){return hB(t,e)}var Zd=class{},S_=class{},Xd=class{};function fB(t){let e=Error(`No component factory found for ${Xt(t)}.`);return e[pB]=t,e}var pB="ngComponent";var A_=class{resolveComponentFactory(e){throw fB(e)}},va=(()=>{let e=class e{};e.NULL=new A_;let t=e;return t})(),el=class{},Qn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>mB();let t=e;return t})();function mB(){let t=he(),e=zt(),n=jr(e.index,t);return(ks(n)?n:t)[He]}var gB=(()=>{let e=class e{};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Bg={};var zT=new Set;function wa(t){zT.has(t)||(zT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function qT(...t){}function _B(){let t=typeof Mt.requestAnimationFrame=="function",e=Mt[t?"requestAnimationFrame":"setTimeout"],n=Mt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var de=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ne(!1),this.onMicrotaskEmpty=new Ne(!1),this.onStable=new Ne(!1),this.onError=new Ne(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=_B().nativeRequestAnimationFrame,wB(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new K(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,yB,qT,qT);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},yB={};function qy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vB(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Mt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,R_(t),t.isCheckStableRunning=!0,qy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),R_(t))}function wB(t){let e=()=>{vB(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(bB(a))return n.invokeTask(r,s,o,a);try{return WT(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),QT(t)}},onInvoke:(n,i,r,s,o,a,c)=>{try{return WT(t),n.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),QT(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,R_(t),qy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function R_(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function WT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function QT(t){t._nesting--,qy(t)}var M_=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ne,this.onMicrotaskEmpty=new Ne,this.onStable=new Ne,this.onError=new Ne}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function bB(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function IB(t="zone.js",e){return t==="noop"?new M_:t==="zone.js"?new de(e):t}var sa=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(sa||{}),EB={destroy(){}};function xh(t,e){!e&&hy(xh);let n=e?.injector??N(Ue);if(!a2(n))return EB;wa("NgAfterNextRender");let i=n.get(Wy),r=i.handler??=new x_,s=e?.phase??sa.MixedReadWrite,o=()=>{r.unregister(c),a()},a=n.get(Qs).onDestroy(o),c=qn(n,()=>new N_(s,()=>{o(),t()}));return r.register(c),{destroy:o}}var N_=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=N(de),this.errorHandler=N(hi,{optional:!0}),N(Zd,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},x_=class{constructor(){this.executingCallbacks=!1,this.buckets={[sa.EarlyRead]:new Set,[sa.Write]:new Set,[sa.MixedReadWrite]:new Set,[sa.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Wy=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function eh(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=Wg(r,a);else if(s==2){let c=a,u=e[++o];i=Wg(i,c+": "+u+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var th=class extends va{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Gi(e);return new zs(n,this.ngModule)}};function KT(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function DB(t){let e=t.toLowerCase();return e==="svg"?$L:e==="math"?HL:null}var O_=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=fh(i);let r=this.injector.get(e,Bg,i);return r!==Bg||n===Bg?r:this.parentInjector.get(e,n,i)}},zs=class extends Xd{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=KT(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return KT(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=wL(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let s=Ie(null);try{r=r||this.ngModule;let o=r instanceof yt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new O_(e,o):e,c=a.get(el,null);if(c===null)throw new K(407,!1);let u=a.get(gB,null),d=a.get(Wy,null),p=a.get(Zd,null),m={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:p},_=c.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",O=i?C2(_,i,this.componentDef.encapsulation,a):Py(_,D,DB(D)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let k=null;O!==null&&(k=Ay(O,a,!0));let Q=jy(0,null,null,1,0,null,null,null,null,null,null),W=Ch(null,Q,null,R,null,null,m,_,a,null,k);Iy(W);let z,Te;try{let re=this.componentDef,I,y=null;re.findHostDirectiveDefs?(I=[],y=new Map,re.findHostDirectiveDefs(re,I,y),I.push(re)):I=[re];let w=TB(W,O),T=CB(w,O,re,I,W,m,_);Te=gy(Q,bt),O&&RB(_,re,O,i),n!==void 0&&MB(Te,this.ngContentSelectors,n),z=AB(T,re,I,y,W,[NB]),Gy(Q,W,null)}finally{Ey()}return new P_(this.componentType,z,_a(Te,W),W,Te)}finally{Ie(s)}}},P_=class extends S_{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Gs(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Hy(s[ue],s,r,e,n),this.previousInputValues.set(e,n);let o=jr(this._tNode.index,s);zy(o)}}get injector(){return new Fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function TB(t,e){let n=t[ue],i=bt;return t[i]=e,ya(n,i,2,"#host",null)}function CB(t,e,n,i,r,s,o){let a=r[ue];SB(i,t,e,o);let c=null;e!==null&&(c=Ay(e,r[ha]));let u=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let p=Ch(r,iS(n),null,d,r[t.index],t,s,u,null,null,c);return a.firstCreatePass&&D_(a,t,i.length-1),Ah(r,p),r[t.index]=p}function SB(t,e,n,i){for(let r of t)e.mergedAttrs=Gc(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(eh(e,e.mergedAttrs,!0),n!==null&&ZC(i,n,e))}function AB(t,e,n,i,r,s){let o=zt(),a=r[ue],c=On(o,r);rS(a,r,o,n,null,i);for(let d=0;d<n.length;d++){let p=o.directiveStart+d,m=Hs(r,a,p,o);Br(m,r)}sS(a,r,o),c&&Br(c,r);let u=Hs(r,a,o.directiveStart+o.componentOffset,o);if(t[Ht]=r[Ht]=u,s!==null)for(let d of s)d(u,e);return Vy(a,o,r),u}function RB(t,e,n,i){if(i)Jg(t,n,["ng-version","17.3.11"]);else{let{attrs:r,classes:s}=bL(e.selectors[0]);r&&Jg(t,n,r),s&&s.length>0&&JC(t,n,s.join(" "))}}function MB(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function NB(){let t=zt();wh(he()[ue],t)}var pi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xB;let t=e;return t})();function xB(){let t=zt();return wS(t,he())}var OB=pi,vS=class extends OB{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return _a(this._hostTNode,this._hostLView)}get injector(){return new Fs(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dy(this._hostTNode,this._hostLView);if(oC(e)){let n=Qd(e,this._hostLView),i=Wd(e),r=n[ue].data[i+8];return new Fs(r,n)}else return new Fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=YT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Gt}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=Xc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,Zc(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!LL(e),a;if(o)a=n;else{let D=n||{};a=D.index,i=D.injector,r=D.projectableNodes,s=D.environmentInjector||D.ngModuleRef}let c=o?e:new zs(Gi(e)),u=i||this.parentInjector;if(!s&&c.ngModule==null){let O=(o?u:this.parentInjector).get(yt,null);O&&(s=O)}let d=Gi(c.componentType??{}),p=Xc(this._lContainer,d?.id??null),m=p?.firstChild??null,_=c.create(u,r,m,s);return this.insertImpl(_.hostView,a,Zc(this._hostTNode,p)),_}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(QL(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[Nt],u=new vS(c,c[pn],c[Nt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Mh(o,r,s,i),e.attachToViewContainerRef(),y1(Ug(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=YT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Jc(this._lContainer,n);i&&(Gd(Ug(this._lContainer),n),Eh(i[ue],i))}detach(e){let n=this._adjustIndex(e,-1),i=Jc(this._lContainer,n);return i&&Gd(Ug(this._lContainer),n)!=null?new Gs(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function YT(t){return t[qd]}function Ug(t){return t[qd]||(t[qd]=[])}function wS(t,e){let n,i=e[t.index];return Yi(i)?n=i:(n=oS(i,e,null,t),e[t.index]=n,Ah(e,n)),kB(n,e,t,i),new vS(n,t,e)}function PB(t,e){let n=t[He],i=n.createComment(""),r=On(e,t),s=ky(n,r);return pa(n,s,i,y2(n,r),!1),i}var kB=VB,FB=()=>!1;function LB(t,e,n){return FB(t,e,n)}function VB(t,e,n,i){if(t[Bs])return;let r;n.type&8?r=zn(i):r=PB(e,n),t[Bs]=r}var k_=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},F_=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Qy(e,n).matches!==null&&this.queries[n].setDirty()}},nh=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=qB(e):this.predicate=e}},L_=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},V_=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,n,BB(n,s)),this.matchTNodeWithReadOption(e,n,Vd(n,e,s,!1,!1))}else i===xt?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Vd(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Xe||r===pi||r===xt&&n.type&4)this.addMatch(n.index,-2);else{let s=Vd(n,e,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function BB(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function UB(t,e){return t.type&11?_a(t,e):t.type&4?Nh(t,e):null}function jB(t,e,n,i){return n===-1?UB(e,t):n===-2?$B(t,e,i):Hs(t,t[ue],n,e)}function $B(t,e,n){if(n===Xe)return _a(e,t);if(n===xt)return Nh(e,t);if(n===pi)return wS(e,t)}function bS(t,e,n,i){let r=e[zi].queries[i];if(r.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let d=s[u];a.push(jB(e,d,o[c+1],n.metadata.read))}}r.matches=a}return r.matches}function B_(t,e,n,i){let r=t.queries.getByIndex(n),s=r.matches;if(s!==null){let o=bS(t,e,r,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)i.push(o[a/2]);else{let u=s[a+1],d=e[-c];for(let p=Gt;p<d.length;p++){let m=d[p];m[ol]===m[Nt]&&B_(m[ue],m,u,i)}if(d[fa]!==null){let p=d[fa];for(let m=0;m<p.length;m++){let _=p[m];B_(_[ue],_,u,i)}}}}}return i}function HB(t,e){return t[zi].queries[e].queryList}function IS(t,e,n){let i=new l_((n&4)===4);return R2(t,e,i,i.destroy),(e[zi]??=new F_).queries.push(new k_(i))-1}function GB(t,e,n){let i=Qe();return i.firstCreatePass&&(ES(i,new nh(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),IS(i,he(),e)}function zB(t,e,n,i){let r=Qe();if(r.firstCreatePass){let s=zt();ES(r,new nh(e,n,i),s.index),WB(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return IS(r,he(),n)}function qB(t){return t.split(",").map(e=>e.trim())}function ES(t,e,n){t.queries===null&&(t.queries=new L_),t.queries.track(new V_(e,n))}function WB(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function Qy(t,e){return t.queries.getByIndex(e)}function QB(t,e){let n=t[ue],i=Qy(n,e);return i.crossesNgTemplate?B_(n,t,e,[]):bS(n,t,i,e)}function KB(t){return typeof t=="function"&&t[og]!==void 0}function DS(t){return KB(t)&&typeof t.set=="function"}function YB(t){let e=[],n=new Map;function i(r){let s=n.get(r);if(!s){let o=t(r);n.set(r,s=o.then(eU))}return s}return ih.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(u=>{r.template=u}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let u=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((p,m)=>{a.push(""),o.push(i(p).then(_=>{a[u+m]=_,d.splice(d.indexOf(p),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(u=>{a.push(u),r.styleUrl=void 0}));let c=Promise.all(o).then(()=>tU(s));e.push(c)}),ZB(),Promise.all(e).then(()=>{})}var ih=new Map,JB=new Set;function ZB(){let t=ih;return ih=new Map,t}function XB(){return ih.size===0}function eU(t){return typeof t=="string"?t:t.text()}function tU(t){JB.delete(t)}function nU(t){return Object.getPrototypeOf(t.prototype).constructor}function tn(t){let e=nU(t.type),n=!0,i=[t];for(;e;){let r;if(qi(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=xd(t.inputs),o.inputTransforms=xd(t.inputTransforms),o.declaredInputs=xd(t.declaredInputs),o.outputs=xd(t.outputs);let a=r.hostBindings;a&&aU(t,a);let c=r.viewQuery,u=r.contentQueries;if(c&&sU(t,c),u&&oU(t,u),iU(t,r),LF(t.outputs,r.outputs),qi(r)&&r.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===tn&&(n=!1)}}e=Object.getPrototypeOf(e)}rU(i)}function iU(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function rU(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Gc(r.hostAttrs,n=Gc(n,r.hostAttrs))}}function xd(t){return t===ca?{}:t===Zt?[]:t}function sU(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function oU(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function aU(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function Ky(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var Ur=class{},tl=class{};var rh=class extends Ur{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new th(this);let r=R1(e);this._bootstrapComponents=LC(r.bootstrap),this._r3Injector=mC(e,n,[{provide:Ur,useValue:this},{provide:va,useValue:this.componentFactoryResolver},...i],Xt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},sh=class extends tl{constructor(e){super(),this.moduleType=e}create(e){return new rh(this.moduleType,e,[])}};function cU(t,e,n){return new rh(t,e,n)}var U_=class extends Ur{constructor(e){super(),this.componentFactoryResolver=new th(this),this.instance=null;let n=new zc([...e.providers,{provide:Ur,useValue:this},{provide:va,useValue:this.componentFactoryResolver}],e.parent||mh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Oh(t,e,n=null){return new U_({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ks=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ft(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TS(t){return uU(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function lU(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function uU(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Yy(t,e,n){return t[e]=n}function hn(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function CS(t,e,n,i){let r=hn(t,e,n);return hn(t,e+1,i)||r}function dU(t,e,n,i,r){let s=CS(t,e,n,i);return hn(t,e+2,r)||s}function hU(t){return(t.flags&32)===32}function fU(t,e,n,i,r,s,o,a,c){let u=e.consts,d=ya(e,t,4,o||null,Us(u,a));$y(e,n,d,Us(u,c)),wh(e,d);let p=d.tView=jy(2,d,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}function xe(t,e,n,i,r,s,o,a){let c=he(),u=Qe(),d=t+bt,p=u.firstCreatePass?fU(d,u,c,e,n,i,r,s,o):u.data[d];di(p,!1);let m=pU(u,c,p,t);cl()&&Dh(u,c,m,p),Br(m,c);let _=oS(m,c,m,p);return c[d]=_,Ah(c,_),LB(_,p,c),yh(p)&&By(u,c,p),o!=null&&Uy(c,p,a),xe}var pU=mU;function mU(t,e,n,i){return ll(!0),e[He].createComment("")}function rt(t,e,n,i){let r=he(),s=$r();if(hn(r,s,e)){let o=Qe(),a=al();G2(a,r,t,e,n,i)}return rt}function gU(t,e,n,i){return hn(t,$r(),n)?e+rl(n)+i:er}function Od(t,e){return t<<17|e<<2}function qs(t){return t>>17&32767}function _U(t){return(t&2)==2}function yU(t,e){return t&131071|e<<17}function j_(t){return t|2}function ma(t){return(t&131068)>>2}function jg(t,e){return t&-131069|e<<2}function vU(t){return(t&1)===1}function $_(t){return t|1}function wU(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=qs(o),c=ma(o);t[i]=n;let u=!1,d;if(Array.isArray(n)){let p=n;d=p[1],(d===null||sl(p,d)>0)&&(u=!0)}else d=n;if(r)if(c!==0){let m=qs(t[a+1]);t[i+1]=Od(m,a),m!==0&&(t[m+1]=jg(t[m+1],i)),t[a+1]=yU(t[a+1],i)}else t[i+1]=Od(a,0),a!==0&&(t[a+1]=jg(t[a+1],i)),a=i;else t[i+1]=Od(c,0),a===0?a=i:t[c+1]=jg(t[c+1],i),c=i;u&&(t[i+1]=j_(t[i+1])),JT(t,d,i,!0),JT(t,d,i,!1),bU(e,d,t,i,s),o=Od(a,c),s?e.classBindings=o:e.styleBindings=o}function bU(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&sl(s,e)>=0&&(n[i+1]=$_(n[i+1]))}function JT(t,e,n,i){let r=t[n+1],s=e===null,o=i?qs(r):ma(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];IU(c,e)&&(a=!0,t[o+1]=i?$_(u):j_(u)),o=i?qs(u):ma(u)}a&&(t[n+1]=i?j_(r):$_(r))}function IU(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?sl(t,e)>=0:!1}var $n={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function EU(t){return t.substring($n.key,$n.keyEnd)}function DU(t){return TU(t),SS(t,AS(t,0,$n.textEnd))}function SS(t,e){let n=$n.textEnd;return n===e?-1:(e=$n.keyEnd=CU(t,$n.key=e,n),AS(t,e,n))}function TU(t){$n.key=0,$n.keyEnd=0,$n.value=0,$n.valueEnd=0,$n.textEnd=t.length}function AS(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function CU(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Y(t,e,n){let i=he(),r=$r();if(hn(i,r,e)){let s=Qe(),o=al();Sh(s,o,i,t,e,i[He],n,!1)}return Y}function H_(t,e,n,i,r){let s=e.inputs,o=r?"class":"style";Hy(t,n,s[o],o,i)}function Gr(t,e,n){return RS(t,e,n,!1),Gr}function Ot(t,e){return RS(t,e,null,!0),Ot}function mn(t){AU(PU,SU,t,!0)}function SU(t,e){for(let n=DU(e);n>=0;n=SS(e,n))ly(t,EU(e),!0)}function RS(t,e,n,i){let r=he(),s=Qe(),o=K1(2);if(s.firstUpdatePass&&NS(s,t,o,i),e!==er&&hn(r,o,e)){let a=s.data[Hr()];xS(s,a,r,r[He],t,r[o+1]=FU(e,n),i,o)}}function AU(t,e,n,i){let r=Qe(),s=K1(2);r.firstUpdatePass&&NS(r,null,s,i);let o=he();if(n!==er&&hn(o,s,n)){let a=r.data[Hr()];if(OS(a,i)&&!MS(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Wg(c,n||"")),H_(r,a,o,n,i)}else kU(r,a,o,o[He],o[s+1],o[s+1]=OU(t,e,n),i,s)}}function MS(t,e){return e>=t.expandoStartIndex}function NS(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[Hr()],o=MS(t,n);OS(s,i)&&e===null&&!o&&(e=!1),e=RU(r,s,e,i),wU(r,s,e,n,o,i)}}function RU(t,e,n,i){let r=J1(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=$g(null,t,e,n,i),n=nl(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=$g(r,t,e,n,i),s===null){let c=MU(t,e,i);c!==void 0&&Array.isArray(c)&&(c=$g(null,t,e,c[1],i),c=nl(c,e.attrs,i),NU(t,e,i,c))}else s=xU(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function MU(t,e,n){let i=n?e.classBindings:e.styleBindings;if(ma(i)!==0)return t[qs(i)]}function NU(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[qs(r)]=i}function xU(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=nl(i,o,n)}return nl(i,e.attrs,n)}function $g(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=nl(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function nl(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ly(t,o,n?!0:e[++s]))}return t===void 0?null:t}function OU(t,e,n){if(n==null||n==="")return Zt;let i=[],r=Pn(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function PU(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&ly(t,i,n)}function kU(t,e,n,i,r,s,o,a){r===er&&(r=Zt);let c=0,u=0,d=0<r.length?r[0]:null,p=0<s.length?s[0]:null;for(;d!==null||p!==null;){let m=c<r.length?r[c+1]:void 0,_=u<s.length?s[u+1]:void 0,D=null,O;d===p?(c+=2,u+=2,m!==_&&(D=p,O=_)):p===null||d!==null&&d<p?(c+=2,D=d):(u+=2,D=p,O=_),D!==null&&xS(t,e,n,i,D,O,o,a),d=c<r.length?r[c]:null,p=u<s.length?s[u]:null}}function xS(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],d=vU(u)?ZT(c,e,n,r,ma(u),o):void 0;if(!oh(d)){oh(s)||_U(u)&&(s=ZT(c,null,n,r,a,o));let p=$1(Hr(),n);I2(i,o,p,r,s)}}function ZT(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let c=t[r],u=Array.isArray(c),d=u?c[1]:c,p=d===null,m=n[r+1];m===er&&(m=p?Zt:void 0);let _=p?Ng(m,i):d===i?m:void 0;if(u&&!oh(_)&&(_=Ng(c,i)),oh(_)&&(a=_,o))return a;let D=t[r+1];r=o?qs(D):ma(D)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Ng(c,i))}return a}function oh(t){return t!==void 0}function FU(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Xt(Pn(t)))),t}function OS(t,e){return(t.flags&(e?8:16))!==0}var G_=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(e,n){this.attach(n,this.detach(e))}};function Hg(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function LU(t,e,n){let i,r,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],d=Hg(s,c,s,u,n);if(d!==0){d<0&&t.updateValue(s,u),s++;continue}let p=t.at(o),m=e[a],_=Hg(o,p,a,m,n);if(_!==0){_<0&&t.updateValue(o,m),o--,a--;continue}let D=n(s,c),O=n(o,p),R=n(s,u);if(Object.is(R,O)){let k=n(a,m);Object.is(k,D)?(t.swap(s,o),t.updateValue(o,m),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(i??=new ah,r??=e1(t,s,o,n),z_(t,i,s,R))t.updateValue(s,u),s++,o++;else if(r.has(R))i.set(D,t.detach(s)),o--;else{let k=t.create(s,e[s]);t.attach(s,k),s++,o++}}for(;s<=a;)XT(t,i,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),d=c.value,p=Hg(s,u,s,d,n);if(p!==0)p<0&&t.updateValue(s,d),s++,c=a.next();else{i??=new ah,r??=e1(t,s,o,n);let m=n(s,d);if(z_(t,i,s,m))t.updateValue(s,d),s++,o++,c=a.next();else if(!r.has(m))t.attach(s,t.create(s,d)),s++,o++,c=a.next();else{let _=n(s,u);i.set(_,t.detach(s)),o--}}}for(;!c.done;)XT(t,i,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));i?.forEach(a=>{t.destroy(a)})}function z_(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function XT(t,e,n,i,r){if(z_(t,e,i,n(i,r)))t.updateValue(i,r);else{let s=t.create(i,r);t.attach(i,s)}}function e1(t,e,n,i){let r=new Set;for(let s=e;s<=n;s++)r.add(i(s,t.at(s)));return r}var ah=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};function Ys(t,e,n){wa("NgControlFlow");let i=he(),r=$r(),s=K_(i,bt+t),o=0;if(hn(i,r,e)){let a=Ie(null);try{if(hS(s,o),e!==-1){let c=Y_(i[ue],bt+e),u=Xc(s,c.tView.ssrId),d=Rh(i,c,n,{dehydratedView:u});Mh(s,d,o,Zc(c,u))}}finally{Ie(a)}}else{let a=dS(s,o);a!==void 0&&(a[Ht]=n)}}var q_=class{constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-Gt}};function Jy(t,e){return e}var W_=class{constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function Zy(t,e,n,i,r,s,o,a,c,u,d,p,m){wa("NgControlFlow");let _=c!==void 0,D=he(),O=a?o.bind(D[vn][Ht]):o,R=new W_(_,O);D[bt+t]=R,xe(t+1,e,n,i,r,s),_&&xe(t+2,c,u,d,p,m)}var Q_=class extends G_{constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Gt}at(e){return this.getLView(e)[Ht].$implicit}attach(e,n){let i=n[da];this.needsIndexUpdate||=e!==this.length,Mh(this.lContainer,n,e,Zc(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,VU(this.lContainer,e)}create(e,n){let i=Xc(this.lContainer,this.templateTNode.tView.ssrId);return Rh(this.hostLView,this.templateTNode,new q_(this.lContainer,n,e),{dehydratedView:i})}destroy(e){Eh(e[ue],e)}updateValue(e,n){this.getLView(e)[Ht].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ht].$index=e}getLView(e){return BU(this.lContainer,e)}};function Xy(t){let e=Ie(null),n=Hr();try{let i=he(),r=i[ue],s=i[n];if(s.liveCollection===void 0){let a=n+1,c=K_(i,a),u=Y_(r,a);s.liveCollection=new Q_(c,i,u)}else s.liveCollection.reset();let o=s.liveCollection;if(LU(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=$r(),c=o.length===0;if(hn(i,a,c)){let u=n+2,d=K_(i,u);if(c){let p=Y_(r,u),m=Xc(d,p.tView.ssrId),_=Rh(i,p,void 0,{dehydratedView:m});Mh(d,_,0,Zc(p,m))}else hS(d,0)}}}finally{Ie(e)}}function K_(t,e){return t[e]}function VU(t,e){return Jc(t,e)}function BU(t,e){return dS(t,e)}function Y_(t,e){return gy(t,e)}function UU(t,e,n,i,r,s){let o=e.consts,a=Us(o,r),c=ya(e,t,2,i,a);return $y(e,n,c,Us(o,s)),c.attrs!==null&&eh(c,c.attrs,!1),c.mergedAttrs!==null&&eh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function E(t,e,n,i){let r=he(),s=Qe(),o=bt+t,a=r[He],c=s.firstCreatePass?UU(o,s,r,e,n,i):s.data[o],u=jU(s,r,c,a,e,t);r[o]=u;let d=yh(c);return di(c,!0),ZC(a,u,c),!hU(c)&&cl()&&Dh(s,r,u,c),ZL()===0&&Br(u,r),XL(),d&&(By(s,r,c),Vy(s,c,r)),i!==null&&Uy(r,c),E}function A(){let t=zt();vy()?wy():(t=t.parent,di(t,!1));let e=t;tV(e)&&nV(),eV();let n=Qe();return n.firstCreatePass&&(wh(n,t),my(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&pV(e)&&H_(n,e,he(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&mV(e)&&H_(n,e,he(),e.stylesWithoutHost,!1),A}function te(t,e,n,i){return E(t,e,n,i),A(),te}var jU=(t,e,n,i,r,s)=>(ll(!0),Py(i,r,uV()));function $U(t,e,n,i,r){let s=e.consts,o=Us(s,i),a=ya(e,t,8,"ng-container",o);o!==null&&eh(a,o,!0);let c=Us(s,r);return $y(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Js(t,e,n){let i=he(),r=Qe(),s=t+bt,o=r.firstCreatePass?$U(s,r,i,e,n):r.data[s];di(o,!0);let a=HU(r,i,o,t);return i[s]=a,cl()&&Dh(r,i,a,o),Br(a,i),yh(o)&&(By(r,i,o),Vy(r,o,i)),n!=null&&Uy(i,o),Js}function Zs(){let t=zt(),e=Qe();return vy()?wy():(t=t.parent,di(t,!1)),e.firstCreatePass&&(wh(e,t),my(t)&&e.queries.elementEnd(t)),Zs}var HU=(t,e,n,i)=>(ll(!0),BC(e[He],""));function Pt(){return he()}function fl(t,e,n){let i=he(),r=$r();if(hn(i,r,e)){let s=Qe(),o=al();Sh(s,o,i,t,e,i[He],n,!0)}return fl}function ev(t,e,n){let i=he(),r=$r();if(hn(i,r,e)){let s=Qe(),o=al(),a=J1(s.data),c=Q2(a,o,i);Sh(s,o,i,t,e,c,n,!0)}return ev}var ch="en-US";var GU={marker:"element"},zU={marker:"ICU"},Hi=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(Hi||{}),qU=ch;function WU(t){typeof t=="string"&&(qU=t.toLowerCase().replace(/_/g,"-"))}function PS(t,e,n){let i=e.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return r===null?qC(t,e,n):zn(n[r])}function kS(t,e,n,i,r){let s=e.insertBeforeIndex;if(Array.isArray(s)){let o=i,a=null;if(e.type&3||(a=o,o=r),o!==null&&e.componentOffset===-1)for(let c=1;c<s.length;c++){let u=n[s[c]];pa(t,o,u,a,!1)}}}function FS(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){let i=t[n];LS(i)||QU(i,e)&&KU(i)===null&&YU(i,e.index)}}function LS(t){return!(t.type&64)}function QU(t,e){return LS(e)||t.index>e.index}function KU(t){let e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function YU(t,e){let n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(QC(PS,kS),t.insertBeforeIndex=e)}function JU(t,e,n){let i=t.data[e];i===null?t.data[e]=n:i.value=n}function ZU(t,e){let n=t.insertBeforeIndex;n===null?(QC(PS,kS),n=t.insertBeforeIndex=[null,e]):(BF(Array.isArray(n),!0,"Expecting array here"),n.push(e))}function XU(t,e,n){let i=Ly(t,n,64,null,null);return FS(e,i),i}function ej(t,e){let n=e[t.currentCaseLViewIndex];return n===null?n:n<0?~n:n}function tj(t,e,n){return t|e<<17|n<<1}function nj(t,e,n){let i=t[He];switch(n){case Node.COMMENT_NODE:return BC(i,e);case Node.TEXT_NODE:return VC(i,e);case Node.ELEMENT_NODE:return Py(i,e,null)}}var ij=(t,e,n,i)=>(ll(!0),nj(t,n,i));function rj(t,e,n,i){let r=t[He];for(let s=0;s<e.length;s++){let o=e[s++],a=e[s],c=(o&Hi.COMMENT)===Hi.COMMENT,u=(o&Hi.APPEND_EAGERLY)===Hi.APPEND_EAGERLY,d=o>>>Hi.SHIFT,p=t[d],m=!1;p===null&&(p=t[d]=ij(t,d,a,c?Node.COMMENT_NODE:Node.TEXT_NODE),m=cl()),u&&n!==null&&m&&pa(r,n,p,i,!1)}}function sj(){let t=[],e=-1,n,i;function r(a,c){for(n=c;t.length;)t.pop();return s(a.value,c),o}function s(a,c){e=0;let u=ej(a,c);u!==null?i=a.remove[u]:i=Zt}function o(){if(e<i.length){let a=i[e++];if(a>0)return n[a];{t.push(e,i);let c=~a,u=n[ue].data[c];return s(u,n),o()}}else return t.length===0?null:(i=t.pop(),e=t.pop(),o())}return r}var lh=/�(\d+):?\d*�/gi;var oj=/�(\d+)�/,VS=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,jc="\uFFFD",aj=/�\/?\*(\d+:\d+)�/gi,cj=/�(\/?[#*]\d+):?\d*�/gi,lj=/\uE500/g;function uj(t){return t.replace(lj," ")}function dj(t,e,n,i,r,s){let o=Yc(),a=[],c=[],u=[[]],d=[[]];r=pj(r,s);let p=uj(r).split(cj);for(let m=0;m<p.length;m++){let _=p[m];if(m&1){let D=_.charCodeAt(0)===47,O=_.charCodeAt(D?1:0),R=bt+Number.parseInt(_.substring(D?2:1));if(D)u.shift(),d.shift(),di(Yc(),!1);else{let k=XU(t,u[0],R);u.unshift([]),di(k,!0);let Q={kind:2,index:R,children:[],type:O===35?0:1};d[0].push(Q),d.unshift(Q.children)}}else{let D=J_(_);for(let O=0;O<D.length;O++){let R=D[O];if(O&1){let k=R;if(typeof k!="object")throw new Error(`Unable to parse ICU expression in "${r}" message.`);let W=BS(t,o,u[0],n,a,"",!0).index;jS(d[0],t,n,c,e,k,W)}else{let k=R;k!==""&&hj(d[0],t,o,u[0],a,c,n,k)}}}}t.data[i]={create:a,update:c,ast:d[0]}}function BS(t,e,n,i,r,s,o){let a=hl(t,i,1,null),c=a<<Hi.SHIFT,u=Yc();e===u&&(u=null),u===null&&(c|=Hi.APPEND_EAGERLY),o&&(c|=Hi.COMMENT,c2(sj)),r.push(c,s===null?"":s);let d=Ly(t,a,o?32:1,s===null?"":s,null);FS(n,d);let p=d.index;return di(d,!1),u!==null&&e!==u&&ZU(u,p),d}function hj(t,e,n,i,r,s,o,a){let c=a.match(lh),d=BS(e,n,i,o,r,c?null:a,!1).index;c&&Ud(s,a,d,null,0,null),t.push({kind:0,index:d})}function Ud(t,e,n,i,r,s){let o=t.length,a=o+1;t.push(null,null);let c=o+2,u=e.split(lh),d=0;for(let p=0;p<u.length;p++){let m=u[p];if(p&1){let _=r+parseInt(m,10);t.push(-1-_),d=d|US(_)}else m!==""&&t.push(m)}return t.push(n<<2|(i?1:0)),i&&t.push(i,s),t[o]=d,t[a]=t.length-c,d}function US(t){return 1<<Math.min(t,31)}function fj(t){return t===-1}function t1(t){let e,n="",i=0,r=!1,s;for(;(e=aj.exec(t))!==null;)r?e[0]===`${jc}/*${s}${jc}`&&(i=e.index,r=!1):(n+=t.substring(i,e.index+e[0].length),s=e[1],r=!0);return n+=t.slice(i),n}function pj(t,e){if(fj(e))return t1(t);{let n=t.indexOf(`:${e}${jc}`)+2+e.toString().length,i=t.search(new RegExp(`${jc}\\/\\*\\d+:${e}${jc}`));return t1(t.substring(n,i))}}function jS(t,e,n,i,r,s,o){let a=0,c={type:s.type,currentCaseLViewIndex:hl(e,n,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};yj(i,s,o),JU(e,o,c);let u=s.values,d=[];for(let p=0;p<u.length;p++){let m=u[p],_=[];for(let O=0;O<m.length;O++){let R=m[O];if(typeof R!="string"){let k=_.push(R)-1;m[O]=`<!--\uFFFD${k}\uFFFD-->`}}let D=[];d.push(D),a=gj(D,e,c,n,i,r,s.cases[p],m.join(""),_)|a}a&&vj(i,a,o),t.push({kind:3,index:o,cases:d,currentCaseLViewIndex:c.currentCaseLViewIndex})}function mj(t){let e=[],n=[],i=1,r=0;t=t.replace(VS,function(o,a,c){return c==="select"?i=0:i=1,r=parseInt(a.slice(1),10),""});let s=J_(t);for(let o=0;o<s.length;){let a=s[o++].trim();i===1&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);let c=J_(s[o++]);e.length>n.length&&n.push(c)}return{type:i,mainBinding:r,cases:e,values:n}}function J_(t){if(!t)return[];let e=0,n=[],i=[],r=/[{}]/g;r.lastIndex=0;let s;for(;s=r.exec(t);){let a=s.index;if(s[0]=="}"){if(n.pop(),n.length==0){let c=t.substring(e,a);VS.test(c)?i.push(mj(c)):i.push(c),e=a+1}}else{if(n.length==0){let c=t.substring(e,a);i.push(c),e=a+1}n.push("{")}}let o=t.substring(e);return i.push(o),i}function gj(t,e,n,i,r,s,o,a,c){let u=[],d=[],p=[];n.cases.push(o),n.create.push(u),n.remove.push(d),n.update.push(p);let _=MC(Ty()).getInertBodyElement(a),D=w_(_)||_;return D?$S(t,e,n,i,r,u,d,p,D,s,c,0):0}function $S(t,e,n,i,r,s,o,a,c,u,d,p){let m=0,_=c.firstChild;for(;_;){let D=hl(e,i,1,null);switch(_.nodeType){case Node.ELEMENT_NODE:let O=_,R=O.tagName.toLowerCase();if(y_.hasOwnProperty(R)){Gg(s,GU,R,u,D),e.data[D]=R;let z=O.attributes;for(let re=0;re<z.length;re++){let I=z.item(re),y=I.name.toLowerCase();!!I.value.match(lh)?PC.hasOwnProperty(y)&&(Ry[y]?Ud(a,I.value,D,I.name,0,ul):Ud(a,I.value,D,I.name,0,null)):wj(s,D,I)}let Te={kind:1,index:D,children:[]};t.push(Te),m=$S(Te.children,e,n,i,r,s,o,a,_,D,d,p+1)|m,n1(o,D,p)}break;case Node.TEXT_NODE:let k=_.textContent||"",Q=k.match(lh);Gg(s,null,Q?"":k,u,D),n1(o,D,p),Q&&(m=Ud(a,k,D,null,0,null)|m),t.push({kind:0,index:D});break;case Node.COMMENT_NODE:let W=oj.exec(_.textContent||"");if(W){let z=parseInt(W[1],10),Te=d[z];Gg(s,zU,"",u,D),jS(t,e,i,r,u,Te,D),_j(o,D,p)}break}_=_.nextSibling}return m}function n1(t,e,n){n===0&&t.push(e)}function _j(t,e,n){n===0&&(t.push(~e),t.push(e))}function yj(t,e,n){t.push(US(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}function vj(t,e,n){t.push(e,1,n<<2|3)}function Gg(t,e,n,i,r){e!==null&&t.push(e),t.push(n,r,tj(0,i,r))}function wj(t,e,n){t.push(e<<1|1,n.name,n.value)}function bj(t,e,n=-1){let i=Qe(),r=he(),s=bt+t,o=Us(i.consts,e),a=Yc();if(i.firstCreatePass&&dj(i,a===null?0:a.index,r,s,o,n),i.type===2){let m=r[vn];m[ae]|=32}else r[ae]|=32;let c=i.data[s],u=a===r[pn]?null:a,d=HC(i,u,r),p=a&&a.type&8?r[a.index]:null;rj(r,c.create,d,p),Y1(!0)}function Ij(){Y1(!1)}function pl(t,e,n){bj(t,e,n),Ij()}function ee(t,e,n,i){let r=he(),s=Qe(),o=zt();return HS(s,r,r[He],o,t,e,i),ee}function Ej(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[qc],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function HS(t,e,n,i,r,s,o){let a=yh(i),u=t.firstCreatePass&&lS(t),d=e[Ht],p=cS(e),m=!0;if(i.type&3||o){let O=On(i,e),R=o?o(O):O,k=p.length,Q=o?z=>o(zn(z[i.index])):i.index,W=null;if(!o&&a&&(W=Ej(t,e,r,i.index)),W!==null){let z=W.__ngLastListenerFn__||W;z.__ngNextListenerFn__=s,W.__ngLastListenerFn__=s,m=!1}else{s=r1(i,e,d,s,!1);let z=n.listen(R,r,s);p.push(s,z),u&&u.push(r,Q,k,k+1)}}else s=r1(i,e,d,s,!1);let _=i.outputs,D;if(m&&_!==null&&(D=_[r])){let O=D.length;if(O)for(let R=0;R<O;R+=2){let k=D[R],Q=D[R+1],Te=e[k][Q].subscribe(s),re=p.length;p.push(s,Te),u&&u.push(r,i.index,re,-(re+1))}}}function i1(t,e,n,i){let r=Ie(null);try{return ci(6,e,n),n(i)!==!1}catch(s){return uS(t,s),!1}finally{ci(7,e,n),Ie(r)}}function r1(t,e,n,i,r){return function s(o){if(o===Function)return i;let a=t.componentOffset>-1?jr(t.index,e):e;zy(a);let c=i1(e,n,i,o),u=s.__ngNextListenerFn__;for(;u;)c=i1(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return r&&c===!1&&o.preventDefault(),c}}function fe(t=1){return lV(t)}function Dj(t,e){let n=null,i=mL(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){n=r;continue}if(i===null?D1(t,s,!0):yL(i,s))return r}return n}function GS(t){let e=he()[vn][pn];if(!e.projection){let n=t?t.length:1,i=e.projection=oL(n,null),r=i.slice(),s=e.child;for(;s!==null;){let o=t?Dj(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function zS(t,e=0,n){let i=he(),r=Qe(),s=ya(r,bt+t,16,null,n||null);s.projection===null&&(s.projection=e),wy(),(!i[da]||W1())&&(s.flags&32)!==32&&w2(r,i,s)}function In(t,e,n,i){zB(t,e,n,i)}function tv(t,e,n){GB(t,e,n)}function nn(t){let e=he(),n=Qe(),i=Z1();by(i+1);let r=Qy(n,i);if(t.dirty&&WL(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=QB(e,i);t.reset(s,AV),t.notifyOnChanges()}return!0}return!1}function rn(){return HB(he(),Z1())}function Tj(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function Kn(t){let e=iV();return H1(e,bt+t)}function P(t,e=""){let n=he(),i=Qe(),r=t+bt,s=i.firstCreatePass?ya(i,r,1,e,null):i.data[r],o=Cj(i,n,s,e,t);n[r]=o,cl()&&Dh(i,n,o,s),di(s,!1)}var Cj=(t,e,n,i,r)=>(ll(!0),VC(e[He],i));function Ke(t){return ut("",t,""),Ke}function ut(t,e,n){let i=he(),r=gU(i,t,e,n);return r!==er&&K2(i,Hr(),r),ut}function Ph(t,e,n){DS(e)&&(e=e());let i=he(),r=$r();if(hn(i,r,e)){let s=Qe(),o=al();Sh(s,o,i,t,e,i[He],n,!1)}return Ph}function nv(t,e){let n=DS(t);return n&&t.set(e),n}function kh(t,e){let n=he(),i=Qe(),r=zt();return HS(i,n,n[He],r,t,e),kh}function Sj(t,e,n){let i=Qe();if(i.firstCreatePass){let r=qi(t);Z_(n,i.data,i.blueprint,r,!0),Z_(e,i.data,i.blueprint,r,!1)}}function Z_(t,e,n,i,r){if(t=Jt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Z_(t[s],e,n,i,r);else{let s=Qe(),o=he(),a=zt(),c=ua(t)?t:Jt(t.provide),u=k1(t),d=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ua(t)||!t.multi){let _=new $s(u,r,V),D=qg(c,e,r?d:d+m,p);D===-1?(s_(Yd(a,o),s,c),zg(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(_),o.push(_)):(n[D]=_,o[D]=_)}else{let _=qg(c,e,d+m,p),D=qg(c,e,d,d+m),O=_>=0&&n[_],R=D>=0&&n[D];if(r&&!R||!r&&!O){s_(Yd(a,o),s,c);let k=Mj(r?Rj:Aj,n.length,r,i,u);!r&&R&&(n[D].providerFactory=k),zg(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(k),o.push(k)}else{let k=qS(n[r?D:_],u,!r&&i);zg(s,t,_>-1?_:D,k)}!r&&i&&R&&n[D].componentProviders++}}}function zg(t,e,n,i){let r=ua(e),s=RL(e);if(r||s){let c=(s?Jt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[i,c]):u[d+1].push(i,c)}else u.push(n,c)}}}function qS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function qg(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function Aj(t,e,n,i){return X_(this.multi,[])}function Rj(t,e,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Hs(n,n[ue],this.providerFactory.index,i);s=a.slice(0,o),X_(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],X_(r,s);return s}function X_(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function Mj(t,e,n,i,r){let s=new $s(t,n,V);return s.multi=[],s.index=e,s.componentProviders=0,qS(s,r,i&&!n),s}function mi(t,e=[]){return n=>{n.providersResolver=(i,r)=>Sj(i,r?r(t):t,e)}}var Nj=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=x1(!1,i.type),s=r.length>0?Oh([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=$({token:e,providedIn:"environment",factory:()=>new e(H(yt))});let t=e;return t})();function gi(t){wa("NgStandalone"),t.getStandaloneInjector=e=>e.get(Nj).getOrCreateStandaloneInjector(t)}function Fh(t,e,n,i){return WS(he(),vh(),t,e,n,i)}function ba(t,e,n,i,r){return xj(he(),vh(),t,e,n,i,r)}function iv(t,e,n,i,r,s){return Oj(he(),vh(),t,e,n,i,r,s)}function rv(t,e){let n=t[e];return n===er?void 0:n}function WS(t,e,n,i,r,s){let o=e+n;return hn(t,o,r)?Yy(t,o+1,s?i.call(s,r):i(r)):rv(t,o+1)}function xj(t,e,n,i,r,s,o){let a=e+n;return CS(t,a,r,s)?Yy(t,a+2,o?i.call(o,r,s):i(r,s)):rv(t,a+2)}function Oj(t,e,n,i,r,s,o,a){let c=e+n;return dU(t,c,r,s,o)?Yy(t,c+3,a?i.call(a,r,s,o):i(r,s,o)):rv(t,c+3)}function Yn(t,e){let n=Qe(),i,r=t+bt;n.firstCreatePass?(i=Pj(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=Ls(i.type,!0)),o,a=dn(V);try{let c=Kd(!1),u=s();return Kd(c),Tj(n,he(),r,u),u}finally{dn(a)}}function Pj(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function Jn(t,e,n){let i=t+bt,r=he(),s=H1(r,i);return kj(r,i)?WS(r,vh(),e,s.transform,n,s):s.transform(n)}function kj(t,e){return t[ue].data[e].pure}function _i(t,e){return Nh(t,e)}var Pd=null;function Fj(t){Pd!==null&&(t.defaultEncapsulation!==Pd.defaultEncapsulation||t.preserveWhitespaces!==Pd.preserveWhitespaces)||(Pd=t)}var Ki=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},QS=new Ki("17.3.11"),Lh=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var sv=new G(""),ml=new G(""),Vh=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ov||(Lj(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i()},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(H(de),H(Bh),H(ml))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Bh=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return ov?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function Lj(t){ov=t}var ov;function zr(t){return!!t&&typeof t.then=="function"}function av(t){return!!t&&typeof t.subscribe=="function"}var Uh=new G(""),KS=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=N(Uh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(zr(o))i.push(o);else if(av(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jh=new G("");function Vj(){YD(()=>{throw new K(600,!1)})}function Bj(t){return t.isBoundToModule}function Uj(t,e,n){try{let i=n();return zr(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function YS(t,e){return Array.isArray(e)?e.reduce(YS,t):B(B({},t),e)}var En=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(gC),this.afterRenderEffectManager=N(Wy),this.externalTestViews=new Set,this.beforeRender=new Ae,this.afterTick=new Ae,this.componentTypes=[],this.components=[],this.isStable=N(Ks).hasPendingTasks.pipe(Z(i=>!i)),this._injector=N(yt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof Xd;if(!this._injector.get(KS).done){let _=!s&&A1(i),D=!1;throw new K(405,D)}let a;s?a=i:a=this._injector.get(va).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=Bj(a)?void 0:this._injector.get(Ur),u=r||a.selector,d=a.create(Ue.NULL,[],u,c),p=d.location.nativeElement,m=d.injector.get(sv,null);return m?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),jd(this.components,d),m?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new K(101,!1);let r=Ie(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,Ie(r)}}detectChangesInAttachedViews(i){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===pS)throw new K(103,!1);if(i){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)jj(a,o,c)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>ey(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>ey(o))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;jd(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(jh,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>jd(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new K(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jj(t,e,n){!e&&!ey(t)||$j(t,n,e)}function ey(t){return yy(t)}function $j(t,e,n){let i;n?(i=0,t[ae]|=1024):t[ae]&64?i=0:i=1,mS(t,e,i)}var ty=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},$h=(()=>{let e=class e{compileModuleSync(i){return new sh(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=R1(i),o=LC(s.declarations).reduce((a,c)=>{let u=Gi(c);return u&&a.push(new zs(u)),a},[]);return new ty(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hj=new G("");function Gj(t,e,n){let i=new sh(n);return Promise.resolve(i)}function s1(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var zj=(()=>{let e=class e{constructor(){this.zone=N(de),this.applicationRef=N(En)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qj(t){return[{provide:de,useFactory:t},{provide:la,multi:!0,useFactory:()=>{let e=N(zj,{optional:!0});return()=>e.initialize()}},{provide:la,multi:!0,useFactory:()=>{let e=N(Kj);return()=>{e.initialize()}}},{provide:gC,useFactory:Wj}]}function Wj(){let t=N(de),e=N(hi);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Qj(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Kj=(()=>{let e=class e{constructor(){this.subscription=new ct,this.initialized=!1,this.zone=N(de),this.pendingTasks=N(Ks)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{de.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yj(){return typeof $localize<"u"&&$localize.locale||ch}var Hh=new G("",{providedIn:"root",factory:()=>N(Hh,we.Optional|we.SkipSelf)||Yj()});var JS=new G(""),ZS=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let s=IB(r?.ngZone,Qj({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=cU(i.moduleType,this.injector,qj(()=>s)),a=o.injector.get(hi,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{jd(this._modules,o),c.unsubscribe()})}),Uj(a,s,()=>{let c=o.injector.get(KS);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(Hh,ch);return WU(u||ch),this._moduleDoBootstrap(o),o})})})}bootstrapModule(i,r=[]){let s=YS({},r);return Gj(this.injector,s,i).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(i){let r=i.injector.get(En);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new K(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(JS,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(H(Ue))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),$c=null,XS=new G("");function Jj(t){if($c&&!$c.get(XS,!1))throw new K(400,!1);Vj(),$c=t;let e=t.get(ZS);return e$(t),e}function cv(t,e,n=[]){let i=`Platform: ${e}`,r=new G(i);return(s=[])=>{let o=eA();if(!o||o.injector.get(XS,!1)){let a=[...n,...s,{provide:r,useValue:!0}];t?t(a):Jj(Zj(a,i))}return Xj(r)}}function Zj(t=[],e){return Ue.create({name:e,providers:[{provide:ph,useValue:"platform"},{provide:JS,useValue:new Set([()=>$c=null])},...t]})}function Xj(t){let e=eA();if(!e)throw new K(401,!1);return e}function eA(){return $c?.get(ZS)??null}function e$(t){t.get(Cy,null)?.forEach(n=>n())}var Dn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=t$;let t=e;return t})();function t$(t){return n$(zt(),he(),(t&16)===16)}function n$(t,e,n){if(_h(t)&&!n){let i=jr(t.index,e);return new Gs(i,i)}else if(t.type&47){let i=e[vn];return new Gs(i,e)}return null}var ny=class{constructor(){}supports(e){return TS(e)}create(e){return new iy(e)}},i$=(t,e)=>e,iy=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||i$}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<o1(i,r,s)?n:i,a=o1(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,d=c-r;if(u!=d){for(let m=0;m<u;m++){let _=m<s.length?s[m]:s[m]=0,D=_+m;d<=D&&D<u&&(s[m]=_+1)}let p=o.previousIndex;s[p]=d-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!TS(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,lU(e,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new ry(n,i),s,r)),e}_verifyReinsertion(e,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new uh),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new uh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ry=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},sy=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},uh=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new sy,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function o1(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function a1(){return new lv([new ny])}var lv=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||a1()),deps:[[e,new ay,new lt]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new K(901,!1)}};e.\u0275prov=$({token:e,providedIn:"root",factory:a1});let t=e;return t})();var tA=cv(null,"core",[]),nA=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(H(En))},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function qr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Gh(t){let e=Ie(null);try{return t()}finally{Ie(e)}}function zh(t,e){let n=Gi(t),i=e.elementInjector||mh();return new zs(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function iA(t){let e=Gi(t);if(!e)return null;let n=new zs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var lA=null;function yi(){return lA}function uA(t){lA??=t}var qh=class{};var We=new G(""),_v=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>N(r$),providedIn:"platform"});let t=e;return t})(),dA=new G(""),r$=(()=>{let e=class e extends _v{constructor(){super(),this._doc=N(We),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yi().getBaseHref(this._doc)}onPopState(i){let r=yi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=yi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function yv(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function rA(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function tr(t){return t&&t[0]!=="?"?"?"+t:t}var nr=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>N(vv),providedIn:"root"});let t=e;return t})(),hA=new G(""),vv=(()=>{let e=class e extends nr{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(We).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return yv(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+tr(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+tr(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+tr(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(H(_v),H(hA,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fA=(()=>{let e=class e extends nr{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=yv(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+tr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+tr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(H(_v),H(hA,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Wr=(()=>{let e=class e{constructor(i){this._subject=new Ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=a$(rA(sA(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+tr(r))}normalize(i){return e.stripTrailingSlash(o$(this._basePath,sA(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+tr(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+tr(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=tr,e.joinWithSlash=yv,e.stripTrailingSlash=rA,e.\u0275fac=function(r){return new(r||e)(H(nr))},e.\u0275prov=$({token:e,factory:()=>s$(),providedIn:"root"});let t=e;return t})();function s$(){return new Wr(H(nr))}function o$(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function sA(t){return t.replace(/\/index.html$/,"")}function a$(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Wh(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var uv=/\s+/,oA=[],pA=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=oA,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(uv):oA}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(uv):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(uv).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(V(Xe),V(Qn))},e.\u0275dir=me({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ze.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var dv=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Qr=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new dv(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,a),aA(c,s)}});for(let s=0,o=r.length;s<o;s++){let c=r.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);aA(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(V(pi),V(xt),V(lv))},e.\u0275dir=me({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function aA(t,e){t.context.$implicit=e.item}var gl=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new hv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){cA("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){cA("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(V(pi),V(xt))},e.\u0275dir=me({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),hv=class{constructor(){this.$implicit=null,this.ngIf=null}};function cA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Xt(e)}'.`)}var wv=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(V(pi))},e.\u0275dir=me({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[en]});let t=e;return t})();function c$(t,e){return new K(2100,!1)}var fv=class{createSubscription(e,n){return Gh(()=>e.subscribe({next:n,error:i=>{throw i}}))}dispose(e){Gh(()=>e.unsubscribe())}},pv=class{createSubscription(e,n){return e.then(n,i=>{throw i})}dispose(e){}},l$=new pv,u$=new fv,Ea=(()=>{let e=class e{constructor(i){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){if(!this._obj){if(i)try{this.markForCheckOnValueUpdate=!1,this._subscribe(i)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if(zr(i))return l$;if(av(i))return u$;throw c$(e,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(V(Dn,16))},e.\u0275pipe=T1({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Qh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})(),bv="browser",d$="server";function mA(t){return t===bv}function Kh(t){return t===d$}var gA=(()=>{let e=class e{};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>mA(N(wn))?new mv(N(We),window):new gv});let t=e;return t})(),mv=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=h$(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function h$(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var gv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ia=class{};var yl=class{},Jh=class{},eo=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Ev=class{encodeKey(e){return _A(e)}encodeValue(e){return _A(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function m$(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var g$=/%(\d[a-f0-9])/gi,_$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _A(t){return encodeURIComponent(t).replace(g$,(e,n)=>_$[n]??e)}function Yh(t){return`${t}`}var Kr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ev,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=m$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(Yh):[Yh(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Yh(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Yh(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Dv=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function y$(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function yA(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function vA(t){return typeof Blob<"u"&&t instanceof Blob}function wA(t){return typeof FormData<"u"&&t instanceof FormData}function v$(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var _l=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(y$(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new eo,this.context??=new Dv,!this.params)this.params=new Kr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||yA(this.body)||vA(this.body)||wA(this.body)||v$(this.body)?this.body:this.body instanceof Kr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||wA(this.body)?null:vA(this.body)?this.body.type||null:yA(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Kr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((m,_)=>m.set(_,e.setHeaders[_]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((m,_)=>m.set(_,e.setParams[_]),d)),new t(n,i,o,{params:d,headers:u,context:p,reportProgress:c,responseType:r,withCredentials:a,transferCache:s})}},Da=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Da||{}),vl=class{constructor(e,n=ef.Ok,i="OK"){this.headers=e.headers||new eo,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Tv=class t extends vl{constructor(e={}){super(e),this.type=Da.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Zh=class t extends vl{constructor(e={}){super(e),this.type=Da.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Xh=class extends vl{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},ef=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(ef||{});function Iv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Cv=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof _l)o=i;else{let u;s.headers instanceof eo?u=s.headers:u=new eo(s.headers);let d;s.params&&(s.params instanceof Kr?d=s.params:d=new Kr({fromObject:s.params})),o=new _l(i,r,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=X(o).pipe(ji(u=>this.handler.handle(u)));if(i instanceof _l||s.observe==="events")return a;let c=a.pipe(nt(u=>u instanceof Zh));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Z(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(Z(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(Z(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(Z(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Kr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,Iv(s,r))}post(i,r,s={}){return this.request("POST",i,Iv(s,r))}put(i,r,s={}){return this.request("PUT",i,Iv(s,r))}};e.\u0275fac=function(r){return new(r||e)(H(yl))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function DA(t,e){return e(t)}function w$(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}function b$(t,e,n){return(i,r)=>qn(n,()=>e(i,s=>t(s,r)))}var I$=new G(""),Sv=new G(""),E$=new G(""),D$=new G("");function T$(){let t=null;return(e,n)=>{t===null&&(t=(N(I$,{optional:!0})??[]).reduceRight(w$,DA));let i=N(Ks),r=i.add();return t(e,n).pipe($i(()=>i.remove(r)))}}var bA=(()=>{let e=class e extends yl{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=N(Ks);let s=N(D$,{optional:!0});this.backend=s??i}handle(i){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Sv),...this.injector.get(E$,[])]));this.chain=s.reduceRight((o,a)=>b$(o,a,this.injector),DA)}let r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe($i(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(H(Jh),H(yt))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();var C$=/^\)\]\}',?\n/;function S$(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var IA=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new K(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Be(r.\u0275loadImpl()):X(null)).pipe($t(()=>new ne(o=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((R,k)=>a.setRequestHeader(R,k.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let R=i.detectContentTypeHeader();R!==null&&a.setRequestHeader("Content-Type",R)}if(i.responseType){let R=i.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let c=i.serializeBody(),u=null,d=()=>{if(u!==null)return u;let R=a.statusText||"OK",k=new eo(a.getAllResponseHeaders()),Q=S$(a)||i.url;return u=new Tv({headers:k,status:a.status,statusText:R,url:Q}),u},p=()=>{let{headers:R,status:k,statusText:Q,url:W}=d(),z=null;k!==ef.NoContent&&(z=typeof a.response>"u"?a.responseText:a.response),k===0&&(k=z?ef.Ok:0);let Te=k>=200&&k<300;if(i.responseType==="json"&&typeof z=="string"){let re=z;z=z.replace(C$,"");try{z=z!==""?JSON.parse(z):null}catch(I){z=re,Te&&(Te=!1,z={error:I,text:z})}}Te?(o.next(new Zh({body:z,headers:R,status:k,statusText:Q,url:W||void 0})),o.complete()):o.error(new Xh({error:z,headers:R,status:k,statusText:Q,url:W||void 0}))},m=R=>{let{url:k}=d(),Q=new Xh({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:k||void 0});o.error(Q)},_=!1,D=R=>{_||(o.next(d()),_=!0);let k={type:Da.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(k.total=R.total),i.responseType==="text"&&a.responseText&&(k.partialText=a.responseText),o.next(k)},O=R=>{let k={type:Da.UploadProgress,loaded:R.loaded};R.lengthComputable&&(k.total=R.total),o.next(k)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),i.reportProgress&&(a.addEventListener("progress",D),c!==null&&a.upload&&a.upload.addEventListener("progress",O)),a.send(c),o.next({type:Da.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),i.reportProgress&&(a.removeEventListener("progress",D),c!==null&&a.upload&&a.upload.removeEventListener("progress",O)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(H(Ia))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),TA=new G(""),A$="XSRF-TOKEN",R$=new G("",{providedIn:"root",factory:()=>A$}),M$="X-XSRF-TOKEN",N$=new G("",{providedIn:"root",factory:()=>M$}),tf=class{},x$=(()=>{let e=class e{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wh(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(H(We),H(wn),H(R$))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function O$(t,e){let n=t.url.toLowerCase();if(!N(TA)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=N(tf).getToken(),r=N(N$);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var CA=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(CA||{});function P$(t,e){return{\u0275kind:t,\u0275providers:e}}function k$(...t){let e=[Cv,IA,bA,{provide:yl,useExisting:bA},{provide:Jh,useExisting:IA},{provide:Sv,useValue:O$,multi:!0},{provide:TA,useValue:!0},{provide:tf,useClass:x$}];for(let n of t)e.push(...n.\u0275providers);return fn(e)}var EA=new G("");function F$(){return P$(CA.LegacyInterceptors,[{provide:EA,useFactory:T$},{provide:Sv,useExisting:EA,multi:!0}])}var $te=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({providers:[k$(F$())]});let t=e;return t})();var Mv=class extends qh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Nv=class t extends Mv{static makeCurrent(){uA(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=V$();return n==null?null:B$(n)}resetBaseElement(){wl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wh(document.cookie,e)}},wl=null;function V$(){return wl=wl||document.querySelector("base"),wl?wl.getAttribute("href"):null}function B$(t){return new URL(t,document.baseURI).pathname}var xv=class{addToWindow(e){Mt.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new K(5103,!1);return s},Mt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Mt.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=Mt.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};Mt.frameworkStabilizers||(Mt.frameworkStabilizers=[]),Mt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?yi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},U$=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Ov=new G(""),MA=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(H(Ov),H(de))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),nf=class{constructor(e){this._doc=e}},Av="ng-app-id",NA=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Kh(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Av}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(Av),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Av,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(H(We),H(bh),H(Sy,8),H(wn))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Rv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kv=/%COMP%/g,xA="%COMP%",j$=`_nghost-${xA}`,$$=`_ngcontent-${xA}`,H$=!0,G$=new G("",{providedIn:"root",factory:()=>H$});function z$(t){return $$.replace(kv,t)}function q$(t){return j$.replace(kv,t)}function OA(t,e){return e.map(n=>n.replace(kv,t))}var SA=(()=>{let e=class e{constructor(i,r,s,o,a,c,u,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Kh(c),this.defaultRenderer=new bl(i,a,u,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ui.ShadowDom&&(r=be(B({},r),{encapsulation:ui.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof rf?s.applyToHost(i):s instanceof Il&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case ui.Emulated:o=new rf(u,d,r,this.appId,p,a,c,m);break;case ui.ShadowDom:return new Pv(u,d,i,r,a,c,this.nonce,m);default:o=new Il(u,d,r,p,a,c,m);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(H(MA),H(NA),H(bh),H(G$),H(We),H(wn),H(de),H(Sy))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),bl=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Rv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(AA(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(AA(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new K(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=Rv[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=Rv[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Qi.DashCase|Qi.Important)?e.style.setProperty(n,i,r&Qi.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Qi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=yi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function AA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Pv=class extends bl{constructor(e,n,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=OA(r.id,r.styles);for(let d of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Il=class extends bl{constructor(e,n,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?OA(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rf=class extends Il{constructor(e,n,i,r,s,o,a,c){let u=r+"-"+i.id;super(e,n,i,s,o,a,c,u),this.contentAttr=z$(u),this.hostAttr=q$(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},W$=(()=>{let e=class e extends nf{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(H(We))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),RA=["alt","control","meta","shift"],Q$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},K$={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Y$=(()=>{let e=class e extends nf{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yi().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),RA.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(i,r){let s=Q$[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),RA.forEach(a=>{if(a!==s){let c=K$[a];c(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(H(We))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function J$(){Nv.makeCurrent()}function Z$(){return new hi}function X$(){return IC(document),document}var e3=[{provide:wn,useValue:bv},{provide:Cy,useValue:J$,multi:!0},{provide:We,useFactory:X$,deps:[]}],ene=cv(tA,"browser",e3),t3=new G(""),n3=[{provide:ml,useClass:xv,deps:[]},{provide:sv,useClass:Vh,deps:[de,Bh,ml]},{provide:Vh,useClass:Vh,deps:[de,Bh,ml]}],i3=[{provide:ph,useValue:"root"},{provide:hi,useFactory:Z$,deps:[]},{provide:Ov,useClass:W$,multi:!0,deps:[We,de,wn]},{provide:Ov,useClass:Y$,multi:!0,deps:[We]},SA,NA,MA,{provide:el,useExisting:SA},{provide:Ia,useClass:U$,deps:[]},[]],tne=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:bh,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(H(t3,12))},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({providers:[...i3,...n3],imports:[Qh,nA]});let t=e;return t})();var PA=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(H(We))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Fv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=H(r3),s},providedIn:"root"});let t=e;return t})(),r3=(()=>{let e=class e extends Fv{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case bn.NONE:return r;case bn.HTML:return Ji(r,"HTML")?Pn(r):My(this._doc,String(r)).toString();case bn.STYLE:return Ji(r,"Style")?Pn(r):r;case bn.SCRIPT:if(Ji(r,"Script"))return Pn(r);throw new K(5200,!1);case bn.URL:return Ji(r,"URL")?Pn(r):ul(String(r));case bn.RESOURCE_URL:if(Ji(r,"ResourceURL"))return Pn(r);throw new K(5201,!1);default:throw new K(5202,!1)}}bypassSecurityTrustHtml(i){return TC(i)}bypassSecurityTrustStyle(i){return CC(i)}bypassSecurityTrustScript(i){return SC(i)}bypassSecurityTrustUrl(i){return AC(i)}bypassSecurityTrustResourceUrl(i){return RC(i)}};e.\u0275fac=function(r){return new(r||e)(H(We))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _e="primary",Ll=Symbol("RouteTitle"),jv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ra(t){return new jv(t)}function s3(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function o3(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!vi(t[n],e[n]))return!1;return!0}function vi(t,e){let n=t?$v(t):void 0,i=e?$v(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!zA(t[r],e[r]))return!1;return!0}function $v(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function zA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function qA(t){return t.length>0?t[t.length-1]:null}function Xr(t){return Ig(t)?t:zr(t)?Be(Promise.resolve(t)):X(t)}var a3={exact:QA,subset:KA},WA={exact:c3,subset:l3,ignored:()=>!0};function FA(t,e,n){return a3[n.paths](t.root,e.root,n.matrixParams)&&WA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function c3(t,e){return vi(t,e)}function QA(t,e,n){if(!no(t.segments,e.segments)||!af(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!QA(t.children[i],e.children[i],n))return!1;return!0}function l3(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>zA(t[n],e[n]))}function KA(t,e,n){return YA(t,e,e.segments,n)}function YA(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!no(r,n)||e.hasChildren()||!af(r,n,i))}else if(t.segments.length===n.length){if(!no(t.segments,n)||!af(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!KA(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!no(t.segments,r)||!af(t.segments,r,i)||!t.children[_e]?!1:YA(t.children[_e],e,s,i)}}function af(t,e,n){return e.every((i,r)=>WA[n](t[r].parameters,i.parameters))}var Yr=class{constructor(e=new Le([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ra(this.queryParams),this._queryParamMap}toString(){return h3.serialize(this)}},Le=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cf(this)}},to=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ra(this.parameters),this._parameterMap}toString(){return ZA(this)}};function u3(t,e){return no(t,e)&&t.every((n,i)=>vi(n.parameters,e[i].parameters))}function no(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function d3(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===_e&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==_e&&(n=n.concat(e(r,i)))}),n}var Vl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>new Rl,providedIn:"root"});let t=e;return t})(),Rl=class{parse(e){let n=new Gv(e);return new Yr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${El(e.root,!0)}`,i=m3(e.queryParams),r=typeof e.fragment=="string"?`#${f3(e.fragment)}`:"";return`${n}${i}${r}`}},h3=new Rl;function cf(t){return t.segments.map(e=>ZA(e)).join("/")}function El(t,e){if(!t.hasChildren())return cf(t);if(e){let n=t.children[_e]?El(t.children[_e],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==_e&&i.push(`${r}:${El(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=d3(t,(i,r)=>r===_e?[El(t.children[_e],!1)]:[`${r}:${El(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[_e]!=null?`${cf(t)}/${n[0]}`:`${cf(t)}/(${n.join("//")})`}}function JA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sf(t){return JA(t).replace(/%3B/gi,";")}function f3(t){return encodeURI(t)}function Hv(t){return JA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lf(t){return decodeURIComponent(t)}function LA(t){return lf(t.replace(/\+/g,"%20"))}function ZA(t){return`${Hv(t.path)}${p3(t.parameters)}`}function p3(t){return Object.entries(t).map(([e,n])=>`;${Hv(e)}=${Hv(n)}`).join("")}function m3(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${sf(n)}=${sf(r)}`).join("&"):`${sf(n)}=${sf(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var g3=/^[^\/()?;#]+/;function Lv(t){let e=t.match(g3);return e?e[0]:""}var _3=/^[^\/()?;=#]+/;function y3(t){let e=t.match(_3);return e?e[0]:""}var v3=/^[^=?&#]+/;function w3(t){let e=t.match(v3);return e?e[0]:""}var b3=/^[^&#]+/;function I3(t){let e=t.match(b3);return e?e[0]:""}var Gv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[_e]=new Le(e,n)),i}parseSegment(){let e=Lv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new to(lf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=y3(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Lv(this.remaining);r&&(i=r,this.capture(i))}e[lf(n)]=lf(i)}parseQueryParam(e){let n=w3(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=I3(this.remaining);o&&(i=o,this.capture(i))}let r=LA(n),s=LA(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Lv(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new K(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=_e);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[_e]:new Le([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function XA(t){return t.segments.length>0?new Le([],{[_e]:t}):t}function eR(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=eR(r);if(i===_e&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new Le(t.segments,e);return E3(n)}function E3(t){if(t.numberOfChildren===1&&t.children[_e]){let e=t.children[_e];return new Le(t.segments.concat(e.segments),e.children)}return t}function Ma(t){return t instanceof Yr}function D3(t,e,n=null,i=null){let r=tR(t);return nR(r,e,n,i)}function tR(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new Le(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=XA(i);return e??r}function nR(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Vv(r,r,r,n,i);let s=T3(e);if(s.toRoot())return Vv(r,r,new Le([],{}),n,i);let o=C3(s,r,t),a=o.processChildren?Cl(o.segmentGroup,o.index,s.commands):rR(o.segmentGroup,o.index,s.commands);return Vv(r,o.segmentGroup,a,n,i)}function uf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ml(t){return typeof t=="object"&&t!=null&&t.outlets}function Vv(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=iR(t,e,n);let a=XA(eR(o));return new Yr(a,s,r)}function iR(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=iR(s,e,n)}),new Le(t.segments,i)}var df=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&uf(i[0]))throw new K(4003,!1);let r=i.find(Ml);if(r&&r!==qA(i))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function T3(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new df(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new df(n,e,i)}var Sa=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function C3(t,e,n){if(t.isAbsolute)return new Sa(e,!0,0);if(!n)return new Sa(e,!1,NaN);if(n.parent===null)return new Sa(n,!0,0);let i=uf(t.commands[0])?0:1,r=n.segments.length-1+i;return S3(n,r,t.numberOfDoubleDots)}function S3(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new K(4005,!1);r=i.segments.length}return new Sa(i,!1,r-s)}function A3(t){return Ml(t[0])?t[0].outlets:{[_e]:t}}function rR(t,e,n){if(t??=new Le([],{}),t.segments.length===0&&t.hasChildren())return Cl(t,e,n);let i=R3(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new Le(t.segments.slice(0,i.pathIndex),{});return s.children[_e]=new Le(t.segments.slice(i.pathIndex),t.children),Cl(s,0,r)}else return i.match&&r.length===0?new Le(t.segments,{}):i.match&&!t.hasChildren()?zv(t,e,n):i.match?Cl(t,0,r):zv(t,e,n)}function Cl(t,e,n){if(n.length===0)return new Le(t.segments,{});{let i=A3(n),r={};if(Object.keys(i).some(s=>s!==_e)&&t.children[_e]&&t.numberOfChildren===1&&t.children[_e].segments.length===0){let s=Cl(t.children[_e],e,n);return new Le(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=rR(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Le(t.segments,r)}}function R3(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(Ml(a))break;let c=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!BA(c,u,o))return s;i+=2}else{if(!BA(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function zv(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(Ml(s)){let c=M3(s.outlets);return new Le(i,c)}if(r===0&&uf(n[0])){let c=t.segments[e];i.push(new to(c.path,VA(n[0]))),r++;continue}let o=Ml(s)?s.outlets[_e]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&uf(a)?(i.push(new to(o,VA(a))),r+=2):(i.push(new to(o,{})),r++)}return new Le(i,{})}function M3(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=zv(new Le([],{}),0,i))}),e}function VA(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function BA(t,e,n){return t==n.path&&vi(e,n.parameters)}var Sl="imperative",Dt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Dt||{}),kn=class{constructor(e,n){this.id=e,this.url=n}},Na=class extends kn{constructor(e,n,i="imperative",r=null){super(e,n),this.type=Dt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zn=class extends kn{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=Dt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Cn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Cn||{}),hf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(hf||{}),Jr=class extends kn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Dt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zr=class extends kn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=Dt.NavigationSkipped}},Nl=class extends kn{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=Dt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ff=class extends kn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Dt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qv=class extends kn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Dt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wv=class extends kn{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Dt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Qv=class extends kn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Dt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kv=class extends kn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=Dt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yv=class{constructor(e){this.route=e,this.type=Dt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Jv=class{constructor(e){this.route=e,this.type=Dt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Zv=class{constructor(e){this.snapshot=e,this.type=Dt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xv=class{constructor(e){this.snapshot=e,this.type=Dt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},e0=class{constructor(e){this.snapshot=e,this.type=Dt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},t0=class{constructor(e){this.snapshot=e,this.type=Dt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pf=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=Dt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},xl=class{},Ol=class{constructor(e){this.url=e}};var n0=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Bl,this.attachRef=null}},Bl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new n0,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=i0(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=i0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=r0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return r0(e,this._root).map(n=>n.value)}};function i0(t,e){if(t===e.value)return e;for(let n of e.children){let i=i0(t,n);if(i)return i}return null}function r0(t,e){if(t===e.value)return[e];for(let n of e.children){let i=r0(t,n);if(i.length)return i.unshift(e),i}return[]}var Tn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ca(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gf=class extends mf{constructor(e,n){super(e),this.snapshot=n,p0(this,e)}toString(){return this.snapshot.toString()}};function sR(t){let e=N3(t),n=new ft([new to("",{})]),i=new ft({}),r=new ft({}),s=new ft({}),o=new ft(""),a=new Xn(n,i,s,o,r,_e,t,e.root);return a.snapshot=e.root,new gf(new Tn(a,[]),e)}function N3(t){let e={},n={},i={},r="",s=new Pl([],e,i,r,n,_e,t,null,{});return new _f("",new Tn(s,[]))}var Xn=class{constructor(e,n,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Z(u=>u[Ll]))??X(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>Ra(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>Ra(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function f0(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:B(B({},e.params),t.params),data:B(B({},e.data),t.data),resolve:B(B(B(B({},t.data),e.data),r?.data),t._resolvedData)}:i={params:B({},t.params),data:B({},t.data),resolve:B(B({},t.data),t._resolvedData??{})},r&&aR(r)&&(i.resolve[Ll]=r.title),i}var Pl=class{get title(){return this.data?.[Ll]}constructor(e,n,i,r,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ra(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ra(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},_f=class extends mf{constructor(e,n){super(n),this.url=e,p0(this,n)}toString(){return oR(this._root)}};function p0(t,e){e.value._routerState=t,e.children.forEach(n=>p0(t,n))}function oR(t){let e=t.children.length>0?` { ${t.children.map(oR).join(", ")} } `:"";return`${t.value}${e}`}function Bv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,vi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),vi(e.params,n.params)||t.paramsSubject.next(n.params),o3(e.url,n.url)||t.urlSubject.next(n.url),vi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function s0(t,e){let n=vi(t.params,e.params)&&u3(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||s0(t.parent,e.parent))}function aR(t){return typeof t.title=="string"||t.title===null}var x3=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=_e,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.parentContexts=N(Bl),this.location=N(pi),this.changeDetector=N(Dn),this.environmentInjector=N(yt),this.inputBinder=N(If,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new o0(i,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=me({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[en]});let t=e;return t})(),o0=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Xn?this.route:e===Bl?this.childContexts:this.parent.get(e,n)}},If=new G(""),UA=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=xr([r.queryParams,r.params,r.data]).pipe($t(([o,a,c],u)=>(c=B(B(B({},o),a),c),u===0?X(c):Promise.resolve(c)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=iA(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function O3(t,e,n){let i=kl(t,e._root,n?n._root:void 0);return new gf(i,e)}function kl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=P3(t,e,n);return new Tn(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>kl(t,a)),o}}let i=k3(e.value),r=e.children.map(s=>kl(t,s));return new Tn(i,r)}}function P3(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return kl(t,i,r);return kl(t,i)})}function k3(t){return new Xn(new ft(t.url),new ft(t.params),new ft(t.queryParams),new ft(t.fragment),new ft(t.data),t.outlet,t.component,t)}var cR="ngNavigationCancelingError";function lR(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Ma(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=uR(!1,Cn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function uR(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[cR]=!0,n.cancellationCode=e,n}function F3(t){return dR(t)&&Ma(t.url)}function dR(t){return!!t&&t[cR]}var L3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Re({type:e,selectors:[["ng-component"]],standalone:!0,features:[gi],decls:1,vars:0,template:function(r,s){r&1&&te(0,"router-outlet")},dependencies:[x3],encapsulation:2});let t=e;return t})();function V3(t,e){return t.providers&&!t._injector&&(t._injector=Oh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function m0(t){let e=t.children&&t.children.map(m0),n=e?be(B({},t),{children:e}):B({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==_e&&(n.component=L3),n}function wi(t){return t.outlet||_e}function B3(t,e){let n=t.filter(i=>wi(i)===e);return n.push(...t.filter(i=>wi(i)!==e)),n}function Ul(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var U3=(t,e,n,i)=>Z(r=>(new a0(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),a0=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Bv(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Ca(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Ca(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Ca(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Ca(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new t0(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Xv(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(Bv(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Bv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Ul(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},yf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Aa=class{constructor(e,n){this.component=e,this.route=n}};function j3(t,e,n){let i=t._root,r=e?e._root:null;return Dl(i,r,n,[i.value])}function $3(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Oa(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!d1(t)?t:e.get(t):i}function Dl(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ca(e);return t.children.forEach(o=>{H3(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Al(a,n.getContext(o),r)),r}function H3(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=G3(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new yf(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Dl(t,e,a?a.children:null,i,r):Dl(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Aa(a.outlet.component,o))}else o&&Al(e,a,r),r.canActivateChecks.push(new yf(i)),s.component?Dl(t,null,a?a.children:null,i,r):Dl(t,null,n,i,r);return r}function G3(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!no(t.url,e.url);case"pathParamsOrQueryParamsChange":return!no(t.url,e.url)||!vi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!s0(t,e)||!vi(t.queryParams,e.queryParams);case"paramsChange":default:return!s0(t,e)}}function Al(t,e,n){let i=Ca(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Al(o,e.children.getContext(s),n):Al(o,null,n):Al(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Aa(e.outlet.component,r)):n.canDeactivateChecks.push(new Aa(null,r)):n.canDeactivateChecks.push(new Aa(null,r))}function jl(t){return typeof t=="function"}function z3(t){return typeof t=="boolean"}function q3(t){return t&&jl(t.canLoad)}function W3(t){return t&&jl(t.canActivate)}function Q3(t){return t&&jl(t.canActivateChild)}function K3(t){return t&&jl(t.canDeactivate)}function Y3(t){return t&&jl(t.canMatch)}function hR(t){return t instanceof Un||t?.name==="EmptyError"}var of=Symbol("INITIAL_VALUE");function xa(){return $t(t=>xr(t.map(e=>e.pipe(un(1),ta(of)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===of)return of;if(n===!1||n instanceof Yr)return n}return!0}),nt(e=>e!==of),un(1)))}function J3(t,e){return Je(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?X(be(B({},n),{guardsResult:!0})):Z3(o,i,r,t).pipe(Je(a=>a&&z3(a)?X3(i,s,t,e):X(a)),Z(a=>be(B({},n),{guardsResult:a})))})}function Z3(t,e,n,i){return Be(t).pipe(Je(r=>rH(r.component,r.route,n,e,i)),ai(r=>r!==!0,!0))}function X3(t,e,n,i){return Be(e).pipe(ji(r=>Pr(tH(r.route.parent,i),eH(r.route,i),iH(t,r.path,n),nH(t,r.route,n))),ai(r=>r!==!0,!0))}function eH(t,e){return t!==null&&e&&e(new e0(t)),X(!0)}function tH(t,e){return t!==null&&e&&e(new Zv(t)),X(!0)}function nH(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return X(!0);let r=i.map(s=>Id(()=>{let o=Ul(e)??n,a=Oa(s,o),c=W3(a)?a.canActivate(e,t):qn(o,()=>a(e,t));return Xr(c).pipe(ai())}));return X(r).pipe(xa())}function iH(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>$3(o)).filter(o=>o!==null).map(o=>Id(()=>{let a=o.guards.map(c=>{let u=Ul(o.node)??n,d=Oa(c,u),p=Q3(d)?d.canActivateChild(i,t):qn(u,()=>d(i,t));return Xr(p).pipe(ai())});return X(a).pipe(xa())}));return X(s).pipe(xa())}function rH(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return X(!0);let o=s.map(a=>{let c=Ul(e)??r,u=Oa(a,c),d=K3(u)?u.canDeactivate(t,e,n,i):qn(c,()=>u(t,e,n,i));return Xr(d).pipe(ai())});return X(o).pipe(xa())}function sH(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return X(!0);let s=r.map(o=>{let a=Oa(o,t),c=q3(a)?a.canLoad(e,n):qn(t,()=>a(e,n));return Xr(c)});return X(s).pipe(xa(),fR(i))}function fR(t){return rd(it(e=>{if(Ma(e))throw lR(t,e)}),Z(e=>e===!0))}function oH(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return X(!0);let s=r.map(o=>{let a=Oa(o,t),c=Y3(a)?a.canMatch(e,n):qn(t,()=>a(e,n));return Xr(c)});return X(s).pipe(xa(),fR(i))}var Fl=class{constructor(e){this.segmentGroup=e||null}},vf=class extends Error{constructor(e){super(),this.urlTree=e}};function Ta(t){return Zo(new Fl(t))}function aH(t){return Zo(new K(4e3,!1))}function cH(t){return Zo(uR(!1,Cn.GuardRejected))}var c0=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return X(i);if(r.numberOfChildren>1||!r.children[_e])return aH(e.redirectTo);r=r.children[_e]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new vf(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new Yr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new Le(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new K(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},l0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lH(t,e,n,i,r){let s=g0(t,e,n);return s.matched?(i=V3(e,i),oH(i,e,n,r).pipe(Z(o=>o===!0?s:B({},l0)))):X(s)}function g0(t,e,n){if(e.path==="**")return uH(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?B({},l0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||s3)(n,t,e);if(!r)return B({},l0);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?B(B({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function uH(t){return{matched:!0,parameters:t.length>0?qA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function jA(t,e,n,i){return n.length>0&&fH(t,n,i)?{segmentGroup:new Le(e,hH(i,new Le(n,t.children))),slicedSegments:[]}:n.length===0&&pH(t,n,i)?{segmentGroup:new Le(t.segments,dH(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Le(t.segments,t.children),slicedSegments:n}}function dH(t,e,n,i){let r={};for(let s of n)if(Ef(t,e,s)&&!i[wi(s)]){let o=new Le([],{});r[wi(s)]=o}return B(B({},i),r)}function hH(t,e){let n={};n[_e]=e;for(let i of t)if(i.path===""&&wi(i)!==_e){let r=new Le([],{});n[wi(i)]=r}return n}function fH(t,e,n){return n.some(i=>Ef(t,e,i)&&wi(i)!==_e)}function pH(t,e,n){return n.some(i=>Ef(t,e,i))}function Ef(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function mH(t,e,n,i){return wi(t)!==i&&(i===_e||!Ef(e,n,t))?!1:g0(e,t,n).matched}function gH(t,e,n){return e.length===0&&!t.children[n]}var u0=class{};function _H(t,e,n,i,r,s,o="emptyOnly"){return new d0(t,e,n,i,r,o,s).recognize()}var yH=31,d0=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new c0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=jA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(n=>{let i=new Pl([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,{},_e,this.rootComponentType,null,{}),r=new Tn(i,n),s=new _f("",r),o=D3(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,_e).pipe(kr(i=>{if(i instanceof vf)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Fl?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=f0(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(Z(s=>s instanceof Tn?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return Be(r).pipe(ji(s=>{let o=i.children[s],a=B3(n,s);return this.processSegmentGroup(e,a,o,s)}),Cd((s,o)=>(s.push(...o),s)),Fr(null),Rg(),Je(s=>{if(s===null)return Ta(i);let o=pR(s);return vH(o),X(o)}))}processSegment(e,n,i,r,s,o){return Be(n).pipe(ji(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(kr(c=>{if(c instanceof Fl)return X(null);throw c}))),ai(a=>!!a),kr(a=>{if(hR(a))return gH(i,r,s)?X(new u0):Ta(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return mH(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):Ta(r):Ta(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:d}=g0(n,r,s);if(!a)return Ta(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yH&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,p).pipe(Je(m=>this.processSegment(e,i,n,m.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=lH(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe($t(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe($t(({routes:c})=>{let u=i._loadedInjector??e,{consumedSegments:d,remainingSegments:p,parameters:m}=a,_=new Pl(d,m,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,bH(i),wi(i),i.component??i._loadedComponent??null,i,IH(i)),{segmentGroup:D,slicedSegments:O}=jA(n,d,p,c);if(O.length===0&&D.hasChildren())return this.processChildren(u,c,D).pipe(Z(k=>k===null?null:new Tn(_,k)));if(c.length===0&&O.length===0)return X(new Tn(_,[]));let R=wi(i)===s;return this.processSegment(u,c,D,O,R?_e:s,!0).pipe(Z(k=>new Tn(_,k instanceof Tn?[k]:[])))}))):Ta(n)))}getChildConfig(e,n,i){return n.children?X({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?X({routes:n._loadedRoutes,injector:n._loadedInjector}):sH(e,n,i,this.urlSerializer).pipe(Je(r=>r?this.configLoader.loadChildren(e,n).pipe(it(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):cH(n))):X({routes:[],injector:e})}};function vH(t){t.sort((e,n)=>e.value.outlet===_e?-1:n.value.outlet===_e?1:e.value.outlet.localeCompare(n.value.outlet))}function wH(t){let e=t.value.routeConfig;return e&&e.path===""}function pR(t){let e=[],n=new Set;for(let i of t){if(!wH(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=pR(i.children);e.push(new Tn(i.value,r))}return e.filter(i=>!n.has(i))}function bH(t){return t.data||{}}function IH(t){return t.resolve||{}}function EH(t,e,n,i,r,s){return Je(o=>_H(t,e,n,i,o.extractedUrl,r,s).pipe(Z(({state:a,tree:c})=>be(B({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function DH(t,e){return Je(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return X(n);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of mR(c))o.add(u);let a=0;return Be(o).pipe(ji(c=>s.has(c)?TH(c,i,t,e):(c.data=f0(c,c.parent,t).resolve,X(void 0))),it(()=>a++),ea(1),Je(c=>a===o.size?X(n):Rt))})}function mR(t){let e=t.children.map(n=>mR(n)).flat();return[t,...e]}function TH(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!aR(r)&&(s[Ll]=r.title),CH(s,t,e,i).pipe(Z(o=>(t._resolvedData=o,t.data=f0(t,t.parent,n).resolve,null)))}function CH(t,e,n,i){let r=$v(t);if(r.length===0)return X({});let s={};return Be(r).pipe(Je(o=>SH(t[o],e,n,i).pipe(ai(),it(a=>{s[o]=a}))),ea(1),Sg(s),kr(o=>hR(o)?Rt:Zo(o)))}function SH(t,e,n,i){let r=Ul(e)??i,s=Oa(t,r),o=s.resolve?s.resolve(e,n):qn(r,()=>s(e,n));return Xr(o)}function Uv(t){return $t(e=>{let n=t(e);return n?Be(n).pipe(Z(()=>e)):X(e)})}var gR=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===_e);return r}getResolvedTitleForRoute(i){return i.data[Ll]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>N(AH),providedIn:"root"});let t=e;return t})(),AH=(()=>{let e=class e extends gR{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(H(PA))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$l=new G("",{providedIn:"root",factory:()=>({})}),wf=new G(""),_0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N($h)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return X(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Xr(i.loadComponent()).pipe(Z(_R),it(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),$i(()=>{this.componentLoaders.delete(i)})),s=new Wo(r,()=>new Ae).pipe(qo());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=RH(r,this.compiler,i,this.onLoadEndListener).pipe($i(()=>{this.childrenLoaders.delete(r)})),a=new Wo(o,()=>new Ae).pipe(qo());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RH(t,e,n,i){return Xr(t.loadChildren()).pipe(Z(_R),Je(r=>r instanceof tl||Array.isArray(r)?X(r):Be(e.compileModuleAsync(r))),Z(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(wf,[],{optional:!0,self:!0}).flat()),{routes:o.map(m0),injector:s}}))}function MH(t){return t&&typeof t=="object"&&"default"in t}function _R(t){return MH(t)?t.default:t}var y0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>N(NH),providedIn:"root"});let t=e;return t})(),NH=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yR=new G(""),vR=new G("");function xH(t,e,n){let i=t.get(vR),r=t.get(We);return t.get(de).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=r.startViewTransition(()=>(s(),OH(t))),{onViewTransitionCreated:c}=i;return c&&qn(t,()=>c({transition:a,from:e,to:n})),o})}function OH(t){return new Promise(e=>{xh(e,{injector:t})})}var v0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ae,this.transitionAbortSubject=new Ae,this.configLoader=N(_0),this.environmentInjector=N(yt),this.urlSerializer=N(Vl),this.rootContexts=N(Bl),this.location=N(Wr),this.inputBindingEnabled=N(If,{optional:!0})!==null,this.titleStrategy=N(gR),this.options=N($l,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(y0),this.createViewTransition=N(yR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>X(void 0),this.rootComponentType=null;let i=s=>this.events.next(new Yv(s)),r=s=>this.events.next(new Jv(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(be(B(B({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new ft({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sl,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(nt(o=>o.id!==0),Z(o=>be(B({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),$t(o=>{let a=!1,c=!1;return X(o).pipe($t(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Cn.SupersededByNewNavigation),Rt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?be(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&p!=="reload"){let m="";return this.events.next(new Zr(u.id,this.urlSerializer.serialize(u.rawUrl),m,hf.IgnoredSameUrlNavigation)),u.resolve(null),Rt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return X(u).pipe($t(m=>{let _=this.transitions?.getValue();return this.events.next(new Na(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?Rt:Promise.resolve(m)}),EH(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),it(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=be(B({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let _=new ff(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:m,extractedUrl:_,source:D,restoredState:O,extras:R}=u,k=new Na(m,this.urlSerializer.serialize(_),D,O);this.events.next(k);let Q=sR(this.rootComponentType).snapshot;return this.currentTransition=o=be(B({},u),{targetSnapshot:Q,urlAfterRedirects:_,extras:be(B({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,X(o)}else{let m="";return this.events.next(new Zr(u.id,this.urlSerializer.serialize(u.extractedUrl),m,hf.IgnoredByUrlHandlingStrategy)),u.resolve(null),Rt}}),it(u=>{let d=new qv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Z(u=>(this.currentTransition=o=be(B({},u),{guards:j3(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),J3(this.environmentInjector,u=>this.events.next(u)),it(u=>{if(o.guardsResult=u.guardsResult,Ma(u.guardsResult))throw lR(this.urlSerializer,u.guardsResult);let d=new Wv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),nt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Cn.GuardRejected),!1)),Uv(u=>{if(u.guards.canActivateChecks.length)return X(u).pipe(it(d=>{let p=new Qv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),$t(d=>{let p=!1;return X(d).pipe(DH(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",Cn.NoDataFromResolver)}}))}),it(d=>{let p=new Kv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Uv(u=>{let d=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(it(_=>{p.component=_}),Z(()=>{})));for(let _ of p.children)m.push(...d(_));return m};return xr(d(u.targetSnapshot.root)).pipe(Fr(null),un(1))}),Uv(()=>this.afterPreactivation()),$t(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?Be(p).pipe(Z(()=>o)):X(o)}),Z(u=>{let d=O3(i.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=be(B({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),it(()=>{this.events.next(new xl)}),U3(this.rootContexts,i.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),un(1),it({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),wt(this.transitionAbortSubject.pipe(it(u=>{throw u}))),$i(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Cn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),kr(u=>{if(c=!0,dR(u))this.events.next(new Jr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),F3(u)?this.events.next(new Ol(u.url)):o.resolve(!1);else{this.events.next(new Nl(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(u))}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return Rt}))}))}cancelNavigationTransition(i,r,s){let o=new Jr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PH(t){return t!==Sl}var kH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>N(FH),providedIn:"root"});let t=e;return t})(),h0=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},FH=(()=>{let e=class e extends h0{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Wn(e)))(s||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>N(LH),providedIn:"root"});let t=e;return t})(),LH=(()=>{let e=class e extends wR{constructor(){super(...arguments),this.location=N(Wr),this.urlSerializer=N(Vl),this.options=N($l,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(y0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Yr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=sR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Na)this.stateMemento=this.createStateMemento();else if(i instanceof Zr)this.rawUrlTree=r.initialUrl;else if(i instanceof ff){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof xl?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Jr&&(i.code===Cn.GuardRejected||i.code===Cn.NoDataFromResolver)?this.restoreHistory(r):i instanceof Nl?this.restoreHistory(r,!0):i instanceof Zn&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=B(B({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Wn(e)))(s||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Tl||{});function bR(t,e){t.events.pipe(nt(n=>n instanceof Zn||n instanceof Jr||n instanceof Nl||n instanceof Zr),Z(n=>n instanceof Zn||n instanceof Zr?Tl.COMPLETE:(n instanceof Jr?n.code===Cn.Redirect||n.code===Cn.SupersededByNewNavigation:!1)?Tl.REDIRECTING:Tl.FAILED),nt(n=>n!==Tl.REDIRECTING),un(1)).subscribe(()=>{e()})}function VH(t){throw t}var BH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=N(Lh),this.stateManager=N(wR),this.options=N($l,{optional:!0})||{},this.pendingTasks=N(Ks),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(v0),this.urlSerializer=N(Vl),this.location=N(Wr),this.urlHandlingStrategy=N(y0),this._events=new Ae,this.errorHandler=this.options.errorHandler||VH,this.navigated=!1,this.routeReuseStrategy=N(kH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(wf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(If,{optional:!0}),this.eventsSubscription=new ct,this.isNgZoneEnabled=N(de)instanceof de&&de.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Jr&&r.code!==Cn.Redirect&&r.code!==Cn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Zn)this.navigated=!0;else if(r instanceof Ol){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||PH(s.source)};this.scheduleNavigation(a,Sl,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}$H(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=B({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(m0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:a,p=null;switch(c){case"merge":p=B(B({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let _=s?s.snapshot:this.routerState.snapshot.root;m=tR(_)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),m=this.currentUrlTree.root}return nR(m,i,p,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=Ma(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Sl,null,r)}navigate(i,r={skipLocationChange:!1}){return jH(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=B({},BH):r===!1?s=B({},UH):s=r,Ma(i))return FA(this.currentUrlTree,i,s);let o=this.parseUrl(i);return FA(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,d;a?(c=a.resolve,u=a.reject,d=a.promise):d=new Promise((m,_)=>{c=m,u=_});let p=this.pendingTasks.add();return bR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jH(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new K(4008,!1)}function $H(t){return!(t instanceof xl)&&!(t instanceof Ol)}var $A=(()=>{let e=class e{constructor(i,r,s,o,a,c){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Ae,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=i.events.subscribe(d=>{d instanceof Zn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:FC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(V(Sn),V(Xn),Ws("tabindex"),V(Qn),V(Xe),V(nr))},e.\u0275dir=me({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&ee("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&rt("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ze.HasDecoratorInputTransform,"preserveFragment","preserveFragment",qr],skipLocationChange:[Ze.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",qr],replaceUrl:[Ze.HasDecoratorInputTransform,"replaceUrl","replaceUrl",qr],routerLink:"routerLink"},standalone:!0,features:[Ky,en]});let t=e;return t})(),vne=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,s,o,a){this.router=i,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ne,this.routerEventsSubscription=i.events.subscribe(c=>{c instanceof Zn&&this.update()})}ngAfterContentInit(){X(this.links.changes,X(null)).pipe(Or()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Be(i).pipe(Or()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=HH(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?i.isActive(o,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(V(Sn),V(Xe),V(Qn),V(Dn),V($A,8))},e.\u0275dir=me({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&In(o,$A,5),r&2){let a;nn(a=rn())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[en]});let t=e;return t})();function HH(t){return!!t.paths}var bf=class{};var GH=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(nt(i=>i instanceof Zn),ji(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Oh(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Be(s).pipe(Or())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=X(null);let o=s.pipe(Je(a=>a===null?X(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Be([o,a]).pipe(Or())}else return o})}};e.\u0275fac=function(r){return new(r||e)(H(Sn),H($h),H(yt),H(bf),H(_0))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IR=new G(""),zH=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=N(yt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Na?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Zn?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Zr&&i.code===hf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof pf&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>v(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),xh(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new pf(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){eS()},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function qH(t){return t.routerState.root}function Hl(t,e){return{\u0275kind:t,\u0275providers:e}}function WH(){let t=N(Ue);return e=>{let n=t.get(En);if(e!==n.components[0])return;let i=t.get(Sn),r=t.get(ER);t.get(w0)===1&&i.initialNavigation(),t.get(DR,null,we.Optional)?.setUpPreloading(),t.get(IR,null,we.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var ER=new G("",{factory:()=>new Ae}),w0=new G("",{providedIn:"root",factory:()=>1});function QH(){return Hl(2,[{provide:w0,useValue:0},{provide:Uh,multi:!0,deps:[Ue],useFactory:e=>{let n=e.get(dA,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(Sn),s=e.get(ER);bR(r,()=>{i(!0)}),e.get(v0).afterPreactivation=()=>(i(!0),s.closed?X(void 0):s),r.initialNavigation()}))}}])}function KH(){return Hl(3,[{provide:Uh,multi:!0,useFactory:()=>{let e=N(Sn);return()=>{e.setUpLocationChangeListener()}}},{provide:w0,useValue:2}])}var DR=new G("");function YH(t){return Hl(0,[{provide:DR,useExisting:GH},{provide:bf,useExisting:t}])}function JH(){return Hl(8,[UA,{provide:If,useExisting:UA}])}function ZH(t){let e=[{provide:yR,useValue:xH},{provide:vR,useValue:B({skipNextTransition:!!t?.skipInitialTransition},t)}];return Hl(9,e)}var HA=new G("ROUTER_FORROOT_GUARD"),XH=[Wr,{provide:Vl,useClass:Rl},Sn,Bl,{provide:Xn,useFactory:qH,deps:[Sn]},_0,[]],b0=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[XH,[],{provide:wf,multi:!0,useValue:i},{provide:HA,useFactory:i4,deps:[[Sn,new lt,new ay]]},{provide:$l,useValue:r||{}},r?.useHash?t4():n4(),e4(),r?.preloadingStrategy?YH(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?r4(r):[],r?.bindToComponentInputs?JH().\u0275providers:[],r?.enableViewTransitions?ZH().\u0275providers:[],s4()]}}static forChild(i){return{ngModule:e,providers:[{provide:wf,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(H(HA,8))},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function e4(){return{provide:IR,useFactory:()=>{let t=N(gA),e=N(de),n=N($l),i=N(v0),r=N(Vl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new zH(r,i,t,e,n)}}}function t4(){return{provide:nr,useClass:fA}}function n4(){return{provide:nr,useClass:vv}}function i4(t){return"guarded"}function r4(t){return[t.initialNavigation==="disabled"?KH().\u0275providers:[],t.initialNavigation==="enabledBlocking"?QH().\u0275providers:[]]}var GA=new G("");function s4(){return[{provide:GA,useFactory:WH},{provide:jh,multi:!0,useExisting:GA}]}function Df(t){t||(hy(Df),t=N(Qs));let e=new ne(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(wt(e))}var PR=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(V(Qn),V(Xe))},e.\u0275dir=me({type:e});let t=e;return t})(),Of=(()=>{let e=class e extends PR{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Wn(e)))(s||e)}})(),e.\u0275dir=me({type:e,features:[tn]});let t=e;return t})(),Fa=new G("");var o4={provide:Fa,useExisting:xn(()=>bi),multi:!0};function a4(){let t=yi()?yi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var c4=new G(""),bi=(()=>{let e=class e extends PR{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!a4())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(V(Qn),V(Xe),V(c4,8))},e.\u0275dir=me({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&ee("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[mi([o4]),tn]});let t=e;return t})();function es(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function kR(t){return t!=null&&typeof t.length=="number"}var Pf=new G(""),S0=new G(""),l4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,dt=class{static min(e){return u4(e)}static max(e){return d4(e)}static required(e){return FR(e)}static requiredTrue(e){return h4(e)}static email(e){return f4(e)}static minLength(e){return p4(e)}static maxLength(e){return m4(e)}static pattern(e){return g4(e)}static nullValidator(e){return Cf(e)}static compose(e){return $R(e)}static composeAsync(e){return GR(e)}};function u4(t){return e=>{if(es(e.value)||es(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function d4(t){return e=>{if(es(e.value)||es(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function FR(t){return es(t.value)?{required:!0}:null}function h4(t){return t.value===!0?null:{required:!0}}function f4(t){return es(t.value)||l4.test(t.value)?null:{email:!0}}function p4(t){return e=>es(e.value)||!kR(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function m4(t){return e=>kR(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function g4(t){if(!t)return Cf;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(es(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Cf(t){return null}function LR(t){return t!=null}function VR(t){return zr(t)?Be(t):t}function BR(t){let e={};return t.forEach(n=>{e=n!=null?B(B({},e),n):e}),Object.keys(e).length===0?null:e}function UR(t,e){return e.map(n=>n(t))}function _4(t){return!t.validate}function jR(t){return t.map(e=>_4(e)?e:n=>e.validate(n))}function $R(t){if(!t)return null;let e=t.filter(LR);return e.length==0?null:function(n){return BR(UR(n,e))}}function HR(t){return t!=null?$R(jR(t)):null}function GR(t){if(!t)return null;let e=t.filter(LR);return e.length==0?null:function(n){let i=UR(n,e).map(VR);return Dg(i).pipe(Z(BR))}}function zR(t){return t!=null?GR(jR(t)):null}function TR(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function qR(t){return t._rawValidators}function WR(t){return t._rawAsyncValidators}function E0(t){return t?Array.isArray(t)?t:[t]:[]}function Sf(t,e){return Array.isArray(t)?t.includes(e):t===e}function CR(t,e){let n=E0(e);return E0(t).forEach(r=>{Sf(n,r)||n.push(r)}),n}function SR(t,e){return E0(e).filter(n=>!Sf(t,n))}var Af=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},io=class extends Af{get formDirective(){return null}get path(){return null}},ro=class extends Af{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Rf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},y4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qne=be(B({},y4),{"[class.ng-submitted]":"isSubmitted"}),Ii=(()=>{let e=class e extends Rf{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(V(ro,2))},e.\u0275dir=me({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Ot("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[tn]});let t=e;return t})(),ts=(()=>{let e=class e extends Rf{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(V(io,10))},e.\u0275dir=me({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Ot("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[tn]});let t=e;return t})();var Gl="VALID",Tf="INVALID",Pa="PENDING",zl="DISABLED";function A0(t){return(kf(t)?t.validators:t)||null}function v4(t){return Array.isArray(t)?HR(t):t||null}function R0(t,e){return(kf(e)?e.asyncValidators:t)||null}function w4(t){return Array.isArray(t)?zR(t):t||null}function kf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function QR(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new K(1e3,"");if(!i[n])throw new K(1001,"")}function KR(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new K(1002,"")})}var ka=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gl}get invalid(){return this.status===Tf}get pending(){return this.status==Pa}get disabled(){return this.status===zl}get enabled(){return this.status!==zl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(CR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(CR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SR(e,this._rawAsyncValidators))}hasValidator(e){return Sf(this._rawValidators,e)}hasAsyncValidator(e){return Sf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Pa,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=zl,this.errors=null,this._forEachChild(i=>{i.disable(be(B({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be(B({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Gl,this._forEachChild(i=>{i.enable(be(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(be(B({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gl||this.status===Pa)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zl:Gl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Pa,this._hasOwnPendingAsyncValidator=!0;let n=VR(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?zl:this.errors?Tf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pa)?Pa:this._anyControlsHaveStatus(Tf)?Tf:Gl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=v4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=w4(this._rawAsyncValidators)}},Mf=class extends ka{constructor(e,n,i){super(A0(n),R0(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){KR(this,!0,e),Object.keys(e).forEach(i=>{QR(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var D0=class extends Mf{};var Ff=new G("CallSetDisabledState",{providedIn:"root",factory:()=>Lf}),Lf="always";function YR(t,e){return[...e.path,t]}function T0(t,e,n=Lf){M0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),I4(t,e),D4(t,e),E4(t,e),b4(t,e)}function AR(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),xf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Nf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function b4(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function M0(t,e){let n=qR(t);e.validator!==null?t.setValidators(TR(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=WR(t);e.asyncValidator!==null?t.setAsyncValidators(TR(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Nf(e._rawValidators,r),Nf(e._rawAsyncValidators,r)}function xf(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=qR(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=WR(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return Nf(e._rawValidators,i),Nf(e._rawAsyncValidators,i),n}function I4(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&JR(t,e)})}function E4(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&JR(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function JR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function D4(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function T4(t,e){t==null,M0(t,e)}function C4(t,e){return xf(t,e)}function ZR(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function S4(t){return Object.getPrototypeOf(t.constructor)===Of}function A4(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function XR(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===bi?n=s:S4(s)?i=s:r=s}),r||i||n||null}function R4(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function RR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function MR(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var sn=class extends ka{constructor(e=null,n,i){super(A0(n),R0(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(MR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){RR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){RR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){MR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var M4=t=>t instanceof sn;var N4={provide:ro,useExisting:xn(()=>N0)},NR=Promise.resolve(),N0=(()=>{let e=class e extends ro{constructor(i,r,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new sn,this._registered=!1,this.name="",this.update=new Ne,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=XR(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),ZR(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){T0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){NR.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&qr(r);NR.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?YR(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(V(io,9),V(Pf,10),V(S0,10),V(Fa,10),V(Dn,8),V(Ff,8))},e.\u0275dir=me({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ze.None,"disabled","isDisabled"],model:[Ze.None,"ngModel","model"],options:[Ze.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[mi([N4]),tn,en]});let t=e;return t})(),ns=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=me({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),x4={provide:Fa,useExisting:xn(()=>so),multi:!0},so=(()=>{let e=class e extends Of{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Wn(e)))(s||e)}})(),e.\u0275dir=me({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&ee("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[mi([x4]),tn]});let t=e;return t})();var eM=new G("");var O4={provide:io,useExisting:xn(()=>ir)},ir=(()=>{let e=class e extends io{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ne,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return T0(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){AR(i.control||null,i,!1),R4(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,A4(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(AR(r||null,i),M4(s)&&(T0(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);T4(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&C4(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){M0(this.form,this),this._oldForm&&xf(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(V(Pf,10),V(S0,10),V(Ff,8))},e.\u0275dir=me({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&ee("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[Ze.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mi([O4]),tn,en]});let t=e;return t})();var P4={provide:ro,useExisting:xn(()=>rr)},rr=(()=>{let e=class e extends ro{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ne,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=XR(this,o)}ngOnChanges(i){this._added||this._setUpControl(),ZR(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return YR(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(V(io,13),V(Pf,10),V(S0,10),V(Fa,10),V(eM,8))},e.\u0275dir=me({type:e,selectors:[["","formControlName",""]],inputs:{name:[Ze.None,"formControlName","name"],isDisabled:[Ze.None,"disabled","isDisabled"],model:[Ze.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[mi([P4]),tn,en]});let t=e;return t})(),k4={provide:Fa,useExisting:xn(()=>is),multi:!0};function tM(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function F4(t){return t.split(":")[0]}var is=(()=>{let e=class e extends Of{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),s=tM(r,i);this.setProperty("value",s)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=F4(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Wn(e)))(s||e)}})(),e.\u0275dir=me({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){r&1&&ee("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[mi([k4]),tn]});let t=e;return t})(),La=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(tM(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(V(Xe),V(Qn),V(is,9))},e.\u0275dir=me({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),L4={provide:Fa,useExisting:xn(()=>nM),multi:!0};function xR(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function V4(t){return t.split(":")[0]}var nM=(()=>{let e=class e extends Of{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let s=i.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else r=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let s=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let u=a[c],d=this._getOptionValue(u.value);s.push(d)}}else{let a=r.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let d=this._getOptionValue(u.value);s.push(d)}}}this.value=s,i(s)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=V4(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Wn(e)))(s||e)}})(),e.\u0275dir=me({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){r&1&&ee("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[mi([L4]),tn]});let t=e;return t})(),Va=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(xR(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(xR(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(V(Xe),V(Qn),V(nM,9))},e.\u0275dir=me({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var B4=(()=>{let e=class e{constructor(){this._validator=Cf}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Cf,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=me({type:e,features:[en]});let t=e;return t})();var U4={provide:Pf,useExisting:xn(()=>j4),multi:!0};var j4=(()=>{let e=class e extends B4{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=qr,this.createValidator=i=>FR}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Wn(e)))(s||e)}})(),e.\u0275dir=me({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){r&2&&rt("required",s._enabled?"":null)},inputs:{required:"required"},features:[mi([U4]),tn]});let t=e;return t})();var iM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})(),C0=class extends ka{constructor(e,n,i){super(A0(n),R0(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){KR(this,!1,e),e.forEach((i,r)=>{QR(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function OR(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var rs=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return OR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Mf(s,o)}record(i,r=null){let s=this._reduceControls(i);return new D0(s,r)}control(i,r,s){let o={};return this.useNonNullable?(OR(r)?o=r:(o.validators=r,o.asyncValidators=s),new sn(i,be(B({},o),{nonNullable:!0}))):new sn(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new C0(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof sn)return i;if(i instanceof ka)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rM=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ff,useValue:i.callSetDisabledState??Lf}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({imports:[iM]});let t=e;return t})(),sM=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:eM,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Ff,useValue:i.callSetDisabledState??Lf}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({imports:[iM]});let t=e;return t})();var $4=["*"];var H4=t=>({$implicit:t});var G4=["dialog"],z4=["ngbNavOutlet",""];function q4(t,e){}function W4(t,e){if(t&1&&(E(0,"div",0),xe(1,q4,0,0,"ng-template",1),A()),t&2){let n=fe().$implicit,i=fe();Y("item",n)("nav",i.nav)("role",i.paneRole),L(),Y("ngTemplateOutlet",(n.contentTpl==null?null:n.contentTpl.templateRef)||null)("ngTemplateOutletContext",Fh(5,H4,n.active||i.isPanelTransitioning(n)))}}function Q4(t,e){if(t&1&&xe(0,W4,2,7,"div",0),t&2){let n=e.$implicit,i=fe();Ys(0,n.isPanelInDom()||i.isPanelTransitioning(n)?0:-1)}}var K4=(t,e,n)=>({$implicit:t,pages:e,disabled:n}),Y4=t=>({disabled:!0,currentPage:t}),J4=(t,e,n)=>({disabled:t,$implicit:e,currentPage:n}),P0=(t,e)=>({disabled:t,currentPage:e}),Z4=t=>({disabled:t});function X4(t,e){t&1&&(E(0,"span",13),pl(1,7),A())}function eG(t,e){t&1&&(E(0,"span",13),pl(1,8),A())}function tG(t,e){t&1&&(E(0,"span",13),pl(1,9),A())}function nG(t,e){t&1&&(E(0,"span",13),pl(1,10),A())}function iG(t,e){t&1&&P(0,"...")}function rG(t,e){if(t&1&&P(0),t&2){let n=e.$implicit;Ke(n)}}function sG(t,e){}function oG(t,e){if(t&1&&(E(0,"a",16),xe(1,sG,0,0,"ng-template",12),A()),t&2){let n=fe(2).$implicit,i=fe(),r=Kn(9);L(),Y("ngTemplateOutlet",(i.tplEllipsis==null?null:i.tplEllipsis.templateRef)||r)("ngTemplateOutletContext",Fh(2,Y4,n))}}function aG(t,e){}function cG(t,e){if(t&1){let n=Pt();E(0,"a",17),ee("click",function(r){It(n);let s=fe().$implicit;return fe(2).selectPage(s),Et(r.preventDefault())}),xe(1,aG,0,0,"ng-template",12),A()}if(t&2){let n=fe().$implicit,i=fe(),r=i.$implicit,s=i.disabled,o=fe(),a=Kn(11);rt("tabindex",s?"-1":null)("aria-disabled",s?"true":null),L(),Y("ngTemplateOutlet",(o.tplNumber==null?null:o.tplNumber.templateRef)||a)("ngTemplateOutletContext",iv(4,J4,s,n,r))}}function lG(t,e){if(t&1&&(E(0,"li",15),xe(1,oG,2,4,"a",16)(2,cG,2,8),A()),t&2){let n=e.$implicit,i=fe(),r=i.$implicit,s=i.disabled,o=fe();Ot("active",n===r)("disabled",o.isEllipsis(n)||s),rt("aria-current",n===r?"page":null),L(),Ys(1,o.isEllipsis(n)?1:2)}}function uG(t,e){if(t&1&&Zy(0,lG,3,6,"li",14,Jy),t&2){let n=e.pages;Xy(n)}}function dG(t,e){}function hG(t,e){if(t&1){let n=Pt();E(0,"li",15)(1,"a",18),ee("click",function(r){return It(n),fe().selectPage(1),Et(r.preventDefault())}),xe(2,dG,0,0,"ng-template",12),A()()}if(t&2){let n=fe(),i=Kn(1);Ot("disabled",n.previousDisabled()),L(),rt("tabindex",n.previousDisabled()?"-1":null)("aria-disabled",n.previousDisabled()?"true":null),L(),Y("ngTemplateOutlet",(n.tplFirst==null?null:n.tplFirst.templateRef)||i)("ngTemplateOutletContext",ba(6,P0,n.previousDisabled(),n.page))}}function fG(t,e){}function pG(t,e){if(t&1){let n=Pt();E(0,"li",15)(1,"a",19),ee("click",function(r){It(n);let s=fe();return s.selectPage(s.page-1),Et(r.preventDefault())}),xe(2,fG,0,0,"ng-template",12),A()()}if(t&2){let n=fe(),i=Kn(3);Ot("disabled",n.previousDisabled()),L(),rt("tabindex",n.previousDisabled()?"-1":null)("aria-disabled",n.previousDisabled()?"true":null),L(),Y("ngTemplateOutlet",(n.tplPrevious==null?null:n.tplPrevious.templateRef)||i)("ngTemplateOutletContext",Fh(6,Z4,n.previousDisabled()))}}function mG(t,e){}function gG(t,e){}function _G(t,e){if(t&1){let n=Pt();E(0,"li",15)(1,"a",20),ee("click",function(r){It(n);let s=fe();return s.selectPage(s.page+1),Et(r.preventDefault())}),xe(2,gG,0,0,"ng-template",12),A()()}if(t&2){let n=fe(),i=Kn(5);Ot("disabled",n.nextDisabled()),L(),rt("tabindex",n.nextDisabled()?"-1":null)("aria-disabled",n.nextDisabled()?"true":null),L(),Y("ngTemplateOutlet",(n.tplNext==null?null:n.tplNext.templateRef)||i)("ngTemplateOutletContext",ba(6,P0,n.nextDisabled(),n.page))}}function yG(t,e){}function vG(t,e){if(t&1){let n=Pt();E(0,"li",15)(1,"a",21),ee("click",function(r){It(n);let s=fe();return s.selectPage(s.pageCount),Et(r.preventDefault())}),xe(2,yG,0,0,"ng-template",12),A()()}if(t&2){let n=fe(),i=Kn(7);Ot("disabled",n.nextDisabled()),L(),rt("tabindex",n.nextDisabled()?"-1":null)("aria-disabled",n.nextDisabled()?"true":null),L(),Y("ngTemplateOutlet",(n.tplLast==null?null:n.tplLast.templateRef)||i)("ngTemplateOutletContext",ba(6,P0,n.nextDisabled(),n.page))}}var cM={animation:!0,transitionTimerDelayMs:5},lM=(()=>{let e=class e{constructor(){this.animation=cM.animation}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wG(t){let{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t),i=parseFloat(e),r=parseFloat(n);return(i+r)*1e3}function bG(t){return parseInt(`${t}`,10)}function IG(t,e,n=0){return Math.max(Math.min(t,e),n)}function uM(t){return typeof t=="string"}function oM(t){return!isNaN(bG(t))}function oo(t){return t!=null}function EG(t){return t&&t.then}function k0(t){return(t||document.body).getBoundingClientRect()}function DG(t){return e=>new ne(n=>{let i=o=>t.run(()=>n.next(o)),r=o=>t.run(()=>n.error(o)),s=()=>t.run(()=>n.complete());return e.subscribe({next:i,error:r,complete:s})})}var TG=()=>{},{transitionTimerDelayMs:CG}=cM,Vf=new Map,or=(t,e,n,i)=>{let r=i.context||{},s=Vf.get(e);if(s)switch(i.runningTransition){case"continue":return Rt;case"stop":t.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Vf.delete(e)}let o=n(e,i.animation,r)||TG;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return t.run(()=>o()),X(void 0).pipe(DG(t));let a=new Ae,c=new Ae,u=a.pipe(Ag(!0));Vf.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});let d=wG(e);return t.runOutsideAngular(()=>{let p=Nn(e,"transitionend").pipe(wt(u),nt(({target:_})=>_===e)),m=Tg(d+CG).pipe(wt(u));Cg(m,p,c).pipe(wt(u)).subscribe(()=>{Vf.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};var dM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var hM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var fM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})(),pM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var sr=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(sr||{});var Aie=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})();var SG=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function mM(t){let e=Array.from(t.querySelectorAll(SG)).filter(n=>n.tabIndex!==-1);return[e[0],e[e.length-1]]}var AG=(t,e,n,i=!1)=>{t.runOutsideAngular(()=>{let r=Nn(e,"focusin").pipe(wt(n),Z(s=>s.target));Nn(e,"keydown").pipe(wt(n),nt(s=>s.which===sr.Tab),Sd(r)).subscribe(([s,o])=>{let[a,c]=mM(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&Nn(e,"click").pipe(wt(n),Sd(r),Z(s=>s[1])).subscribe(s=>s.focus())})};var Rie=new Date(1882,10,12),Mie=new Date(2174,10,25);var Nie=1e3*60*60*24;var F0=1080,RG=24*F0,MG=12*F0+793,xie=29*RG+MG,Oie=11*F0+204;var gM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var _M=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})(),NG=(()=>{let e=class e{constructor(){this._ngbConfig=N(lM),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ba=class{constructor(e,n,i){this.nodes=e,this.viewRef=n,this.componentRef=i}};var xG=(()=>{let e=class e{constructor(){this._document=N(We)}hide(){let i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,s=r.style,{overflow:o,paddingRight:a}=s;if(i>0){let c=parseFloat(window.getComputedStyle(r).paddingRight);s.paddingRight=`${c+i}px`}return s.overflow="hidden",()=>{i>0&&(s.paddingRight=a),s.overflow=o}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OG=(()=>{let e=class e{constructor(){this._nativeElement=N(Xe).nativeElement,this._zone=N(de)}ngOnInit(){this._zone.onStable.asObservable().pipe(un(1)).subscribe(()=>{or(this._zone,this._nativeElement,(i,r)=>{r&&k0(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return or(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Re({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,s){r&2&&(mn("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),Ot("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[gi],decls:0,vars:0,template:function(r,s){},encapsulation:2});let t=e;return t})(),Fn=class{update(e){}close(e){}dismiss(e){}},PG=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],kG=["animation","backdropClass"],x0=class{_applyWindowOptions(e,n){PG.forEach(i=>{oo(n[i])&&(e[i]=n[i])})}_applyBackdropOptions(e,n){kG.forEach(i=>{oo(n[i])&&(e[i]=n[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(wt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(wt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,i,r){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Ae,this._dismissed=new Ae,this._hidden=new Ae,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let n=this._beforeDismiss();EG(n)?n.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):n!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():X(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Bc(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},O0=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(O0||{}),FG=(()=>{let e=class e{constructor(){this._document=N(We),this._elRef=N(Xe),this._zone=N(de),this._closed$=new Ae,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ne,this.shown=new Ae,this.hidden=new Ae}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":uM(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(un(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:i}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=or(this._zone,i,()=>i.classList.remove("show"),r),o=or(this._zone,this._dialogEl.nativeElement,()=>{},r),a=Bc(s,o);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let i={animation:this.animation,runningTransition:"continue"},r=or(this._zone,this._elRef.nativeElement,(o,a)=>{a&&k0(o),o.classList.add("show")},i),s=or(this._zone,this._dialogEl.nativeElement,()=>{},i);Bc(r,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{Nn(i,"keydown").pipe(wt(this._closed$),nt(s=>s.which===sr.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(O0.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let r=!1;Nn(this._dialogEl.nativeElement,"mousedown").pipe(wt(this._closed$),it(()=>r=!1),$t(()=>Nn(i,"mouseup").pipe(wt(this._closed$),un(1))),nt(({target:s})=>i===s)).subscribe(()=>{r=!0}),Nn(i,"click").pipe(wt(this._closed$)).subscribe(({target:s})=>{i===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!r&&this._zone.run(()=>this.dismiss(O0.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let r=i.querySelector("[ngbAutofocus]"),s=mM(i)[0];(r||s||i).focus()}}_restoreFocus(){let i=this._document.body,r=this._elWithFocus,s;r&&r.focus&&i.contains(r)?s=r:s=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&or(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Re({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(r,s){if(r&1&&tv(G4,7),r&2){let o;nn(o=rn())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,s){r&2&&(rt("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),mn("modal d-block"+(s.windowClass?" "+s.windowClass:"")),Ot("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[gi],ngContentSelectors:$4,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(r,s){r&1&&(GS(),E(0,"div",1,0)(2,"div",2),zS(3),A()()),r&2&&mn("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let t=e;return t})(),LG=(()=>{let e=class e{constructor(){this._applicationRef=N(En),this._injector=N(Ue),this._environmentInjector=N(yt),this._document=N(We),this._scrollBar=N(xG),this._activeWindowCmptHasChanged=new Ae,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Ne;let i=N(de);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let r=this._windowCmpts[this._windowCmpts.length-1];AG(i,r.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(r.location.nativeElement)}})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,r,s){let o=s.container instanceof HTMLElement?s.container:oo(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new Fn;i=s.injector||i;let c=i.get(yt,null)||this._environmentInjector,u=this._getContentRef(i,c,r,a,s),d=s.backdrop!==!1?this._attachBackdrop(o):void 0,p=this._attachWindowComponent(o,u.nodes),m=new x0(p,u,d,s.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(p),m.hidden.pipe(un(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=_=>{m.close(_)},a.dismiss=_=>{m.dismiss(_)},a.update=_=>{m.update(_)},m.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),p.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(r=>r.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let r=zh(OG,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(i,r){let s=zh(FG,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_getContentRef(i,r,s,o,a){return s?s instanceof xt?this._createFromTemplateRef(s,o):uM(s)?this._createFromString(s):this._createFromComponent(i,r,s,o,a):new Ba([])}_createFromTemplateRef(i,r){let s={$implicit:r,close(a){r.close(a)},dismiss(a){r.dismiss(a)}},o=i.createEmbeddedView(s);return this._applicationRef.attachView(o),new Ba([o.rootNodes],o)}_createFromString(i){let r=this._document.createTextNode(`${i}`);return new Ba([[r]])}_createFromComponent(i,r,s,o,a){let c=Ue.create({providers:[{provide:Fn,useValue:o}],parent:i}),u=zh(s,{environmentInjector:r,elementInjector:c}),d=u.location.nativeElement;return a.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Ba([[d]],u.hostView,u)}_setAriaHidden(i){let r=i.parentElement;r&&i!==this._document.body&&(Array.from(r.children).forEach(s=>{s!==i&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,r)=>{i?r.setAttribute("aria-hidden",i):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){let r=()=>{let s=this._modalRefs.indexOf(i);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(r,r)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{let r=this._windowCmpts.indexOf(i);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ar=(()=>{let e=class e{constructor(){this._injector=N(Ue),this._modalStack=N(LG),this._config=N(NG)}open(i,r={}){let s=B(be(B({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._injector,i,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({providers:[ar]});let t=e;return t})(),VG=(()=>{let e=class e{constructor(){this._ngbConfig=N(lM),this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vM=t=>oo(t)&&t!=="",BG=0,L0=(()=>{let e=class e{constructor(){this.templateRef=N(xt)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=me({type:e,selectors:[["ng-template","ngbNavContent",""]],standalone:!0});let t=e;return t})(),wM=(()=>{let e=class e{constructor(i){this.role=i,this.nav=N(Wl)}};e.\u0275fac=function(r){return new(r||e)(Ws("role"))},e.\u0275dir=me({type:e,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(r,s){r&2&&rt("role",s.role?s.role:s.nav.roles?"presentation":void 0)},standalone:!0});let t=e;return t})(),Bf=(()=>{let e=class e{constructor(){this._nav=N(Wl),this._nativeElement=N(Xe).nativeElement,this.disabled=!1,this.shown=new Ne,this.hidden=new Ne}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){oo(this.domId)||(this.domId=`ngb-nav-${BG++}`)}get active(){return this._nav.activeId===this.id}get id(){return vM(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(oo(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}isNgContainer(){return this._nativeElement.nodeType===Node.COMMENT_NODE}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=me({type:e,selectors:[["","ngbNavItem",""]],contentQueries:function(r,s,o){if(r&1&&In(o,L0,4),r&2){let a;nn(a=rn())&&(s.contentTpls=a)}},hostVars:2,hostBindings:function(r,s){r&2&&Ot("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[Ze.None,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0});let t=e;return t})(),Wl=(()=>{let e=class e{constructor(i){this.role=i,this._config=N(VG),this._cd=N(Dn),this._document=N(We),this._nativeElement=N(Xe).nativeElement,this.destroyRef=N(Qs),this._navigatingWithKeyboard=!1,this.activeIdChange=new Ne,this.animation=this._config.animation,this.destroyOnHide=this._config.destroyOnHide,this.orientation=this._config.orientation,this.roles=this._config.roles,this.keyboard=this._config.keyboard,this.shown=new Ne,this.hidden=new Ne,this.navItemChange$=new Ae,this.navChange=new Ne}click(i){i.disabled||this._updateActiveId(i.id)}onFocusout({relatedTarget:i}){this._nativeElement.contains(i)||(this._navigatingWithKeyboard=!1)}onKeyDown(i){if(this.roles!=="tablist"||!this.keyboard)return;let r=i.which,s=this.links.filter(c=>!c.navItem.disabled),{length:o}=s,a=-1;if(s.forEach((c,u)=>{c.nativeElement===this._document.activeElement&&(a=u)}),o){switch(r){case sr.ArrowUp:case sr.ArrowLeft:a=(a-1+o)%o;break;case sr.ArrowRight:case sr.ArrowDown:a=(a+1)%o;break;case sr.Home:a=0;break;case sr.End:a=o-1;break}this.keyboard==="changeWithArrows"&&this.select(s[a].navItem.id),s[a].nativeElement.focus(),this._navigatingWithKeyboard=!0,i.preventDefault()}}select(i){this._updateActiveId(i,!1)}ngAfterContentInit(){if(!oo(this.activeId)){let i=this.items.first?this.items.first.id:null;vM(i)&&(this._updateActiveId(i,!1),this._cd.detectChanges())}this.items.changes.pipe(Df(this.destroyRef)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:i}){i&&!i.firstChange&&this._notifyItemChanged(i.currentValue)}_updateActiveId(i,r=!0){if(this.activeId!==i){let s=!1;r&&this.navChange.emit({activeId:this.activeId,nextId:i,preventDefault:()=>{s=!0}}),s||(this.activeId=i,this.activeIdChange.emit(i),this._notifyItemChanged(i))}}_notifyItemChanged(i){this.navItemChange$.next(this._getItemById(i))}_getItemById(i){return this.items&&this.items.find(r=>r.id===i)||null}};e.\u0275fac=function(r){return new(r||e)(Ws("role"))},e.\u0275dir=me({type:e,selectors:[["","ngbNav",""]],contentQueries:function(r,s,o){if(r&1&&(In(o,Bf,4),In(o,Uf,5)),r&2){let a;nn(a=rn())&&(s.items=a),nn(a=rn())&&(s.links=a)}},hostVars:6,hostBindings:function(r,s){r&1&&ee("keydown.arrowLeft",function(a){return s.onKeyDown(a)})("keydown.arrowRight",function(a){return s.onKeyDown(a)})("keydown.arrowDown",function(a){return s.onKeyDown(a)})("keydown.arrowUp",function(a){return s.onKeyDown(a)})("keydown.Home",function(a){return s.onKeyDown(a)})("keydown.End",function(a){return s.onKeyDown(a)})("focusout",function(a){return s.onFocusout(a)}),r&2&&(rt("aria-orientation",s.orientation==="vertical"&&s.roles==="tablist"?"vertical":void 0)("role",s.role?s.role:s.roles?"tablist":void 0),Ot("nav",!0)("flex-column",s.orientation==="vertical"))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[en]});let t=e;return t})(),Uf=(()=>{let e=class e{constructor(i){this.role=i,this.navItem=N(Bf),this.nav=N(Wl),this.nativeElement=N(Xe).nativeElement}get tabindex(){return this.nav.keyboard===!1?this.navItem.disabled?-1:void 0:this.nav._navigatingWithKeyboard||this.navItem.disabled||!this.navItem.active?-1:void 0}};e.\u0275fac=function(r){return new(r||e)(Ws("role"))},e.\u0275dir=me({type:e,selectors:[["","ngbNavLink",""]],hostVars:14,hostBindings:function(r,s){r&2&&(fl("id",s.navItem.domId),rt("role",s.role?s.role:s.nav.roles?"tab":void 0)("tabindex",s.tabindex)("aria-controls",s.navItem.isPanelInDom()?s.navItem.panelDomId:null)("aria-selected",s.navItem.active)("aria-disabled",s.navItem.disabled),Ot("nav-link",!0)("nav-item",s.navItem.isNgContainer())("active",s.navItem.active)("disabled",s.navItem.disabled))},standalone:!0});let t=e;return t})(),bM=(()=>{let e=class e extends Uf{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Wn(e)))(s||e)}})(),e.\u0275dir=me({type:e,selectors:[["button","ngbNavLink",""]],hostAttrs:["type","button"],hostVars:1,hostBindings:function(r,s){r&1&&ee("click",function(){return s.nav.click(s.navItem)}),r&2&&fl("disabled",s.navItem.disabled)},standalone:!0,features:[tn]});let t=e;return t})();var UG=({classList:t})=>(t.remove("show"),()=>t.remove("active")),jG=(t,e)=>{e&&k0(t),t.classList.add("show")},aM=(()=>{let e=class e{constructor(){this.nativeElement=N(Xe).nativeElement}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=me({type:e,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(r,s){r&2&&(fl("id",s.item.panelDomId),rt("role",s.role?s.role:s.nav.roles?"tabpanel":void 0)("aria-labelledby",s.item.domId),Ot("fade",s.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0});let t=e;return t})(),IM=(()=>{let e=class e{constructor(){this._cd=N(Dn),this._ngZone=N(de),this._activePane=null}isPanelTransitioning(i){return this._activePane?.item===i}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(Df(this.nav.destroyRef),ta(this._activePane?.item||null),Dd(),Mg(1)).subscribe(i=>{let r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?or(this._ngZone,this._activePane.nativeElement,UG,r).subscribe(()=>{let s=this._activePane?.item;this._activePane=this._getPaneForItem(i),this._cd.markForCheck(),this._activePane&&(this._activePane.nativeElement.classList.add("active"),or(this._ngZone,this._activePane.nativeElement,jG,r).subscribe(()=>{i&&(i.shown.emit(),this.nav.shown.emit(i.id))})),s&&(s.hidden.emit(),this.nav.hidden.emit(s.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.nativeElement.classList.add("show"),this._activePane?.nativeElement.classList.add("active")}_getPaneForItem(i){return this._panes&&this._panes.find(r=>r.item===i)||null}_getActivePane(){return this._panes&&this._panes.find(i=>i.item.active)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Re({type:e,selectors:[["","ngbNavOutlet",""]],viewQuery:function(r,s){if(r&1&&tv(aM,5),r&2){let o;nn(o=rn())&&(s._panes=o)}},hostVars:2,hostBindings:function(r,s){r&2&&Ot("tab-content",!0)},inputs:{paneRole:"paneRole",nav:[Ze.None,"ngbNavOutlet","nav"]},standalone:!0,features:[gi],attrs:z4,decls:2,vars:0,consts:[["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,s){r&1&&Zy(0,Q4,1,1,null,null,Jy),r&2&&Xy(s.nav.items)},dependencies:[aM,wv],encapsulation:2,changeDetection:0});let t=e;return t})();var EM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})(),$G=(()=>{let e=class e{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),HG=(()=>{let e=class e{constructor(){this.templateRef=N(xt)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=me({type:e,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0});let t=e;return t})(),GG=(()=>{let e=class e{constructor(){this.templateRef=N(xt)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=me({type:e,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0});let t=e;return t})(),zG=(()=>{let e=class e{constructor(){this.templateRef=N(xt)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=me({type:e,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0});let t=e;return t})(),qG=(()=>{let e=class e{constructor(){this.templateRef=N(xt)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=me({type:e,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0});let t=e;return t})(),WG=(()=>{let e=class e{constructor(){this.templateRef=N(xt)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=me({type:e,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0});let t=e;return t})(),QG=(()=>{let e=class e{constructor(){this.templateRef=N(xt)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=me({type:e,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0});let t=e;return t})(),KG=(()=>{let e=class e{constructor(){this.templateRef=N(xt)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=me({type:e,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0});let t=e;return t})(),DM=(()=>{let e=class e{constructor(){this._config=N($G),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new Ne(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(i){this._updatePages(i)}ngOnChanges(i){this._updatePages(this.page)}isEllipsis(i){return i===-1}_applyEllipses(i,r){this.ellipses&&(i>0&&(i>2?this.pages.unshift(-1):i===2&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let i=0,r=this.pageCount,s=Math.floor(this.maxSize/2),o=this.maxSize%2===0?s-1:s;return this.page<=s?r=this.maxSize:this.pageCount-this.page<s?i=this.pageCount-this.maxSize:(i=this.page-s-1,r=this.page+o),[i,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize,s=r+this.maxSize;return[r,s]}_setPageInRange(i){let r=this.page;this.page=IG(i,this.pageCount,1),this.page!==r&&oM(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(i){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),oM(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(i),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,s=this.pageCount;this.rotate?[r,s]=this._applyRotation():[r,s]=this._applyPagination(),this.pages=this.pages.slice(r,s),this._applyEllipses(r,s)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Re({type:e,selectors:[["ngb-pagination"]],contentQueries:function(r,s,o){if(r&1&&(In(o,HG,5),In(o,GG,5),In(o,zG,5),In(o,qG,5),In(o,WG,5),In(o,QG,5),In(o,KG,5)),r&2){let a;nn(a=rn())&&(s.tplEllipsis=a.first),nn(a=rn())&&(s.tplFirst=a.first),nn(a=rn())&&(s.tplLast=a.first),nn(a=rn())&&(s.tplNext=a.first),nn(a=rn())&&(s.tplNumber=a.first),nn(a=rn())&&(s.tplPrevious=a.first),nn(a=rn())&&(s.tplPages=a.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[en,gi],decls:20,vars:12,consts:()=>{let i;i=$localize`:@@ngb.pagination.first:««`;let r;r=$localize`:@@ngb.pagination.previous:«`;let s;s=$localize`:@@ngb.pagination.next:»`;let o;o=$localize`:@@ngb.pagination.last:»»`;let a;a=$localize`:@@ngb.pagination.first-aria:First`;let c;c=$localize`:@@ngb.pagination.previous-aria:Previous`;let u;u=$localize`:@@ngb.pagination.next-aria:Next`;let d;return d=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],i,r,s,o,[1,"page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],[1,"page-item",3,"active","disabled"],[1,"page-item"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"],["aria-label",u,"href","",1,"page-link",3,"click"],["aria-label",d,"href","",1,"page-link",3,"click"]]},template:function(r,s){if(r&1&&(xe(0,X4,2,0,"ng-template",null,0,_i)(2,eG,2,0,"ng-template",null,1,_i)(4,tG,2,0,"ng-template",null,2,_i)(6,nG,2,0,"ng-template",null,3,_i)(8,iG,1,0,"ng-template",null,4,_i)(10,rG,1,1,"ng-template",null,5,_i)(12,uG,2,0,"ng-template",null,6,_i),E(14,"ul"),xe(15,hG,3,9,"li",11)(16,pG,3,8,"li",11)(17,mG,0,0,"ng-template",12)(18,_G,3,9,"li",11)(19,vG,3,9,"li",11),A()),r&2){let o=Kn(13);L(14),mn("pagination"+(s.size?" pagination-"+s.size:"")),L(),Ys(15,s.boundaryLinks?15:-1),L(),Ys(16,s.directionLinks?16:-1),L(),Y("ngTemplateOutlet",(s.tplPages==null?null:s.tplPages.templateRef)||o)("ngTemplateOutletContext",iv(8,K4,s.page,s.pages,s.disabled)),L(),Ys(18,s.directionLinks?18:-1),L(),Ys(19,s.boundaryLinks?19:-1)}},dependencies:[wv],encapsulation:2,changeDetection:0});let t=e;return t})();var TM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var CM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var SM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var AM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var RM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var MM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var NM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var xM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var Pie=new G("live announcer delay",{providedIn:"root",factory:()=>100});var OM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var PM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({});let t=e;return t})(),YG=[dM,hM,fM,pM,gM,_M,yM,EM,PM,TM,CM,SM,AM,RM,MM,NM,xM,OM],kie=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({imports:[YG,dM,hM,fM,pM,gM,_M,yM,EM,PM,TM,CM,SM,AM,RM,MM,NM,xM,OM]});let t=e;return t})();var LM=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},JG=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},VM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,d=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|u>>6,_=u&63;c||(_=64,o||(m=64)),i.push(n[d],n[p],n[m],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let u=r<t.length?n[t.charAt(r)]:64;++r;let p=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||p==null)throw new B0;let m=s<<2|a>>4;if(i.push(m),u!==64){let _=a<<4&240|u>>2;if(i.push(_),p!==64){let D=u<<6&192|p;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},B0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ZG=function(t){let e=LM(t);return VM.encodeByteArray(e,!0)},Ql=function(t){return ZG(t).replace(/\./g,"")},j0=function(t){try{return VM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ez=()=>XG().__FIREBASE_DEFAULTS__,tz=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&j0(t[1]);return e&&JSON.parse(e)},$f=()=>{try{return ez()||tz()||nz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$0=t=>{var e,n;return(n=(e=$f())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Hf=t=>{let e=$0(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},H0=()=>{var t;return(t=$f())===null||t===void 0?void 0:t.config},G0=t=>{var e;return(e=$f())===null||e===void 0?void 0:e[`_${t}`]};var jf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function Gf(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ql(JSON.stringify(n)),Ql(JSON.stringify(o)),""].join(".")}function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function iz(){var t;let e=(t=$f())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UM(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $M(){let t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HM(){return!iz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z0(){try{return typeof indexedDB=="object"}catch{return!1}}function GM(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var rz="FirebaseError",on=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=rz,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cr.prototype.create)}},cr=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?sz(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new on(r,a,i)}};function sz(t,e){return t.replace(oz,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var oz=/\{\$([^}]+)}/g;function zM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lr(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(FM(s)&&FM(o)){if(!lr(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function FM(t){return t!==null&&typeof t=="object"}function Kl(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ua(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function ja(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function qM(t,e){let n=new U0(t,e);return n.subscribe.bind(n)}var U0=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");az(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=V0),r.error===void 0&&(r.error=V0),r.complete===void 0&&(r.complete=V0);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function az(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function V0(){}var Lie=4*60*60*1e3;function ke(t){return t&&t._delegate?t._delegate:t}var gn=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ao="[DEFAULT]";var q0=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new jf;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lz(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:cz(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cz(t){return t===ao?void 0:t}function lz(t){return t.instantiationMode==="EAGER"}var zf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new q0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var uz=[],Ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ce||{}),dz={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},hz=Ce.INFO,fz={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},pz=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=fz[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ss=class{constructor(e){this.name=e,this._logLevel=hz,this._logHandler=pz,this._userLogHandler=null,uz.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}};var mz=(t,e)=>e.some(n=>t instanceof n),WM,QM;function gz(){return WM||(WM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _z(){return QM||(QM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var KM=new WeakMap,Q0=new WeakMap,YM=new WeakMap,W0=new WeakMap,Y0=new WeakMap;function yz(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ei(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&KM.set(n,t)}).catch(()=>{}),Y0.set(e,t),e}function vz(t){if(Q0.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Q0.set(t,e)}var K0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Q0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JM(t){K0=t(K0)}function wz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(qf(this),e,...n);return YM.set(i,e.sort?e.sort():[e]),Ei(i)}:_z().includes(t)?function(...e){return t.apply(qf(this),e),Ei(KM.get(this))}:function(...e){return Ei(t.apply(qf(this),e))}}function bz(t){return typeof t=="function"?wz(t):(t instanceof IDBTransaction&&vz(t),mz(t,gz())?new Proxy(t,K0):t)}function Ei(t){if(t instanceof IDBRequest)return yz(t);if(W0.has(t))return W0.get(t);let e=bz(t);return e!==t&&(W0.set(t,e),Y0.set(e,t)),e}var qf=t=>Y0.get(t);function XM(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=Ei(o);return i&&o.addEventListener("upgradeneeded",c=>{i(Ei(o.result),c.oldVersion,c.newVersion,Ei(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Iz=["get","getKey","getAll","getAllKeys","count"],Ez=["put","add","delete","clear"],J0=new Map;function ZM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(J0.get(e))return J0.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=Ez.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Iz.includes(n)))return;let s=function(o,...a){return v(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),u=c.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),r&&c.done]))[0]})};return J0.set(e,s),s}JM(t=>be(B({},t),{get:(e,n,i)=>ZM(e,n)||t.get(e,n,i),has:(e,n)=>!!ZM(e,n)||t.has(e,n)}));var X0=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dz(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function Dz(t){let e=t.getComponent();return e?.type==="VERSION"}var ew="@firebase/app",eN="0.10.6";var co=new ss("@firebase/app"),Tz="@firebase/app-compat",Cz="@firebase/analytics-compat",Sz="@firebase/analytics",Az="@firebase/app-check-compat",Rz="@firebase/app-check",Mz="@firebase/auth",Nz="@firebase/auth-compat",xz="@firebase/database",Oz="@firebase/database-compat",Pz="@firebase/functions",kz="@firebase/functions-compat",Fz="@firebase/installations",Lz="@firebase/installations-compat",Vz="@firebase/messaging",Bz="@firebase/messaging-compat",Uz="@firebase/performance",jz="@firebase/performance-compat",$z="@firebase/remote-config",Hz="@firebase/remote-config-compat",Gz="@firebase/storage",zz="@firebase/storage-compat",qz="@firebase/firestore",Wz="@firebase/vertexai-preview",Qz="@firebase/firestore-compat",Kz="firebase",Yz="10.12.3";var tw="[DEFAULT]",Jz={[ew]:"fire-core",[Tz]:"fire-core-compat",[Sz]:"fire-analytics",[Cz]:"fire-analytics-compat",[Rz]:"fire-app-check",[Az]:"fire-app-check-compat",[Mz]:"fire-auth",[Nz]:"fire-auth-compat",[xz]:"fire-rtdb",[Oz]:"fire-rtdb-compat",[Pz]:"fire-fn",[kz]:"fire-fn-compat",[Fz]:"fire-iid",[Lz]:"fire-iid-compat",[Vz]:"fire-fcm",[Bz]:"fire-fcm-compat",[Uz]:"fire-perf",[jz]:"fire-perf-compat",[$z]:"fire-rc",[Hz]:"fire-rc-compat",[Gz]:"fire-gcs",[zz]:"fire-gcs-compat",[qz]:"fire-fst",[Qz]:"fire-fst-compat",[Wz]:"fire-vertex","fire-js":"fire-js",[Kz]:"fire-js-all"};var Yl=new Map,Zz=new Map,nw=new Map;function tN(t,e){try{t.container.addComponent(e)}catch(n){co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Di(t){let e=t.name;if(nw.has(e))return co.debug(`There were multiple attempts to register component ${e}.`),!1;nw.set(e,t);for(let n of Yl.values())tN(n,t);for(let n of Zz.values())tN(n,t);return!0}function lo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ti(t){return t.settings!==void 0}var Xz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new cr("app","Firebase",Xz);var iw=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}};var Ci=Yz;function ow(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:tw,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw os.create("bad-app-name",{appName:String(r)});if(n||(n=H0()),!n)throw os.create("no-options");let s=Yl.get(r);if(s){if(lr(n,s.options)&&lr(i,s.config))return s;throw os.create("duplicate-app",{appName:r})}let o=new zf(r);for(let c of nw.values())o.addComponent(c);let a=new iw(n,i,o);return Yl.set(r,a),a}function as(t=tw){let e=Yl.get(t);if(!e&&t===tw&&H0())return ow();if(!e)throw os.create("no-app",{appName:t});return e}function Wf(){return Array.from(Yl.values())}function Ye(t,e,n){var i;let r=(i=Jz[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),co.warn(a.join(" "));return}Di(new gn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var eq="firebase-heartbeat-database",tq=1,Jl="firebase-heartbeat-store",Z0=null;function sN(){return Z0||(Z0=XM(eq,tq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(t=>{throw os.create("idb-open",{originalErrorMessage:t.message})})),Z0}function nq(t){return v(this,null,function*(){try{let n=(yield sN()).transaction(Jl),i=yield n.objectStore(Jl).get(oN(t));return yield n.done,i}catch(e){if(e instanceof on)co.warn(e.message);else{let n=os.create("idb-get",{originalErrorMessage:e?.message});co.warn(n.message)}}})}function nN(t,e){return v(this,null,function*(){try{let i=(yield sN()).transaction(Jl,"readwrite");yield i.objectStore(Jl).put(e,oN(t)),yield i.done}catch(n){if(n instanceof on)co.warn(n.message);else{let i=os.create("idb-set",{originalErrorMessage:n?.message});co.warn(i.message)}}})}function oN(t){return`${t.name}!${t.options.appId}`}var iq=1024,rq=30*24*60*60*1e3,rw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new sw(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return v(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iN();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=rq}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return v(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=iN(),{heartbeatsToSend:i,unsentEntries:r}=sq(this._heartbeatsCache.heartbeats),s=Ql(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function iN(){return new Date().toISOString().substring(0,10)}function sq(t,e=iq){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),rN(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),rN(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var sw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return z0()?GM().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield nq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return nN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return nN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function rN(t){return Ql(JSON.stringify({version:2,heartbeats:t})).length}function oq(t){Di(new gn("platform-logger",e=>new X0(e),"PRIVATE")),Di(new gn("heartbeat",e=>new rw(e),"PRIVATE")),Ye(ew,eN,t),Ye(ew,eN,"esm2017"),Ye("fire-js","")}oq("");var aq="firebase",cq="10.12.3";Ye(aq,cq,"app");var ur=new Ki("ANGULARFIRE2_VERSION");function Ha(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ho=(t,e)=>{let n=e?[e]:Wf(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},cs=class{constructor(){return ho(lq)}},lq="app-check";function $a(){}var Qf=class{zone;delegate;constructor(e,n=wg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},aw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$a,{},$a,$a)),n.pipe(it({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ls=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Qf(Zone.current)),this.insideAngular=n.run(()=>new Qf(Zone.current,ad)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(H(de))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kf(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function uq(t){return Kf().ngZone.runOutsideAngular(()=>t())}function uo(t){return Kf().ngZone.run(()=>t())}function dq(t){return hq(Kf())(t)}function hq(t){return function(n){return n=n.lift(new aw(t.ngZone)),n.pipe(Nr(t.outsideAngular),Mr(t.insideAngular))}}var fq=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),uo(()=>t.apply(void 0,i))},Pe=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=uo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$a,{},$a,$a))),i[s]=fq(i[s],n));let r=uq(()=>t.apply(this,i));if(!e)if(r instanceof ne){let s=Kf();return r.pipe(Nr(s.outsideAngular),Mr(s.insideAngular))}else return uo(()=>r);return r instanceof ne?r.pipe(dq):r instanceof Promise?uo(()=>new Promise((s,o)=>r.then(a=>uo(()=>s(a)),a=>uo(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:uo(()=>r)};var ei=class{constructor(e){return e}},dr=class{constructor(){return Wf()}};function pq(t){return t&&t.length===1?t[0]:new ei(as())}var cw=new G("angularfire2._apps"),mq={provide:ei,useFactory:pq,deps:[[new lt,cw]]},gq={provide:dr,deps:[[new lt,cw]]};function _q(t){return(e,n)=>{let i=n.get(wn);Ye("angularfire",ur.full,"core"),Ye("angularfire",ur.full,"app"),Ye("angular",QS.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new ei(r)}}function Ere(t,...e){return fn([mq,gq,{provide:cw,useFactory:_q(t),multi:!0,deps:[de,Ue,ls,...e]}])}var Dre=Pe(ow,!0);function EN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var DN=EN,TN=new cr("auth","Firebase",EN());var tp=new ss("@firebase/auth");function yq(t,...e){tp.logLevel<=Ce.WARN&&tp.warn(`Auth (${Ci}): ${t}`,...e)}function Jf(t,...e){tp.logLevel<=Ce.ERROR&&tp.error(`Auth (${Ci}): ${t}`,...e)}function Ai(t,...e){throw Nw(t,...e)}function fo(t,...e){return Nw(t,...e)}function CN(t,e,n){let i=Object.assign(Object.assign({},DN()),{[e]:n});return new cr("auth","Firebase",i).create(e,{appName:t.name})}function ds(t){return CN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nw(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return TN.create(t,...e)}function oe(t,e,...n){if(!t)throw Nw(e,...n)}function hr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Jf(e),new Error(e)}function hs(t,e){t||hr(e)}function hw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vq(){return aN()==="http:"||aN()==="https:"}function aN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function wq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vq()||UM()||"connection"in navigator)?navigator.onLine:!0}function bq(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var po=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=BM()||jM()}get(){return wq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function xw(t,e){hs(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var np=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Iq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Eq=new po(3e4,6e4);function fs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ri(s,o,a,c){return v(this,arguments,function*(t,e,n,i,r={}){return SN(t,r,()=>v(this,null,function*(){let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});let p=Kl(Object.assign({key:t.config.apiKey},d)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),np.fetch()(AN(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},u))}))})}function SN(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},Iq),e);try{let r=new fw(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Yf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yf(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Yf(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Yf(t,"user-disabled",o);let d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw CN(t,d,u);Ai(t,d)}}catch(r){if(r instanceof on)throw r;Ai(t,"network-request-failed",{message:String(r)})}})}function hp(s,o,a,c){return v(this,arguments,function*(t,e,n,i,r={}){let u=yield Ri(t,e,n,i,r);return"mfaPendingCredential"in u&&Ai(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function AN(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?xw(t.config,r):`${t.config.apiScheme}://${r}`}function Dq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var fw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(fo(this.auth,"network-request-failed")),Eq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Yf(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=fo(t,e,i);return r.customData._tokenResponse=n,r}function cN(t){return t!==void 0&&t.enterprise!==void 0}var pw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Dq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Tq(t,e){return v(this,null,function*(){return Ri(t,"GET","/v2/recaptchaConfig",fs(t,e))})}function Cq(t,e){return v(this,null,function*(){return Ri(t,"POST","/v1/accounts:delete",e)})}function RN(t,e){return v(this,null,function*(){return Ri(t,"POST","/v1/accounts:lookup",e)})}function Zl(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ow(t,e=!1){return v(this,null,function*(){let n=ke(t),i=yield n.getIdToken(e),r=Pw(i);oe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Zl(lw(r.auth_time)),issuedAtTime:Zl(lw(r.iat)),expirationTime:Zl(lw(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function lw(t){return Number(t)*1e3}function Pw(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Jf("JWT malformed, contained fewer than 3 sections"),null;try{let r=j0(n);return r?JSON.parse(r):(Jf("Failed to decode base64 JWT payload"),null)}catch(r){return Jf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function lN(t){let e=Pw(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ga(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof on&&Sq(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function Sq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var mw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var eu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ip(t){return v(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield Ga(t,RN(n,{idToken:i}));oe(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?MN(s.providerUserInfo):[],a=Aq(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=c?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eu(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)})}function kw(t){return v(this,null,function*(){let e=ke(t);yield ip(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Aq(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function MN(t){return t.map(e=>{var{providerId:n}=e,i=bg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function Rq(t,e){return v(this,null,function*(){let n=yield SN(t,{},()=>v(this,null,function*(){let i=Kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=AN(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",np.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Mq(t,e){return v(this,null,function*(){return Ri(t,"POST","/v2/accounts:revokeToken",fs(t,e))})}var Xl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");let n=lN(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield Rq(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(oe(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(oe(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return hr("not implemented")}};function us(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var za=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield Ga(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ow(this,e)}reload(){return kw(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ip(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Ti(this.auth.app))return Promise.reject(ds(this.auth));let e=yield this.getIdToken();return yield Ga(this,Cq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,c,u,d;let p=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,D=(o=n.photoURL)!==null&&o!==void 0?o:void 0,O=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,k=(u=n.createdAt)!==null&&u!==void 0?u:void 0,Q=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:W,emailVerified:z,isAnonymous:Te,providerData:re,stsTokenManager:I}=n;oe(W&&I,e,"internal-error");let y=Xl.fromJSON(this.name,I);oe(typeof W=="string",e,"internal-error"),us(p,e.name),us(m,e.name),oe(typeof z=="boolean",e,"internal-error"),oe(typeof Te=="boolean",e,"internal-error"),us(_,e.name),us(D,e.name),us(O,e.name),us(R,e.name),us(k,e.name),us(Q,e.name);let w=new t({uid:W,auth:e,email:m,emailVerified:z,displayName:p,isAnonymous:Te,photoURL:D,phoneNumber:_,tenantId:O,stsTokenManager:y,createdAt:k,lastLoginAt:Q});return re&&Array.isArray(re)&&(w.providerData=re.map(T=>Object.assign({},T))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(e,n,i=!1){return v(this,null,function*(){let r=new Xl;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield ip(s),s})}static _fromGetAccountInfoResponse(e,n,i){return v(this,null,function*(){let r=n.users[0];oe(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?MN(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Xl;a.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new eu(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var uN=new Map;function fr(t){hs(t instanceof Function,"Expected a class definition");let e=uN.get(t);return e?(hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uN.set(t,e),e)}var Nq=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,i){return v(this,null,function*(){this.storage[n]=i})}_get(n){return v(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),gw=Nq;function Zf(t,e,n){return`firebase:${t}:${e}:${n}`}var rp=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Zf(this.userKey,r.apiKey,s),this.fullPersistenceKey=Zf("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?za._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return v(this,null,function*(){if(!n.length)return new t(fr(gw),e,i);let r=(yield Promise.all(n.map(u=>v(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||fr(gw),o=Zf(i,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let p=za._fromJSON(e,d);u!==s&&(a=p),s=u;break}}catch{}let c=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>v(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,i))})}};function dN(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ON(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kN(e))return"Blackberry";if(FN(e))return"Webos";if(Fw(e))return"Safari";if((e.includes("chrome/")||xN(e))&&!e.includes("edge/"))return"Chrome";if(PN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function NN(t=vt()){return/firefox\//i.test(t)}function Fw(t=vt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xN(t=vt()){return/crios\//i.test(t)}function ON(t=vt()){return/iemobile/i.test(t)}function PN(t=vt()){return/android/i.test(t)}function kN(t=vt()){return/blackberry/i.test(t)}function FN(t=vt()){return/webos/i.test(t)}function fp(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xq(t=vt()){var e;return fp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Oq(){return $M()&&document.documentMode===10}function LN(t=vt()){return fp(t)||PN(t)||FN(t)||kN(t)||/windows phone/i.test(t)||ON(t)}function Pq(){try{return!!(window&&window!==window.top)}catch{return!1}}function VN(t,e=[]){let n;switch(t){case"Browser":n=dN(vt());break;case"Worker":n=`${dN(vt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ci}/${i}`}var _w=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function kq(n){return v(this,arguments,function*(t,e={}){return Ri(t,"GET","/v2/passwordPolicy",fs(t,e))})}var Fq=6,yw=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Fq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var vw=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sp(this),this.idTokenSubscription=new sp(this),this.beforeStateQueue=new _w(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield rp.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield RN(this,{idToken:e}),i=yield za._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(Ti(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield ip(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=bq()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Ti(this.app))return Promise.reject(ds(this));let n=e?ke(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Ti(this.app)?Promise.reject(ds(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ti(this.app)?Promise.reject(ds(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(fr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield kq(this),n=new yw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield Mq(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&fr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=yield rp.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return v(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&yq(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function go(t){return ke(t)}var sp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=qM(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var pp={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lq(t){pp=t}function BN(t){return pp.loadJS(t)}function Vq(){return pp.recaptchaEnterpriseScript}function Bq(){return pp.gapiScript}function UN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Uq="recaptcha-enterprise",jq="NO_RECAPTCHA",ww=class{constructor(e){this.type=Uq,this.auth=go(e)}verify(e="verify",n=!1){return v(this,null,function*(){function i(s){return v(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>v(this,null,function*(){Tq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new pw(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function r(s,o,a){let c=window.grecaptcha;cN(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(jq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&cN(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Vq();c.length!==0&&(c+=a),BN(c).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function hN(t,e,n,i=!1){return v(this,null,function*(){let r=new ww(t),s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function bw(t,e,n,i){return v(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield hN(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(s=>v(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield hN(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)}))})}function Lw(t,e){let n=lo(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(lr(s,e??{}))return r;Ai(r,"already-initialized")}return n.initialize({options:e})}function $q(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(fr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function Vw(t,e,n){let i=go(t);oe(i._canInitEmulator,i,"emulator-config-failed"),oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=jN(e),{host:o,port:a}=Hq(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Gq()}function jN(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Hq(t){let e=jN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:fN(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:fN(o)}}}function fN(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Gq(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var tu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,n){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}};function zq(t,e){return v(this,null,function*(){return Ri(t,"POST","/v1/accounts:update",e)})}function qq(t,e){return v(this,null,function*(){return Ri(t,"POST","/v1/accounts:signUp",e)})}function Wq(t,e){return v(this,null,function*(){return hp(t,"POST","/v1/accounts:signInWithPassword",fs(t,e))})}function Qq(t,e){return v(this,null,function*(){return Ri(t,"POST","/v1/accounts:sendOobCode",fs(t,e))})}function Kq(t,e){return v(this,null,function*(){return Qq(t,e)})}function Yq(t,e){return v(this,null,function*(){return hp(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))})}function Jq(t,e){return v(this,null,function*(){return hp(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))})}var nu=class t extends tu{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bw(e,n,"signInWithPassword",Wq);case"emailLink":return Yq(e,{email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bw(e,i,"signUpPassword",qq);case"emailLink":return Jq(e,{idToken:n,email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function uw(t,e){return v(this,null,function*(){return hp(t,"POST","/v1/accounts:signInWithIdp",fs(t,e))})}function Zq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Xq(t){let e=Ua(ja(t)).link,n=e?Ua(ja(e)).deep_link_id:null,i=Ua(ja(t)).deep_link_id;return(i?Ua(ja(i)).link:null)||i||n||e||t}var op=class t{constructor(e){var n,i,r,s,o,a;let c=Ua(ja(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(i=c.oobCode)!==null&&i!==void 0?i:null,p=Zq((r=c.mode)!==null&&r!==void 0?r:null);oe(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Xq(e);try{return new t(n)}catch{return null}}};var mp=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return nu._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=op.parseLink(i);return oe(r,"argument-error"),nu._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),ap=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Iw=class extends ap{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var iu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return v(this,null,function*(){let s=yield za._fromIdTokenResponse(e,i,r),o=pN(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return v(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=pN(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function pN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Ew=class t extends on{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function $N(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ew._fromErrorAndOperation(t,s,e,i):s})}function e5(t,e,n=!1){return v(this,null,function*(){let i=yield Ga(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return iu._forOperation(t,"link",i)})}function HN(t,e,n=!1){return v(this,null,function*(){let{auth:i}=t;if(Ti(i.app))return Promise.reject(ds(i));let r="reauthenticate";try{let s=yield Ga(t,$N(i,r,e,t),n);oe(s.idToken,i,"internal-error");let o=Pw(s.idToken);oe(o,i,"internal-error");let{sub:a}=o;return oe(t.uid===a,i,"user-mismatch"),iu._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ai(i,"user-mismatch"),s}})}function GN(t,e,n=!1){return v(this,null,function*(){if(Ti(t.app))return Promise.reject(ds(t));let i="signIn",r=yield $N(t,i,e),s=yield iu._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function Bw(t,e){return v(this,null,function*(){return GN(go(t),e)})}function Uw(t,e){return v(this,null,function*(){return HN(ke(t),e)})}function t5(t,e,n){var i;oe(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),oe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(oe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(oe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function n5(t){return v(this,null,function*(){let e=go(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function jw(t,e,n){return v(this,null,function*(){let i=go(t),r={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&t5(i,r,n),yield bw(i,r,"getOobCode",Kq)})}function gp(t,e,n){return Ti(t.app)?Promise.reject(ds(t)):Bw(ke(t),mp.credential(e,n)).catch(i=>v(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&n5(t),i}))}function $w(t,e){return i5(ke(t),null,e)}function i5(t,e,n){return v(this,null,function*(){let{auth:i}=t,s={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);let o=yield Ga(t,zq(i,s));yield t._updateTokensIfNecessary(o,!0)})}function _p(t,e,n,i){return ke(t).onIdTokenChanged(e,n,i)}function Hw(t,e,n){return ke(t).beforeAuthStateChanged(e,n)}function yp(t,e,n,i){return ke(t).onAuthStateChanged(e,n,i)}function Gw(t){return ke(t).signOut()}var cp="__sak";var lp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cp,"1"),this.storage.removeItem(cp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function r5(){let t=vt();return Fw(t)||fp(t)}var s5=1e3,o5=10,a5=(()=>{class t extends lp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=r5()&&Pq(),this.fallbackToPolling=LN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);Oq()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,o5):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},s5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return v(this,null,function*(){yield Cr(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return v(this,null,function*(){let i=yield Cr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return v(this,null,function*(){yield Cr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),zN=a5;var c5=(()=>{class t extends lp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),zw=c5;function l5(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var u5=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(d=>v(this,null,function*(){return d(i.origin,o)})),u=yield l5(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function qN(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var Dw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return v(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=qN("",20);r.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(p){let m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Si(){return window}function d5(t){Si().location.href=t}function WN(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}function h5(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function f5(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function p5(){return WN()?self:null}var QN="firebaseLocalStorageDb",m5=1,up="firebaseLocalStorage",KN="fbase_key",mo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function vp(t,e){return t.transaction([up],e?"readwrite":"readonly").objectStore(up)}function g5(){let t=indexedDB.deleteDatabase(QN);return new mo(t).toPromise()}function Tw(){let t=indexedDB.open(QN,m5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(up,{keyPath:KN})}catch(r){n(r)}}),t.addEventListener("success",()=>v(this,null,function*(){let i=t.result;i.objectStoreNames.contains(up)?e(i):(i.close(),yield g5(),e(yield Tw()))}))})}function mN(t,e,n){return v(this,null,function*(){let i=vp(t,!0).put({[KN]:e,value:n});return new mo(i).toPromise()})}function _5(t,e){return v(this,null,function*(){let n=vp(t,!1).get(e),i=yield new mo(n).toPromise();return i===void 0?null:i.value})}function gN(t,e){let n=vp(t,!0).delete(e);return new mo(n).toPromise()}var y5=800,v5=3,w5=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield Tw(),this.db)})}_withRetries(n){return v(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>v5)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return WN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=u5._getInstance(p5()),this.receiver._subscribe("keyChanged",(n,i)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,i;if(this.activeServiceWorker=yield h5(),!this.activeServiceWorker)return;this.sender=new Dw(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||f5()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Tw();return yield mN(n,cp,"1"),yield gN(n,cp),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>mN(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let i=yield this._withRetries(r=>_5(r,n));return this.localCache[n]=i,i})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>gN(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(s=>{let o=vp(s,!1).getAll();return new mo(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),y5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),YN=w5;var xre=UN("rcb"),Ore=new po(3e4,6e4);function b5(t,e){return e?fr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ru=class extends tu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uw(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uw(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uw(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function I5(t){return GN(t.auth,new ru(t),t.bypassAuthState)}function E5(t){let{auth:e,user:n}=t;return oe(n,e,"internal-error"),HN(n,new ru(t),t.bypassAuthState)}function D5(t){return v(this,null,function*(){let{auth:e,user:n}=t;return oe(n,e,"internal-error"),e5(n,new ru(t),t.bypassAuthState)})}var Cw=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I5;case"linkViaPopup":case"linkViaRedirect":return D5;case"reauthViaPopup":case"reauthViaRedirect":return E5;default:Ai(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Pre=new po(2e3,1e4);var T5="pendingRedirect",Xf=new Map,Sw=class t extends Cw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return v(this,null,function*(){let e=Xf.get(this.auth._key());if(!e){try{let i=(yield C5(this.resolver,this.auth))?yield Cr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Xf.set(this.auth._key(),e)}return this.bypassAuthState||Xf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Cr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Cr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function C5(t,e){return v(this,null,function*(){let n=R5(e),i=A5(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function S5(t,e){Xf.set(t._key(),e)}function A5(t){return fr(t._redirectPersistence)}function R5(t){return Zf(T5,t.config.apiKey,t.name)}function M5(t,e,n=!1){return v(this,null,function*(){if(Ti(t.app))return Promise.reject(ds(t));let i=go(t),r=b5(i,e),o=yield new Sw(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var N5=10*60*1e3,Aw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!JN(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(fo(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_N(e))}saveEventToCache(e){this.cachedEventUids.add(_N(e)),this.lastProcessedEventTime=Date.now()}};function _N(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function x5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JN(t);default:return!1}}function O5(n){return v(this,arguments,function*(t,e={}){return Ri(t,"GET","/v1/projects",e)})}var P5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k5=/^https?/;function F5(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield O5(t);for(let n of e)try{if(L5(n))return}catch{}Ai(t,"unauthorized-domain")})}function L5(t){let e=hw(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!k5.test(n))return!1;if(P5.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var V5=new po(3e4,6e4);function yN(){let t=Si().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function B5(t){return new Promise((e,n)=>{var i,r,s;function o(){yN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yN(),n(fo(t,"network-request-failed"))},timeout:V5.get()})}if(!((r=(i=Si().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Si().gapi)===null||s===void 0)&&s.load)o();else{let a=UN("iframefcb");return Si()[a]=()=>{gapi.load?o():n(fo(t,"network-request-failed"))},BN(`${Bq()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ep=null,e})}var ep=null;function U5(t){return ep=ep||B5(t),ep}var j5=new po(5e3,15e3),$5="__/auth/iframe",H5="emulator/auth/iframe",G5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q5(t){let e=t.config;oe(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?xw(e,H5):`https://${t.config.authDomain}/${$5}`,i={apiKey:e.apiKey,appName:t.name,v:Ci},r=z5.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Kl(i).slice(1)}`}function W5(t){return v(this,null,function*(){let e=yield U5(t),n=Si().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:q5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G5,dontclear:!0},i=>new Promise((r,s)=>v(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=fo(t,"network-request-failed"),a=Si().setTimeout(()=>{s(o)},j5.get());function c(){Si().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var Q5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K5=500,Y5=600,J5="_blank",Z5="http://localhost",dp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function X5(t,e,n,i=K5,r=Y5){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},Q5),{width:i.toString(),height:r.toString(),top:s,left:o}),u=vt().toLowerCase();n&&(a=xN(u)?J5:n),NN(u)&&(e=e||Z5,c.scrollbars="yes");let d=Object.entries(c).reduce((m,[_,D])=>`${m}${_}=${D},`,"");if(xq(u)&&a!=="_self")return e6(e||"",a),new dp(null);let p=window.open(e||"",a,d);oe(p,t,"popup-blocked");try{p.focus()}catch{}return new dp(p)}function e6(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var t6="__/auth/handler",n6="emulator/auth/handler",i6=encodeURIComponent("fac");function vN(t,e,n,i,r,s){return v(this,null,function*(){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ci,eventId:r};if(e instanceof ap){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(s||{}))o[d]=p}if(e instanceof Iw){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),u=c?`#${i6}=${encodeURIComponent(c)}`:"";return`${r6(t)}?${Kl(a).slice(1)}${u}`})}function r6({config:t}){return t.emulator?xw(t,n6):`https://${t.authDomain}/${t6}`}var dw="webStorageSupport",Rw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zw,this._completeRedirectFn=M5,this._overrideRedirectResult=S5}_openPopup(e,n,i,r){return v(this,null,function*(){var s;hs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield vN(e,n,i,hw(),r);return X5(e,o,qN())})}_openRedirect(e,n,i,r){return v(this,null,function*(){yield this._originValidation(e);let s=yield vN(e,n,i,hw(),r);return d5(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(hs(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return v(this,null,function*(){let n=yield W5(e),i=new Aw(e);return n.register("authEvent",r=>(oe(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dw,{type:dw},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[dw];o!==void 0&&n(!!o),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LN()||Fw()||fp()}},ZN=Rw;var wN="@firebase/auth",bN="1.7.5";var Mw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function s6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o6(t){Di(new gn("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VN(t)},u=new vw(i,r,s,c);return $q(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Di(new gn("auth-internal",e=>{let n=go(e.getProvider("auth").getImmediate());return(i=>new Mw(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ye(wN,bN,s6(t)),Ye(wN,bN,"esm2017")}var a6=5*60,c6=G0("authIdTokenMaxAge")||a6,IN=null,l6=t=>e=>v(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>c6)return;let r=n?.token;IN!==r&&(IN=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function qw(t=as()){let e=lo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Lw(t,{popupRedirectResolver:ZN,persistence:[YN,zN,zw]}),i=G0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=l6(s.toString());Hw(n,o,()=>o(n.currentUser)),_p(n,a=>o(a))}}let r=$0("auth");return r&&Vw(n,`http://${r}`),n}function u6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Lq({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=fo("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",u6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o6("Browser");function ex(t){return new ne(function(e){var n=yp(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var tx="auth",_o=class{constructor(e){return e}},yo=class{constructor(){return ho(tx)}};var Ww=new G("angularfire2.auth-instances");function Y6(t,e){let n=Ha(tx,t,e);return n&&new _o(n)}function J6(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new _o(i)}}var Z6={provide:yo,deps:[[new lt,Ww]]},X6={provide:_o,useFactory:Y6,deps:[[new lt,Ww],ei]};function Ese(t,...e){return Ye("angularfire",ur.full,"auth"),fn([X6,Z6,{provide:Ww,useFactory:J6(t),multi:!0,deps:[de,Ue,ls,dr,[new lt,cs],...e]}])}var Dse=Pe(ex,!0);var Tse=Pe(qw,!0);var nx=Pe(Uw,!0);var ix=Pe(jw,!0);var rx=Pe(Gw,!0);var sx=Pe($w,!0);var ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ax={};var ps,Qw;(function(){var t;function e(I,y){function w(){}w.prototype=y.prototype,I.D=y.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(T,C,M){for(var b=Array(arguments.length-2),Vi=2;Vi<arguments.length;Vi++)b[Vi-2]=arguments[Vi];return y.prototype[C].apply(T,b)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,y,w){w||(w=0);var T=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)T[C]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(C=0;16>C;++C)T[C]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=I.g[0],w=I.g[1],C=I.g[2];var M=I.g[3],b=y+(M^w&(C^M))+T[0]+3614090360&4294967295;y=w+(b<<7&4294967295|b>>>25),b=M+(C^y&(w^C))+T[1]+3905402710&4294967295,M=y+(b<<12&4294967295|b>>>20),b=C+(w^M&(y^w))+T[2]+606105819&4294967295,C=M+(b<<17&4294967295|b>>>15),b=w+(y^C&(M^y))+T[3]+3250441966&4294967295,w=C+(b<<22&4294967295|b>>>10),b=y+(M^w&(C^M))+T[4]+4118548399&4294967295,y=w+(b<<7&4294967295|b>>>25),b=M+(C^y&(w^C))+T[5]+1200080426&4294967295,M=y+(b<<12&4294967295|b>>>20),b=C+(w^M&(y^w))+T[6]+2821735955&4294967295,C=M+(b<<17&4294967295|b>>>15),b=w+(y^C&(M^y))+T[7]+4249261313&4294967295,w=C+(b<<22&4294967295|b>>>10),b=y+(M^w&(C^M))+T[8]+1770035416&4294967295,y=w+(b<<7&4294967295|b>>>25),b=M+(C^y&(w^C))+T[9]+2336552879&4294967295,M=y+(b<<12&4294967295|b>>>20),b=C+(w^M&(y^w))+T[10]+4294925233&4294967295,C=M+(b<<17&4294967295|b>>>15),b=w+(y^C&(M^y))+T[11]+2304563134&4294967295,w=C+(b<<22&4294967295|b>>>10),b=y+(M^w&(C^M))+T[12]+1804603682&4294967295,y=w+(b<<7&4294967295|b>>>25),b=M+(C^y&(w^C))+T[13]+4254626195&4294967295,M=y+(b<<12&4294967295|b>>>20),b=C+(w^M&(y^w))+T[14]+2792965006&4294967295,C=M+(b<<17&4294967295|b>>>15),b=w+(y^C&(M^y))+T[15]+1236535329&4294967295,w=C+(b<<22&4294967295|b>>>10),b=y+(C^M&(w^C))+T[1]+4129170786&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^C&(y^w))+T[6]+3225465664&4294967295,M=y+(b<<9&4294967295|b>>>23),b=C+(y^w&(M^y))+T[11]+643717713&4294967295,C=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(C^M))+T[0]+3921069994&4294967295,w=C+(b<<20&4294967295|b>>>12),b=y+(C^M&(w^C))+T[5]+3593408605&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^C&(y^w))+T[10]+38016083&4294967295,M=y+(b<<9&4294967295|b>>>23),b=C+(y^w&(M^y))+T[15]+3634488961&4294967295,C=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(C^M))+T[4]+3889429448&4294967295,w=C+(b<<20&4294967295|b>>>12),b=y+(C^M&(w^C))+T[9]+568446438&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^C&(y^w))+T[14]+3275163606&4294967295,M=y+(b<<9&4294967295|b>>>23),b=C+(y^w&(M^y))+T[3]+4107603335&4294967295,C=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(C^M))+T[8]+1163531501&4294967295,w=C+(b<<20&4294967295|b>>>12),b=y+(C^M&(w^C))+T[13]+2850285829&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^C&(y^w))+T[2]+4243563512&4294967295,M=y+(b<<9&4294967295|b>>>23),b=C+(y^w&(M^y))+T[7]+1735328473&4294967295,C=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(C^M))+T[12]+2368359562&4294967295,w=C+(b<<20&4294967295|b>>>12),b=y+(w^C^M)+T[5]+4294588738&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^C)+T[8]+2272392833&4294967295,M=y+(b<<11&4294967295|b>>>21),b=C+(M^y^w)+T[11]+1839030562&4294967295,C=M+(b<<16&4294967295|b>>>16),b=w+(C^M^y)+T[14]+4259657740&4294967295,w=C+(b<<23&4294967295|b>>>9),b=y+(w^C^M)+T[1]+2763975236&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^C)+T[4]+1272893353&4294967295,M=y+(b<<11&4294967295|b>>>21),b=C+(M^y^w)+T[7]+4139469664&4294967295,C=M+(b<<16&4294967295|b>>>16),b=w+(C^M^y)+T[10]+3200236656&4294967295,w=C+(b<<23&4294967295|b>>>9),b=y+(w^C^M)+T[13]+681279174&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^C)+T[0]+3936430074&4294967295,M=y+(b<<11&4294967295|b>>>21),b=C+(M^y^w)+T[3]+3572445317&4294967295,C=M+(b<<16&4294967295|b>>>16),b=w+(C^M^y)+T[6]+76029189&4294967295,w=C+(b<<23&4294967295|b>>>9),b=y+(w^C^M)+T[9]+3654602809&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^C)+T[12]+3873151461&4294967295,M=y+(b<<11&4294967295|b>>>21),b=C+(M^y^w)+T[15]+530742520&4294967295,C=M+(b<<16&4294967295|b>>>16),b=w+(C^M^y)+T[2]+3299628645&4294967295,w=C+(b<<23&4294967295|b>>>9),b=y+(C^(w|~M))+T[0]+4096336452&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~C))+T[7]+1126891415&4294967295,M=y+(b<<10&4294967295|b>>>22),b=C+(y^(M|~w))+T[14]+2878612391&4294967295,C=M+(b<<15&4294967295|b>>>17),b=w+(M^(C|~y))+T[5]+4237533241&4294967295,w=C+(b<<21&4294967295|b>>>11),b=y+(C^(w|~M))+T[12]+1700485571&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~C))+T[3]+2399980690&4294967295,M=y+(b<<10&4294967295|b>>>22),b=C+(y^(M|~w))+T[10]+4293915773&4294967295,C=M+(b<<15&4294967295|b>>>17),b=w+(M^(C|~y))+T[1]+2240044497&4294967295,w=C+(b<<21&4294967295|b>>>11),b=y+(C^(w|~M))+T[8]+1873313359&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~C))+T[15]+4264355552&4294967295,M=y+(b<<10&4294967295|b>>>22),b=C+(y^(M|~w))+T[6]+2734768916&4294967295,C=M+(b<<15&4294967295|b>>>17),b=w+(M^(C|~y))+T[13]+1309151649&4294967295,w=C+(b<<21&4294967295|b>>>11),b=y+(C^(w|~M))+T[4]+4149444226&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~C))+T[11]+3174756917&4294967295,M=y+(b<<10&4294967295|b>>>22),b=C+(y^(M|~w))+T[2]+718787259&4294967295,C=M+(b<<15&4294967295|b>>>17),b=w+(M^(C|~y))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(C+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+M&4294967295}i.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var w=y-this.blockSize,T=this.B,C=this.h,M=0;M<y;){if(C==0)for(;M<=w;)r(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<y;)if(T[C++]=I.charCodeAt(M++),C==this.blockSize){r(this,T),C=0;break}}else for(;M<y;)if(T[C++]=I[M++],C==this.blockSize){r(this,T),C=0;break}}this.h=C,this.o+=y},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var w=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=w&255,w/=256;for(this.u(I),I=Array(16),y=w=0;4>y;++y)for(var T=0;32>T;T+=8)I[w++]=this.g[y]>>>T&255;return I};function s(I,y){var w=a;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=y(I)}function o(I,y){this.h=y;for(var w=[],T=!0,C=I.length-1;0<=C;C--){var M=I[C]|0;T&&M==y||(w[C]=M,T=!1)}this.g=w}var a={};function c(I){return-128<=I&&128>I?s(I,function(y){return new o([y|0],0>y?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return R(u(-I));for(var y=[],w=1,T=0;I>=w;T++)y[T]=I/w|0,w*=4294967296;return new o(y,0)}function d(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return R(d(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(y,8)),T=p,C=0;C<I.length;C+=8){var M=Math.min(8,I.length-C),b=parseInt(I.substring(C,C+M),y);8>M?(M=u(Math.pow(y,M)),T=T.j(M).add(u(b))):(T=T.j(w),T=T.add(u(b)))}return T}var p=c(0),m=c(1),_=c(16777216);t=o.prototype,t.m=function(){if(O(this))return-R(this).m();for(var I=0,y=1,w=0;w<this.g.length;w++){var T=this.i(w);I+=(0<=T?T:4294967296+T)*y,y*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D(this))return"0";if(O(this))return"-"+R(this).toString(I);for(var y=u(Math.pow(I,6)),w=this,T="";;){var C=z(w,y).g;w=k(w,C.j(y));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=C,D(w))return M+T;for(;6>M.length;)M="0"+M;T=M+T}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function D(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function O(I){return I.h==-1}t.l=function(I){return I=k(this,I),O(I)?-1:D(I)?0:1};function R(I){for(var y=I.g.length,w=[],T=0;T<y;T++)w[T]=~I.g[T];return new o(w,~I.h).add(m)}t.abs=function(){return O(this)?R(this):this},t.add=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],T=0,C=0;C<=y;C++){var M=T+(this.i(C)&65535)+(I.i(C)&65535),b=(M>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);T=b>>>16,M&=65535,b&=65535,w[C]=b<<16|M}return new o(w,w[w.length-1]&-2147483648?-1:0)};function k(I,y){return I.add(R(y))}t.j=function(I){if(D(this)||D(I))return p;if(O(this))return O(I)?R(this).j(R(I)):R(R(this).j(I));if(O(I))return R(this.j(R(I)));if(0>this.l(_)&&0>I.l(_))return u(this.m()*I.m());for(var y=this.g.length+I.g.length,w=[],T=0;T<2*y;T++)w[T]=0;for(T=0;T<this.g.length;T++)for(var C=0;C<I.g.length;C++){var M=this.i(T)>>>16,b=this.i(T)&65535,Vi=I.i(C)>>>16,vc=I.i(C)&65535;w[2*T+2*C]+=b*vc,Q(w,2*T+2*C),w[2*T+2*C+1]+=M*vc,Q(w,2*T+2*C+1),w[2*T+2*C+1]+=b*Vi,Q(w,2*T+2*C+1),w[2*T+2*C+2]+=M*Vi,Q(w,2*T+2*C+2)}for(T=0;T<y;T++)w[T]=w[2*T+1]<<16|w[2*T];for(T=y;T<2*y;T++)w[T]=0;return new o(w,0)};function Q(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function W(I,y){this.g=I,this.h=y}function z(I,y){if(D(y))throw Error("division by zero");if(D(I))return new W(p,p);if(O(I))return y=z(R(I),y),new W(R(y.g),R(y.h));if(O(y))return y=z(I,R(y)),new W(R(y.g),y.h);if(30<I.g.length){if(O(I)||O(y))throw Error("slowDivide_ only works with positive integers.");for(var w=m,T=y;0>=T.l(I);)w=Te(w),T=Te(T);var C=re(w,1),M=re(T,1);for(T=re(T,2),w=re(w,2);!D(T);){var b=M.add(T);0>=b.l(I)&&(C=C.add(w),M=b),T=re(T,1),w=re(w,1)}return y=k(I,C.j(y)),new W(C,y)}for(C=p;0<=I.l(y);){for(w=Math.max(1,Math.floor(I.m()/y.m())),T=Math.ceil(Math.log(w)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),M=u(w),b=M.j(y);O(b)||0<b.l(I);)w-=T,M=u(w),b=M.j(y);D(M)&&(M=m),C=C.add(M),I=k(I,b)}return new W(C,I)}t.A=function(I){return z(this,I).h},t.and=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)&I.i(T);return new o(w,this.h&I.h)},t.or=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)|I.i(T);return new o(w,this.h|I.h)},t.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)^I.i(T);return new o(w,this.h^I.h)};function Te(I){for(var y=I.g.length+1,w=[],T=0;T<y;T++)w[T]=I.i(T)<<1|I.i(T-1)>>>31;return new o(w,I.h)}function re(I,y){var w=y>>5;y%=32;for(var T=I.g.length-w,C=[],M=0;M<T;M++)C[M]=0<y?I.i(M+w)>>>y|I.i(M+w+1)<<32-y:I.i(M+w);return new o(C,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Qw=ax.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ps=ax.Integer=o}).apply(typeof ox<"u"?ox:typeof self<"u"?self:typeof window<"u"?window:{});var wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pr={};var Kw,Yw,qa,Jw,su,bp,Zw,Xw,eb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,f){return l==Array.prototype||l==Object.prototype||(l[h]=f.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof wp=="object"&&wp];for(var h=0;h<l.length;++h){var f=l[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(l,h){if(h)e:{var f=i;l=l.split(".");for(var g=0;g<l.length-1;g++){var S=l[g];if(!(S in f))break e;f=f[S]}l=l[l.length-1],g=f[l],h=h(g),h!=g&&h!=null&&e(f,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var f=0,g=!1,S={next:function(){if(!g&&f<l.length){var x=f++;return{value:h(x,l[x]),done:!1}}return g=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}r("Array.prototype.values",function(l){return l||function(){return s(this,function(h,f){return f})}});var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,f){return l.call.apply(l.bind,arguments)}function p(l,h,f){if(!l)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,g),l.apply(h,S)}}return function(){return l.apply(h,arguments)}}function m(l,h,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function _(l,h){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),l.apply(this,g)}}function D(l,h){function f(){}f.prototype=h.prototype,l.aa=h.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(g,S,x){for(var j=Array(arguments.length-2),je=2;je<arguments.length;je++)j[je-2]=arguments[je];return h.prototype[S].apply(g,j)}}function O(l){let h=l.length;if(0<h){let f=Array(h);for(let g=0;g<h;g++)f[g]=l[g];return f}return[]}function R(l,h){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(c(g)){let S=l.length||0,x=g.length||0;l.length=S+x;for(let j=0;j<x;j++)l[S+j]=g[j]}else l.push(g)}}class k{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function Q(l){return/^[\s\xa0]*$/.test(l)}function W(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function z(l){return z[" "](l),l}z[" "]=function(){};var Te=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function re(l,h,f){for(let g in l)h.call(f,l[g],g,l)}function I(l,h){for(let f in l)h.call(void 0,l[f],f,l)}function y(l){let h={};for(let f in l)h[f]=l[f];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,h){let f,g;for(let S=1;S<arguments.length;S++){g=arguments[S];for(f in g)l[f]=g[f];for(let x=0;x<w.length;x++)f=w[x],Object.prototype.hasOwnProperty.call(g,f)&&(l[f]=g[f])}}function C(l){var h=1;l=l.split(":");let f=[];for(;0<h&&l.length;)f.push(l.shift()),h--;return l.length&&f.push(l.join(":")),f}function M(l){a.setTimeout(()=>{throw l},0)}function b(){var l=Pm;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Vi{constructor(){this.h=this.g=null}add(h,f){let g=vc.get();g.set(h,f),this.h?this.h.next=g:this.g=g,this.h=g}}var vc=new k(()=>new gk,l=>l.reset());class gk{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let wc,bc=!1,Pm=new Vi,jE=()=>{let l=a.Promise.resolve(void 0);wc=()=>{l.then(_k)}};var _k=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(f){M(f)}var h=vc;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}bc=!1};function Ir(){this.s=this.s,this.C=this.C}Ir.prototype.s=!1,Ir.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ir.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Vt(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Vt.prototype.h=function(){this.defaultPrevented=!0};var yk=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,h),a.removeEventListener("test",f,h)}catch{}return l}();function Ic(l,h){if(Vt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,g=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(Te){e:{try{z(h.nodeName);var S=!0;break e}catch{}S=!1}S||(h=null)}}else f=="mouseover"?h=l.fromElement:f=="mouseout"&&(h=l.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:vk[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ic.aa.h.call(this)}}D(Ic,Vt);var vk={2:"touch",3:"pen",4:"mouse"};Ic.prototype.h=function(){Ic.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ec="closure_listenable_"+(1e6*Math.random()|0),wk=0;function bk(l,h,f,g,S){this.listener=l,this.proxy=null,this.src=h,this.type=f,this.capture=!!g,this.ha=S,this.key=++wk,this.da=this.fa=!1}function ku(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Fu(l){this.src=l,this.g={},this.h=0}Fu.prototype.add=function(l,h,f,g,S){var x=l.toString();l=this.g[x],l||(l=this.g[x]=[],this.h++);var j=Fm(l,h,g,S);return-1<j?(h=l[j],f||(h.fa=!1)):(h=new bk(h,this.src,x,!!g,S),h.fa=f,l.push(h)),h};function km(l,h){var f=h.type;if(f in l.g){var g=l.g[f],S=Array.prototype.indexOf.call(g,h,void 0),x;(x=0<=S)&&Array.prototype.splice.call(g,S,1),x&&(ku(h),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Fm(l,h,f,g){for(var S=0;S<l.length;++S){var x=l[S];if(!x.da&&x.listener==h&&x.capture==!!f&&x.ha==g)return S}return-1}var Lm="closure_lm_"+(1e6*Math.random()|0),Vm={};function $E(l,h,f,g,S){if(g&&g.once)return GE(l,h,f,g,S);if(Array.isArray(h)){for(var x=0;x<h.length;x++)$E(l,h[x],f,g,S);return null}return f=$m(f),l&&l[Ec]?l.K(h,f,u(g)?!!g.capture:!!g,S):HE(l,h,f,!1,g,S)}function HE(l,h,f,g,S,x){if(!h)throw Error("Invalid event type");var j=u(S)?!!S.capture:!!S,je=Um(l);if(je||(l[Lm]=je=new Fu(l)),f=je.add(h,f,g,j,x),f.proxy)return f;if(g=Ik(),f.proxy=g,g.src=l,g.listener=f,l.addEventListener)yk||(S=j),S===void 0&&(S=!1),l.addEventListener(h.toString(),g,S);else if(l.attachEvent)l.attachEvent(qE(h.toString()),g);else if(l.addListener&&l.removeListener)l.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Ik(){function l(f){return h.call(l.src,l.listener,f)}let h=Ek;return l}function GE(l,h,f,g,S){if(Array.isArray(h)){for(var x=0;x<h.length;x++)GE(l,h[x],f,g,S);return null}return f=$m(f),l&&l[Ec]?l.L(h,f,u(g)?!!g.capture:!!g,S):HE(l,h,f,!0,g,S)}function zE(l,h,f,g,S){if(Array.isArray(h))for(var x=0;x<h.length;x++)zE(l,h[x],f,g,S);else g=u(g)?!!g.capture:!!g,f=$m(f),l&&l[Ec]?(l=l.i,h=String(h).toString(),h in l.g&&(x=l.g[h],f=Fm(x,f,g,S),-1<f&&(ku(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete l.g[h],l.h--)))):l&&(l=Um(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Fm(h,f,g,S)),(f=-1<l?h[l]:null)&&Bm(f))}function Bm(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Ec])km(h.i,l);else{var f=l.type,g=l.proxy;h.removeEventListener?h.removeEventListener(f,g,l.capture):h.detachEvent?h.detachEvent(qE(f),g):h.addListener&&h.removeListener&&h.removeListener(g),(f=Um(h))?(km(f,l),f.h==0&&(f.src=null,h[Lm]=null)):ku(l)}}}function qE(l){return l in Vm?Vm[l]:Vm[l]="on"+l}function Ek(l,h){if(l.da)l=!0;else{h=new Ic(h,this);var f=l.listener,g=l.ha||l.src;l.fa&&Bm(l),l=f.call(g,h)}return l}function Um(l){return l=l[Lm],l instanceof Fu?l:null}var jm="__closure_events_fn_"+(1e9*Math.random()>>>0);function $m(l){return typeof l=="function"?l:(l[jm]||(l[jm]=function(h){return l.handleEvent(h)}),l[jm])}function Bt(){Ir.call(this),this.i=new Fu(this),this.M=this,this.F=null}D(Bt,Ir),Bt.prototype[Ec]=!0,Bt.prototype.removeEventListener=function(l,h,f,g){zE(this,l,h,f,g)};function Kt(l,h){var f,g=l.F;if(g)for(f=[];g;g=g.F)f.push(g);if(l=l.M,g=h.type||h,typeof h=="string")h=new Vt(h,l);else if(h instanceof Vt)h.target=h.target||l;else{var S=h;h=new Vt(g,l),T(h,S)}if(S=!0,f)for(var x=f.length-1;0<=x;x--){var j=h.g=f[x];S=Lu(j,g,!0,h)&&S}if(j=h.g=l,S=Lu(j,g,!0,h)&&S,S=Lu(j,g,!1,h)&&S,f)for(x=0;x<f.length;x++)j=h.g=f[x],S=Lu(j,g,!1,h)&&S}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var f=l.g[h],g=0;g<f.length;g++)ku(f[g]);delete l.g[h],l.h--}}this.F=null},Bt.prototype.K=function(l,h,f,g){return this.i.add(String(l),h,!1,f,g)},Bt.prototype.L=function(l,h,f,g){return this.i.add(String(l),h,!0,f,g)};function Lu(l,h,f,g){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var S=!0,x=0;x<h.length;++x){var j=h[x];if(j&&!j.da&&j.capture==f){var je=j.listener,St=j.ha||j.src;j.fa&&km(l.i,j),S=je.call(St,g)!==!1&&S}}return S&&!g.defaultPrevented}function WE(l,h,f){if(typeof l=="function")f&&(l=m(l,f));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function QE(l){l.g=WE(()=>{l.g=null,l.i&&(l.i=!1,QE(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class Dk extends Ir{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:QE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dc(l){Ir.call(this),this.h=l,this.g={}}D(Dc,Ir);var KE=[];function YE(l){re(l.g,function(h,f){this.g.hasOwnProperty(f)&&Bm(h)},l),l.g={}}Dc.prototype.N=function(){Dc.aa.N.call(this),YE(this)},Dc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hm=a.JSON.stringify,Tk=a.JSON.parse,Ck=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Gm(){}Gm.prototype.h=null;function JE(l){return l.h||(l.h=l.i())}function ZE(){}var Tc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zm(){Vt.call(this,"d")}D(zm,Vt);function qm(){Vt.call(this,"c")}D(qm,Vt);var Cs={},XE=null;function Vu(){return XE=XE||new Bt}Cs.La="serverreachability";function eD(l){Vt.call(this,Cs.La,l)}D(eD,Vt);function Cc(l){let h=Vu();Kt(h,new eD(h))}Cs.STAT_EVENT="statevent";function tD(l,h){Vt.call(this,Cs.STAT_EVENT,l),this.stat=h}D(tD,Vt);function Yt(l){let h=Vu();Kt(h,new tD(h,l))}Cs.Ma="timingevent";function nD(l,h){Vt.call(this,Cs.Ma,l),this.size=h}D(nD,Vt);function Sc(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Ac(){this.g=!0}Ac.prototype.xa=function(){this.g=!1};function Sk(l,h,f,g,S,x){l.info(function(){if(l.g)if(x)for(var j="",je=x.split("&"),St=0;St<je.length;St++){var Oe=je[St].split("=");if(1<Oe.length){var Ut=Oe[0];Oe=Oe[1];var jt=Ut.split("_");j=2<=jt.length&&jt[1]=="type"?j+(Ut+"="+Oe+"&"):j+(Ut+"=redacted&")}}else j=null;else j=x;return"XMLHTTP REQ ("+g+") [attempt "+S+"]: "+h+`
`+f+`
`+j})}function Ak(l,h,f,g,S,x,j){l.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+S+"]: "+h+`
`+f+`
`+x+" "+j})}function Vo(l,h,f,g){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Mk(l,f)+(g?" "+g:"")})}function Rk(l,h){l.info(function(){return"TIMEOUT: "+h})}Ac.prototype.info=function(){};function Mk(l,h){if(!l.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var g=f[l];if(!(2>g.length)){var S=g[1];if(Array.isArray(S)&&!(1>S.length)){var x=S[0];if(x!="noop"&&x!="stop"&&x!="close")for(var j=1;j<S.length;j++)S[j]=""}}}}return Hm(f)}catch{return h}}var Bu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wm;function Uu(){}D(Uu,Gm),Uu.prototype.g=function(){return new XMLHttpRequest},Uu.prototype.i=function(){return{}},Wm=new Uu;function Er(l,h,f,g){this.j=l,this.i=h,this.l=f,this.R=g||1,this.U=new Dc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rD}function rD(){this.i=null,this.g="",this.h=!1}var sD={},Qm={};function Km(l,h,f){l.L=1,l.v=Gu(Bi(h)),l.m=f,l.P=!0,oD(l,null)}function oD(l,h){l.F=Date.now(),ju(l),l.A=Bi(l.v);var f=l.A,g=l.R;Array.isArray(g)||(g=[String(g)]),wD(f.i,"t",g),l.C=0,f=l.j.J,l.h=new rD,l.g=VD(l.j,f?h:null,!l.m),0<l.O&&(l.M=new Dk(m(l.Y,l,l.g),l.O)),h=l.U,f=l.g,g=l.ca;var S="readystatechange";Array.isArray(S)||(S&&(KE[0]=S.toString()),S=KE);for(var x=0;x<S.length;x++){var j=$E(f,S[x],g||h.handleEvent,!1,h.h||h);if(!j)break;h.g[j.key]=j}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Cc(),Sk(l.i,l.u,l.A,l.l,l.R,l.m)}Er.prototype.ca=function(l){l=l.target;let h=this.M;h&&Ui(l)==3?h.j():this.Y(l)},Er.prototype.Y=function(l){try{if(l==this.g)e:{let jt=Ui(this.g);var h=this.g.Ba();let jo=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||SD(this.g)))){this.J||jt!=4||h==7||(h==8||0>=jo?Cc(3):Cc(2)),Ym(this);var f=this.g.Z();this.X=f;t:if(aD(this)){var g=SD(this.g);l="";var S=g.length,x=Ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ss(this),Rc(this);var j="";break t}this.h.i=new a.TextDecoder}for(h=0;h<S;h++)this.h.h=!0,l+=this.h.i.decode(g[h],{stream:!(x&&h==S-1)});g.length=0,this.h.g+=l,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,Ak(this.i,this.u,this.A,this.l,this.R,jt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var je,St=this.g;if((je=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(je)){var Oe=je;break t}}Oe=null}if(f=Oe)Vo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jm(this,f);else{this.o=!1,this.s=3,Yt(12),Ss(this),Rc(this);break e}}if(this.P){f=!0;let Vn;for(;!this.J&&this.C<j.length;)if(Vn=Nk(this,j),Vn==Qm){jt==4&&(this.s=4,Yt(14),f=!1),Vo(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==sD){this.s=4,Yt(15),Vo(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else Vo(this.i,this.l,Vn,null),Jm(this,Vn);if(aD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||j.length!=0||this.h.h||(this.s=1,Yt(16),f=!1),this.o=this.o&&f,!f)Vo(this.i,this.l,j,"[Invalid Chunked Response]"),Ss(this),Rc(this);else if(0<j.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),ig(Ut),Ut.M=!0,Yt(11))}}else Vo(this.i,this.l,j,null),Jm(this,j);jt==4&&Ss(this),this.o&&!this.J&&(jt==4?PD(this.j,this):(this.o=!1,ju(this)))}else Qk(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),Ss(this),Rc(this)}}}catch{}finally{}};function aD(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Nk(l,h){var f=l.C,g=h.indexOf(`
`,f);return g==-1?Qm:(f=Number(h.substring(f,g)),isNaN(f)?sD:(g+=1,g+f>h.length?Qm:(h=h.slice(g,g+f),l.C=g+f,h)))}Er.prototype.cancel=function(){this.J=!0,Ss(this)};function ju(l){l.S=Date.now()+l.I,cD(l,l.I)}function cD(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Sc(m(l.ba,l),h)}function Ym(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Er.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(Rk(this.i,this.A),this.L!=2&&(Cc(),Yt(17)),Ss(this),this.s=2,Rc(this)):cD(this,this.S-l)};function Rc(l){l.j.G==0||l.J||PD(l.j,l)}function Ss(l){Ym(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,YE(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Jm(l,h){try{var f=l.j;if(f.G!=0&&(f.g==l||Zm(f.h,l))){if(!l.K&&Zm(f.h,l)&&f.G==3){try{var g=f.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var S=g;if(S[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)Ku(f),Wu(f);else break e;ng(f),Yt(18)}}else f.za=S[1],0<f.za-f.T&&37500>S[2]&&f.F&&f.v==0&&!f.C&&(f.C=Sc(m(f.Za,f),6e3));if(1>=dD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Rs(f,11)}else if((l.K||f.g==l)&&Ku(f),!Q(h))for(S=f.Da.g.parse(h),h=0;h<S.length;h++){let Oe=S[h];if(f.T=Oe[0],Oe=Oe[1],f.G==2)if(Oe[0]=="c"){f.K=Oe[1],f.ia=Oe[2];let Ut=Oe[3];Ut!=null&&(f.la=Ut,f.j.info("VER="+f.la));let jt=Oe[4];jt!=null&&(f.Aa=jt,f.j.info("SVER="+f.Aa));let jo=Oe[5];jo!=null&&typeof jo=="number"&&0<jo&&(g=1.5*jo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Vn=l.g;if(Vn){let Ju=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ju){var x=g.h;x.g||Ju.indexOf("spdy")==-1&&Ju.indexOf("quic")==-1&&Ju.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Xm(x,x.h),x.h=null))}if(g.D){let rg=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;rg&&(g.ya=rg,ze(g.I,g.D,rg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var j=l;if(g.qa=LD(g,g.J?g.ia:null,g.W),j.K){hD(g.h,j);var je=j,St=g.L;St&&(je.I=St),je.B&&(Ym(je),ju(je)),g.g=j}else xD(g);0<f.i.length&&Qu(f)}else Oe[0]!="stop"&&Oe[0]!="close"||Rs(f,7);else f.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Rs(f,7):tg(f):Oe[0]!="noop"&&f.l&&f.l.ta(Oe),f.v=0)}}Cc(4)}catch{}}var xk=class{constructor(l,h){this.g=l,this.map=h}};function lD(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uD(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function dD(l){return l.h?1:l.g?l.g.size:0}function Zm(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Xm(l,h){l.g?l.g.add(h):l.h=h}function hD(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}lD.prototype.cancel=function(){if(this.i=fD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function fD(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let f of l.g.values())h=h.concat(f.D);return h}return O(l.i)}function Ok(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],f=l.length,g=0;g<f;g++)h.push(l[g]);return h}h=[],f=0;for(g in l)h[f++]=l[g];return h}function Pk(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var f=0;f<l;f++)h.push(f);return h}h=[],f=0;for(let g in l)h[f++]=g;return h}}}function pD(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var f=Pk(l),g=Ok(l),S=g.length,x=0;x<S;x++)h.call(void 0,g[x],f&&f[x],l)}var mD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kk(l,h){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var g=l[f].indexOf("="),S=null;if(0<=g){var x=l[f].substring(0,g);S=l[f].substring(g+1)}else x=l[f];h(x,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function As(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof As){this.h=l.h,$u(this,l.j),this.o=l.o,this.g=l.g,Hu(this,l.s),this.l=l.l;var h=l.i,f=new xc;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),gD(this,f),this.m=l.m}else l&&(h=String(l).match(mD))?(this.h=!1,$u(this,h[1]||"",!0),this.o=Mc(h[2]||""),this.g=Mc(h[3]||"",!0),Hu(this,h[4]),this.l=Mc(h[5]||"",!0),gD(this,h[6]||"",!0),this.m=Mc(h[7]||"")):(this.h=!1,this.i=new xc(null,this.h))}As.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Nc(h,_D,!0),":");var f=this.g;return(f||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Nc(h,_D,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(Nc(f,f.charAt(0)=="/"?Vk:Lk,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",Nc(f,Uk)),l.join("")};function Bi(l){return new As(l)}function $u(l,h,f){l.j=f?Mc(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Hu(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function gD(l,h,f){h instanceof xc?(l.i=h,jk(l.i,l.h)):(f||(h=Nc(h,Bk)),l.i=new xc(h,l.h))}function ze(l,h,f){l.i.set(h,f)}function Gu(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Mc(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Nc(l,h,f){return typeof l=="string"?(l=encodeURI(l).replace(h,Fk),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Fk(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var _D=/[#\/\?@]/g,Lk=/[#\?:]/g,Vk=/[#\?]/g,Bk=/[#\?@]/g,Uk=/#/g;function xc(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Dr(l){l.g||(l.g=new Map,l.h=0,l.i&&kk(l.i,function(h,f){l.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=xc.prototype,t.add=function(l,h){Dr(this),this.i=null,l=Bo(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(h),this.h+=1,this};function yD(l,h){Dr(l),h=Bo(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function vD(l,h){return Dr(l),h=Bo(l,h),l.g.has(h)}t.forEach=function(l,h){Dr(this),this.g.forEach(function(f,g){f.forEach(function(S){l.call(h,S,g,this)},this)},this)},t.na=function(){Dr(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let g=0;g<h.length;g++){let S=l[g];for(let x=0;x<S.length;x++)f.push(h[g])}return f},t.V=function(l){Dr(this);let h=[];if(typeof l=="string")vD(this,l)&&(h=h.concat(this.g.get(Bo(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)h=h.concat(l[f])}return h},t.set=function(l,h){return Dr(this),this.i=null,l=Bo(this,l),vD(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function wD(l,h,f){yD(l,h),0<f.length&&(l.i=null,l.g.set(Bo(l,h),O(f)),l.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var g=h[f];let x=encodeURIComponent(String(g)),j=this.V(g);for(g=0;g<j.length;g++){var S=x;j[g]!==""&&(S+="="+encodeURIComponent(String(j[g]))),l.push(S)}}return this.i=l.join("&")};function Bo(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function jk(l,h){h&&!l.j&&(Dr(l),l.i=null,l.g.forEach(function(f,g){var S=g.toLowerCase();g!=S&&(yD(this,g),wD(this,S,f))},l)),l.j=h}function $k(l,h){let f=new Ac;if(a.Image){let g=new Image;g.onload=_(Tr,f,"TestLoadImage: loaded",!0,h,g),g.onerror=_(Tr,f,"TestLoadImage: error",!1,h,g),g.onabort=_(Tr,f,"TestLoadImage: abort",!1,h,g),g.ontimeout=_(Tr,f,"TestLoadImage: timeout",!1,h,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=l}else h(!1)}function Hk(l,h){let f=new Ac,g=new AbortController,S=setTimeout(()=>{g.abort(),Tr(f,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:g.signal}).then(x=>{clearTimeout(S),x.ok?Tr(f,"TestPingServer: ok",!0,h):Tr(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(S),Tr(f,"TestPingServer: error",!1,h)})}function Tr(l,h,f,g,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),g(f)}catch{}}function Gk(){this.g=new Ck}function zk(l,h,f){let g=f||"";try{pD(l,function(S,x){let j=S;u(S)&&(j=Hm(S)),h.push(g+x+"="+encodeURIComponent(j))})}catch(S){throw h.push(g+"type="+encodeURIComponent("_badmap")),S}}function Oc(l){this.l=l.Ub||null,this.j=l.eb||!1}D(Oc,Gm),Oc.prototype.g=function(){return new zu(this.l,this.j)},Oc.prototype.i=function(l){return function(){return l}}({});function zu(l,h){Bt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(zu,Bt),t=zu.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,kc(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pc(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,kc(this)),this.g&&(this.readyState=3,kc(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bD(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function bD(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Pc(this):kc(this),this.readyState==3&&bD(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Pc(this))},t.Qa=function(l){this.g&&(this.response=l,Pc(this))},t.ga=function(){this.g&&Pc(this)};function Pc(l){l.readyState=4,l.l=null,l.j=null,l.v=null,kc(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=h.next();return l.join(`\r
`)};function kc(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ID(l){let h="";return re(l,function(f,g){h+=g,h+=":",h+=f,h+=`\r
`}),h}function eg(l,h,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=ID(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):ze(l,h,f))}function tt(l){Bt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(tt,Bt);var qk=/^https?$/i,Wk=["POST","PUT"];t=tt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wm.g(),this.v=this.o?JE(this.o):JE(Wm),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(x){ED(this,x);return}if(l=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var S in g)f.set(S,g[S]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let x of g.keys())f.set(x,g.get(x));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),S=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Wk,h,void 0))||g||S||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,j]of f)this.g.setRequestHeader(x,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{CD(this),this.u=!0,this.g.send(l),this.u=!1}catch(x){ED(this,x)}};function ED(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,DD(l),qu(l)}function DD(l){l.A||(l.A=!0,Kt(l,"complete"),Kt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Kt(this,"complete"),Kt(this,"abort"),qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qu(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?TD(this):this.bb())},t.bb=function(){TD(this)};function TD(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Ui(l)!=4||l.Z()!=2)){if(l.u&&Ui(l)==4)WE(l.Ea,0,l);else if(Kt(l,"readystatechange"),Ui(l)==4){l.h=!1;try{let j=l.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var g;if(g=j===0){var S=String(l.D).match(mD)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),g=!qk.test(S?S.toLowerCase():"")}f=g}if(f)Kt(l,"complete"),Kt(l,"success");else{l.m=6;try{var x=2<Ui(l)?l.g.statusText:""}catch{x=""}l.l=x+" ["+l.Z()+"]",DD(l)}}finally{qu(l)}}}}function qu(l,h){if(l.g){CD(l);let f=l.g,g=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Kt(l,"ready");try{f.onreadystatechange=g}catch{}}}function CD(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Ui(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Ui(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Tk(h)}};function SD(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Qk(l){let h={};l=(l.g&&2<=Ui(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<l.length;g++){if(Q(l[g]))continue;var f=C(l[g]);let S=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let x=h[S]||[];h[S]=x,x.push(f)}I(h,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fc(l,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||h}function AD(l){this.Aa=0,this.i=[],this.j=new Ac,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fc("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fc("baseRetryDelayMs",5e3,l),this.cb=Fc("retryDelaySeedMs",1e4,l),this.Wa=Fc("forwardChannelMaxRetries",2,l),this.wa=Fc("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new lD(l&&l.concurrentRequestLimit),this.Da=new Gk,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=AD.prototype,t.la=8,t.G=1,t.connect=function(l,h,f,g){Yt(0),this.W=l,this.H=h||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=LD(this,null,this.W),Qu(this)};function tg(l){if(RD(l),l.G==3){var h=l.U++,f=Bi(l.I);if(ze(f,"SID",l.K),ze(f,"RID",h),ze(f,"TYPE","terminate"),Lc(l,f),h=new Er(l,l.j,h),h.L=2,h.v=Gu(Bi(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=h.v,f=!0),f||(h.g=VD(h.j,null),h.g.ea(h.v)),h.F=Date.now(),ju(h)}FD(l)}function Wu(l){l.g&&(ig(l),l.g.cancel(),l.g=null)}function RD(l){Wu(l),l.u&&(a.clearTimeout(l.u),l.u=null),Ku(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Qu(l){if(!uD(l.h)&&!l.s){l.s=!0;var h=l.Ga;wc||jE(),bc||(wc(),bc=!0),Pm.add(h,l),l.B=0}}function Kk(l,h){return dD(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Sc(m(l.Ga,l,h),kD(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let S=new Er(this,this.j,l),x=this.o;if(this.S&&(x?(x=y(x),T(x,this.S)):x=this.S),this.m!==null||this.O||(S.H=x,x=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=ND(this,S,h),f=Bi(this.I),ze(f,"RID",l),ze(f,"CVER",22),this.D&&ze(f,"X-HTTP-Session-Id",this.D),Lc(this,f),x&&(this.O?h="headers="+encodeURIComponent(String(ID(x)))+"&"+h:this.m&&eg(f,this.m,x)),Xm(this.h,S),this.Ua&&ze(f,"TYPE","init"),this.P?(ze(f,"$req",h),ze(f,"SID","null"),S.T=!0,Km(S,f,null)):Km(S,f,h),this.G=2}}else this.G==3&&(l?MD(this,l):this.i.length==0||uD(this.h)||MD(this))};function MD(l,h){var f;h?f=h.l:f=l.U++;let g=Bi(l.I);ze(g,"SID",l.K),ze(g,"RID",f),ze(g,"AID",l.T),Lc(l,g),l.m&&l.o&&eg(g,l.m,l.o),f=new Er(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),h&&(l.i=h.D.concat(l.i)),h=ND(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Xm(l.h,f),Km(f,g,h)}function Lc(l,h){l.H&&re(l.H,function(f,g){ze(h,g,f)}),l.l&&pD({},function(f,g){ze(h,g,f)})}function ND(l,h,f){f=Math.min(l.i.length,f);var g=l.l?m(l.l.Na,l.l,l):null;e:{var S=l.i;let x=-1;for(;;){let j=["count="+f];x==-1?0<f?(x=S[0].g,j.push("ofs="+x)):x=0:j.push("ofs="+x);let je=!0;for(let St=0;St<f;St++){let Oe=S[St].g,Ut=S[St].map;if(Oe-=x,0>Oe)x=Math.max(0,S[St].g-100),je=!1;else try{zk(Ut,j,"req"+Oe+"_")}catch{g&&g(Ut)}}if(je){g=j.join("&");break e}}}return l=l.i.splice(0,f),h.D=l,g}function xD(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;wc||jE(),bc||(wc(),bc=!0),Pm.add(h,l),l.v=0}}function ng(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Sc(m(l.Fa,l),kD(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,OD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Sc(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),Wu(this),OD(this))};function ig(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function OD(l){l.g=new Er(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Bi(l.qa);ze(h,"RID","rpc"),ze(h,"SID",l.K),ze(h,"AID",l.T),ze(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(h,"TO",l.ja),ze(h,"TYPE","xmlhttp"),Lc(l,h),l.m&&l.o&&eg(h,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=Gu(Bi(h)),f.m=null,f.P=!0,oD(f,l)}t.Za=function(){this.C!=null&&(this.C=null,Wu(this),ng(this),Yt(19))};function Ku(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function PD(l,h){var f=null;if(l.g==h){Ku(l),ig(l),l.g=null;var g=2}else if(Zm(l.h,h))f=h.D,hD(l.h,h),g=1;else return;if(l.G!=0){if(h.o)if(g==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var S=l.B;g=Vu(),Kt(g,new nD(g,f)),Qu(l)}else xD(l);else if(S=h.s,S==3||S==0&&0<h.X||!(g==1&&Kk(l,h)||g==2&&ng(l)))switch(f&&0<f.length&&(h=l.h,h.i=h.i.concat(f)),S){case 1:Rs(l,5);break;case 4:Rs(l,10);break;case 3:Rs(l,6);break;default:Rs(l,2)}}}function kD(l,h){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*h}function Rs(l,h){if(l.j.info("Error code "+h),h==2){var f=m(l.fb,l),g=l.Xa;let S=!g;g=new As(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$u(g,"https"),Gu(g),S?$k(g.toString(),f):Hk(g.toString(),f)}else Yt(2);l.G=0,l.l&&l.l.sa(h),FD(l),RD(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function FD(l){if(l.G=0,l.ka=[],l.l){let h=fD(l.h);(h.length!=0||l.i.length!=0)&&(R(l.ka,h),R(l.ka,l.i),l.h.i.length=0,O(l.i),l.i.length=0),l.l.ra()}}function LD(l,h,f){var g=f instanceof As?Bi(f):new As(f);if(g.g!="")h&&(g.g=h+"."+g.g),Hu(g,g.s);else{var S=a.location;g=S.protocol,h=h?h+"."+S.hostname:S.hostname,S=+S.port;var x=new As(null);g&&$u(x,g),h&&(x.g=h),S&&Hu(x,S),f&&(x.l=f),g=x}return f=l.D,h=l.ya,f&&h&&ze(g,f,h),ze(g,"VER",l.la),Lc(l,g),g}function VD(l,h,f){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new tt(new Oc({eb:f})):new tt(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function BD(){}t=BD.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yu(){}Yu.prototype.g=function(l,h){return new yn(l,h)};function yn(l,h){Bt.call(this),this.g=new AD(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!Q(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!Q(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Uo(this)}D(yn,Bt),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){tg(this.g)},yn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Hm(l),l=f);h.i.push(new xk(h.Ya++,l)),h.G==3&&Qu(h)},yn.prototype.N=function(){this.g.l=null,delete this.j,tg(this.g),delete this.g,yn.aa.N.call(this)};function UD(l){zm.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let f in h){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}D(UD,zm);function jD(){qm.call(this),this.status=1}D(jD,qm);function Uo(l){this.g=l}D(Uo,BD),Uo.prototype.ua=function(){Kt(this.g,"a")},Uo.prototype.ta=function(l){Kt(this.g,new UD(l))},Uo.prototype.sa=function(l){Kt(this.g,new jD)},Uo.prototype.ra=function(){Kt(this.g,"b")},Yu.prototype.createWebChannel=Yu.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,eb=pr.createWebChannelTransport=function(){return new Yu},Xw=pr.getStatEventTarget=function(){return Vu()},Zw=pr.Event=Cs,bp=pr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bu.NO_ERROR=0,Bu.TIMEOUT=8,Bu.HTTP_ERROR=6,su=pr.ErrorCode=Bu,iD.COMPLETE="complete",Jw=pr.EventType=iD,ZE.EventType=Tc,Tc.OPEN="a",Tc.CLOSE="b",Tc.ERROR="c",Tc.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,qa=pr.WebChannel=ZE,Yw=pr.FetchXmlHttpFactory=Oc,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,Kw=pr.XhrIo=tt}).apply(typeof wp<"u"?wp:typeof self<"u"?self:typeof window<"u"?window:{});var cx="@firebase/firestore";var Tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");var lc="10.12.3";var Io=new ss("@firebase/firestore");function ou(){return Io.logLevel}function J(t,...e){if(Io.logLevel<=Ce.DEBUG){let n=e.map($I);Io.debug(`Firestore (${lc}): ${t}`,...n)}}function mr(t,...e){if(Io.logLevel<=Ce.ERROR){let n=e.map($I);Io.error(`Firestore (${lc}): ${t}`,...n)}}function Xa(t,...e){if(Io.logLevel<=Ce.WARN){let n=e.map($I);Io.warn(`Firestore (${lc}): ${t}`,...n)}}function $I(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ce(t="Unexpected state"){let e=`FIRESTORE (${lc}) INTERNAL ASSERTION FAILED: `+t;throw mr(e),new Error(e)}function Ge(t,e){t||ce()}function pe(t,e){return t}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends on{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ni=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Cp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ob=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}},ab=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},cb=class{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),s=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ni,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>v(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ni)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string"),new Cp(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Tt(e)}},lb=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ub=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new lb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},db=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},hb=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new db(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function tW(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Sp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=tW(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function Fe(t,e){return t<e?-1:t>e?1:0}function ec(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var kt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ge=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new kt(0,0))}static max(){return new t(new kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ap=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&ce(),i===void 0?i=e.length-n:i>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},et=class t extends Ap{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new q(F.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},nW=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rn=class t extends Ap{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return nW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ie=class t{constructor(e){this.path=e}static fromPath(e){return new t(et.fromString(e))}static fromName(e){return new t(et.fromString(e).popFirst(5))}static empty(){return new t(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new et(e.slice()))}};var fb=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};fb.UNKNOWN_ID=-1;function iW(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ge.fromTimestamp(i===1e9?new kt(n+1,0):new kt(n,i));return new Eo(r,ie.empty(),e)}function rW(t){return new Eo(t.readTime,t.key,-1)}var Eo=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(ge.min(),ie.empty(),-1)}static max(){return new t(ge.max(),ie.empty(),-1)}};function sW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}var oW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pb=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Cu(t){return v(this,null,function*(){if(t.code!==F.FAILED_PRECONDITION||t.message!==oW)throw t;J("LocalStore","Unexpectedly lost primary lease")})}var U=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},c=>i(c))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(d=>{o[u]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};function aW(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Su(t){return t.name==="IndexedDbTransactionError"}var Ux=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function am(t){return t==null}function hu(t){return t===0&&1/t==-1/0}function cW(t){return typeof t=="number"&&Number.isInteger(t)&&!hu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var lW=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vse=[...lW,"documentOverlays"],uW=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dW=uW,Bse=[...dW,"indexConfiguration","indexState","indexEntries"];function lx(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ro(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jx(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ot=class t{constructor(e,n){this.comparator=e,this.root=n||xi.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ya(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ya(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ya(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ya(this.root,e,this.comparator,!0)}},Ya=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},xi=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();let e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}};xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1;xi.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,i,r,s){return this}insert(e,n,i){return new xi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Wt=class t{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rp(this.data.getIterator())}getIteratorFrom(e){return new Rp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Rp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ln=class t{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Wt(Rn.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Mp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var cn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Mp("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};cn.EMPTY_BYTE_STRING=new cn("");var hW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(t){if(Ge(!!t),typeof t=="string"){let e=0,n=hW.exec(t);if(Ge(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gs(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}function HI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function GI(t){let e=t.mapValue.fields.__previous_value__;return HI(e)?GI(e):e}function fu(t){let e=gr(t.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}var mb=class{constructor(e,n,i,r,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Np=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ip={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Do(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?HI(t)?4:$x(t)?9007199254740991:10:ce()}function ki(t,e){if(t===e)return!0;let n=Do(t);if(n!==Do(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fu(t).isEqual(fu(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=gr(r.timestampValue),a=gr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return gs(r.bytesValue).isEqual(gs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return st(r.geoPointValue.latitude)===st(s.geoPointValue.latitude)&&st(r.geoPointValue.longitude)===st(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return st(r.integerValue)===st(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=st(r.doubleValue),a=st(s.doubleValue);return o===a?hu(o)===hu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ec(t.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(lx(o)!==lx(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ki(o[c],a[c])))return!1;return!0}(t,e);default:return ce()}}function pu(t,e){return(t.values||[]).find(n=>ki(n,e))!==void 0}function tc(t,e){if(t===e)return 0;let n=Do(t),i=Do(e);if(n!==i)return Fe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=st(s.integerValue||s.doubleValue),c=st(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return ux(t.timestampValue,e.timestampValue);case 4:return ux(fu(t),fu(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(s,o){let a=gs(s),c=gs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Fe(a[u],c[u]);if(d!==0)return d}return Fe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Fe(st(s.latitude),st(o.latitude));return a!==0?a:Fe(st(s.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let d=tc(a[u],c[u]);if(d)return d}return Fe(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ip.mapValue&&o===Ip.mapValue)return 0;if(s===Ip.mapValue)return 1;if(o===Ip.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){let m=Fe(c[p],d[p]);if(m!==0)return m;let _=tc(a[c[p]],u[d[p]]);if(_!==0)return _}return Fe(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ce()}}function ux(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);let n=gr(t),i=gr(e),r=Fe(n.seconds,i.seconds);return r!==0?r:Fe(n.nanos,i.nanos)}function nc(t){return gb(t)}function gb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=gr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=gb(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${gb(n.fields[o])}`;return r+"}"}(t.mapValue):ce()}function dx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _b(t){return!!t&&"integerValue"in t}function zI(t){return!!t&&"arrayValue"in t}function hx(t){return!!t&&"nullValue"in t}function fx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dp(t){return!!t&&"mapValue"in t}function cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ro(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=cu(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $x(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var An=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Dp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=Rn.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=cu(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());Dp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Dp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Ro(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(cu(this.value))}};function Hx(t){let e=[];return Ro(t.fields,(n,i)=>{let r=new Rn([n]);if(Dp(i)){let s=Hx(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new Ln(e)}var ii=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ge.min(),ge.min(),ge.min(),An.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,ge.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,ge.min(),ge.min(),An.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ge.min(),ge.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ic=class{constructor(e,n){this.position=e,this.inclusive=n}};function px(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=ie.comparator(ie.fromName(o.referenceValue),n.key):i=tc(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function mx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ki(t.position[n],e.position[n]))return!1;return!0}var To=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function fW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var xp=class{},gt=class t extends xp{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new vb(e,n,i):n==="array-contains"?new Ib(e,i):n==="in"?new Eb(e,i):n==="not-in"?new Db(e,i):n==="array-contains-any"?new Tb(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new wb(e,i):new bb(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(tc(n,this.value)):n!==null&&Do(this.value)===Do(n)&&this.matchesComparison(tc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ri=class t extends xp{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Gx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Gx(t){return t.op==="and"}function zx(t){return pW(t)&&Gx(t)}function pW(t){for(let e of t.filters)if(e instanceof ri)return!1;return!0}function yb(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+nc(t.value);if(zx(t))return t.filters.map(e=>yb(e)).join(",");{let e=t.filters.map(n=>yb(n)).join(",");return`${t.op}(${e})`}}function qx(t,e){return t instanceof gt?function(i,r){return r instanceof gt&&i.op===r.op&&i.field.isEqual(r.field)&&ki(i.value,r.value)}(t,e):t instanceof ri?function(i,r){return r instanceof ri&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&qx(o,r.filters[a]),!0):!1}(t,e):void ce()}function Wx(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${nc(n.value)}`}(t):t instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(Wx).join(" ,")+"}"}(t):"Filter"}var vb=class extends gt{constructor(e,n,i){super(e,n,i),this.key=ie.fromName(i.referenceValue)}matches(e){let n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}},wb=class extends gt{constructor(e,n){super(e,"in",n),this.keys=Qx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},bb=class extends gt{constructor(e,n){super(e,"not-in",n),this.keys=Qx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Qx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ie.fromName(i.referenceValue))}var Ib=class extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return zI(n)&&pu(n.arrayValue,this.value)}},Eb=class extends gt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}},Db=class extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!pu(this.value.arrayValue,n)}},Tb=class extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!zI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>pu(this.value.arrayValue,i))}};var Cb=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function gx(t,e=null,n=[],i=[],r=null,s=null,o=null){return new Cb(t,e,n,i,r,s,o)}function qI(t){let e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>yb(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),am(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>nc(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>nc(i)).join(",")),e.ue=n}return e.ue}function WI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mx(t.startAt,e.startAt)&&mx(t.endAt,e.endAt)}function Sb(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var _s=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function mW(t,e,n,i,r,s,o,a){return new _s(t,e,n,i,r,s,o,a)}function QI(t){return new _s(t)}function _x(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kx(t){return t.collectionGroup!==null}function lu(t){let e=pe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Wt(Rn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new To(s,i))}),n.has(Rn.keyField().canonicalString())||e.ce.push(new To(Rn.keyField(),i))}return e.ce}function Oi(t){let e=pe(t);return e.le||(e.le=gW(e,lu(t))),e.le}function gW(t,e){if(t.limitType==="F")return gx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new To(r.field,s)});let n=t.endAt?new ic(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ic(t.startAt.position,t.startAt.inclusive):null;return gx(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Ab(t,e){let n=t.filters.concat([e]);return new _s(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Op(t,e,n){return new _s(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cm(t,e){return WI(Oi(t),Oi(e))&&t.limitType===e.limitType}function Yx(t){return`${qI(Oi(t))}|lt:${t.limitType}`}function Wa(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>Wx(r)).join(", ")}]`),am(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>nc(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>nc(r)).join(",")),`Target(${i})`}(Oi(t))}; limitType=${t.limitType})`}function lm(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ie.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of lu(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let u=px(o,a,c);return o.inclusive?u<=0:u<0}(i.startAt,lu(i),r)||i.endAt&&!function(o,a,c){let u=px(o,a,c);return o.inclusive?u>=0:u>0}(i.endAt,lu(i),r))}(t,e)}function _W(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Jx(t){return(e,n)=>{let i=!1;for(let r of lu(t)){let s=yW(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function yW(t,e,n){let i=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?tc(c,u):ce()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ce()}}var ys=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return jx(this.inner)}size(){return this.innerSize}};var vW=new ot(ie.comparator);function _r(){return vW}var Zx=new ot(ie.comparator);function au(...t){let e=Zx;for(let n of t)e=e.insert(n.key,n);return e}function Xx(t){let e=Zx;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function vo(){return uu()}function eO(){return uu()}function uu(){return new ys(t=>t.toString(),(t,e)=>t.isEqual(e))}var wW=new ot(ie.comparator),bW=new Wt(ie.comparator);function Se(...t){let e=bW;for(let n of t)e=e.add(n);return e}var IW=new Wt(Fe);function EW(){return IW}function tO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hu(e)?"-0":e}}function nO(t){return{integerValue:""+t}}function iO(t,e){return cW(e)?nO(e):tO(t,e)}var rc=class{constructor(){this._=void 0}};function DW(t,e,n){return t instanceof sc?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&HI(s)&&(s=GI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof vs?sO(t,e):t instanceof ws?oO(t,e):function(r,s){let o=rO(r,s),a=yx(o)+yx(r.Pe);return _b(o)&&_b(r.Pe)?nO(a):tO(r.serializer,a)}(t,e)}function TW(t,e,n){return t instanceof vs?sO(t,e):t instanceof ws?oO(t,e):n}function rO(t,e){return t instanceof Co?function(i){return _b(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var sc=class extends rc{},vs=class extends rc{constructor(e){super(),this.elements=e}};function sO(t,e){let n=aO(e);for(let i of t.elements)n.some(r=>ki(r,i))||n.push(i);return{arrayValue:{values:n}}}var ws=class extends rc{constructor(e){super(),this.elements=e}};function oO(t,e){let n=aO(e);for(let i of t.elements)n=n.filter(r=>!ki(r,i));return{arrayValue:{values:n}}}var Co=class extends rc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function yx(t){return st(t.integerValue||t.doubleValue)}function aO(t){return zI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var mu=class{constructor(e,n){this.field=e,this.transform=n}};function CW(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof vs&&r instanceof vs||i instanceof ws&&r instanceof ws?ec(i.elements,r.elements,ki):i instanceof Co&&r instanceof Co?ki(i.Pe,r.Pe):i instanceof sc&&r instanceof sc}(t.transform,e.transform)}var Rb=class{constructor(e,n){this.version=e,this.transformResults=n}},ti=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Tp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var oc=class{};function cO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gu(t.key,ti.none()):new So(t.key,t.data,ti.none());{let n=t.data,i=An.empty(),r=new Wt(Rn.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Fi(t.key,i,new Ln(r.toArray()),ti.none())}}function SW(t,e,n){t instanceof So?function(r,s,o){let a=r.value.clone(),c=wx(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fi?function(r,s,o){if(!Tp(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=wx(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(lO(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function du(t,e,n,i){return t instanceof So?function(s,o,a,c){if(!Tp(s.precondition,o))return a;let u=s.value.clone(),d=bx(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof Fi?function(s,o,a,c){if(!Tp(s.precondition,o))return a;let u=bx(s.fieldTransforms,c,o),d=o.data;return d.setAll(lO(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(s,o,a){return Tp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function AW(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=rO(i.transform,r||null);s!=null&&(n===null&&(n=An.empty()),n.set(i.field,s))}return n||null}function vx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ec(i,r,(s,o)=>CW(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var So=class extends oc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Fi=class extends oc{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function lO(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function wx(t,e,n){let i=new Map;Ge(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,TW(o,a,n[r]))}return i}function bx(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,DW(s,o,e))}return i}var gu=class extends oc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Mb=class extends oc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Nb=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&SW(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=du(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=du(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=eO();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let c=cO(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(ge.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(n,i)=>vx(n,i))&&ec(this.baseMutations,e.baseMutations,(n,i)=>vx(n,i))}},xb=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ge(e.mutations.length===i.length);let r=function(){return wW}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var Ob=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Pb=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var pt,Me;function RW(t){switch(t){default:return ce();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function uO(t){if(t===void 0)return mr("GRPC error has no .code"),F.UNKNOWN;switch(t){case pt.OK:return F.OK;case pt.CANCELLED:return F.CANCELLED;case pt.UNKNOWN:return F.UNKNOWN;case pt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case pt.INTERNAL:return F.INTERNAL;case pt.UNAVAILABLE:return F.UNAVAILABLE;case pt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case pt.NOT_FOUND:return F.NOT_FOUND;case pt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case pt.ABORTED:return F.ABORTED;case pt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case pt.DATA_LOSS:return F.DATA_LOSS;default:return ce()}}(Me=pt||(pt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";var Ix=null;function MW(){return new TextEncoder}var NW=new ps([4294967295,4294967295],0);function Ex(t){let e=MW().encode(t),n=new Qw;return n.update(e),new Uint8Array(n.digest())}function Dx(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ps([n,i],0),new ps([r,s],0)]}var kb=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new wo(`Invalid padding: ${n}`);if(i<0)throw new wo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new wo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ps.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(ps.fromNumber(i)));return r.compare(NW)===1&&(r=new ps([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=Ex(e),[i,r]=Dx(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=Ex(e),[i,r]=Dx(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},wo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Pp=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(ge.min(),r,new ot(Fe),_r(),Se())}},_u=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,Se(),Se(),Se())}};var Ja=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},kp=class{constructor(e,n){this.targetId=e,this.me=n}},Fp=class{constructor(e,n,i=cn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Lp=class{constructor(){this.fe=0,this.ge=Cx(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Se(),n=Se(),i=Se();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ce()}}),new _u(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=Cx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Fb=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=_r(),this.qe=Tx(),this.Qe=new ot(Fe)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let s=r.target;if(Sb(s))if(i===0){let o=new ie(s.path);this.Ue(n,o,ii.newNoDocument(o,ge.min()))}else Ge(i===1);else{let o=this.Ye(n);if(o!==i){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}Ix?.et(function(d,p,m,_,D){var O,R,k,Q,W,z;let Te={localCacheCount:d,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},re=p.unchangedNames;return re&&(Te.bloomFilter={applied:D===0,hashCount:(O=re?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(Q=(k=(R=re?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&Q!==void 0?Q:0,padding:(z=(W=re?.bits)===null||W===void 0?void 0:W.padding)!==null&&z!==void 0?z:0,mightContain:I=>{var y;return(y=_?.mightContain(I))!==null&&y!==void 0&&y}}),Te}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=gs(i).toUint8Array()}catch(c){if(c instanceof Mp)return Xa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new kb(o,r,s)}catch(c){return Xa(c instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Sb(a.target)){let c=new ie(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,ii.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let i=Se();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new Pp(e,n,this.Qe,this.ke,i);return this.ke=_r(),this.qe=Tx(),this.Qe=new ot(Fe),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Lp,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Wt(Fe),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Lp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Tx(){return new ot(ie.comparator)}function Cx(){return new ot(ie.comparator)}var xW={asc:"ASCENDING",desc:"DESCENDING"},OW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PW={and:"AND",or:"OR"},Lb=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Vb(t,e){return t.useProto3Json||am(e)?e:{value:e}}function Vp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kW(t,e){return Vp(t,e.toTimestamp())}function Pi(t){return Ge(!!t),ge.fromTimestamp(function(n){let i=gr(n);return new kt(i.seconds,i.nanos)}(t))}function KI(t,e){return Bb(t,e).canonicalString()}function Bb(t,e){let n=function(r){return new et(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hO(t){let e=et.fromString(t);return Ge(_O(e)),e}function Ub(t,e){return KI(t.databaseId,e.path)}function tb(t,e){let n=hO(e);if(n.get(1)!==t.databaseId.projectId)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(pO(n))}function fO(t,e){return KI(t.databaseId,e)}function FW(t){let e=hO(t);return e.length===4?et.emptyPath():pO(e)}function jb(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pO(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Sx(t,e,n){return{name:Ub(t,e),fields:n.value.mapValue.fields}}function LW(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ge(d===void 0||typeof d=="string"),cn.fromBase64String(d||"")):(Ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array),cn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let d=u.code===void 0?F.UNKNOWN:uO(u.code);return new q(d,u.message||"")}(o);n=new Fp(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=tb(t,i.document.name),s=Pi(i.document.updateTime),o=i.document.createTime?Pi(i.document.createTime):ge.min(),a=new An({mapValue:{fields:i.document.fields}}),c=ii.newFoundDocument(r,s,o,a),u=i.targetIds||[],d=i.removedTargetIds||[];n=new Ja(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=tb(t,i.document),s=i.readTime?Pi(i.readTime):ge.min(),o=ii.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Ja([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=tb(t,i.document),s=i.removedTargetIds||[];n=new Ja([],s,r,null)}else{if(!("filter"in e))return ce();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new Pb(r,s),a=i.targetId;n=new kp(a,o)}}return n}function VW(t,e){let n;if(e instanceof So)n={update:Sx(t,e.key,e.value)};else if(e instanceof gu)n={delete:Ub(t,e.key)};else if(e instanceof Fi)n={update:Sx(t,e.key,e.data),updateMask:WW(e.fieldMask)};else{if(!(e instanceof Mb))return ce();n={verify:Ub(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof sc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ws)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Co)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ce()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:kW(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function BW(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Pi(r.updateTime):Pi(s);return o.isEqual(ge.min())&&(o=Pi(s)),new Rb(o,r.transformResults||[])}(n,e))):[]}function UW(t,e){return{documents:[fO(t,e.path)]}}function jW(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=fO(t,r);let s=function(u){if(u.length!==0)return gO(ri.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Qa(m.field),direction:GW(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Vb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:r}}function $W(t){let e=FW(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Ge(i===1);let d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){let m=mO(p);return m instanceof ri&&zx(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(D){return new To(Ka(D.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,am(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){let m=!!p.before,_=p.values||[];return new ic(_,m)}(n.startAt));let u=null;return n.endAt&&(u=function(p){let m=!p.before,_=p.values||[];return new ic(_,m)}(n.endAt)),mW(e,r,o,s,a,"F",c,u)}function HW(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Ka(n.unaryFilter.field);return gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Ka(n.unaryFilter.field);return gt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ka(n.unaryFilter.field);return gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ka(n.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(Ka(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(i=>mO(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function GW(t){return xW[t]}function zW(t){return OW[t]}function qW(t){return PW[t]}function Qa(t){return{fieldPath:t.canonicalString()}}function Ka(t){return Rn.fromServerFormat(t.fieldPath)}function gO(t){return t instanceof gt?function(n){if(n.op==="=="){if(fx(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(hx(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fx(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(hx(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:zW(n.op),value:n.value}}}(t):t instanceof ri?function(n){let i=n.getFilters().map(r=>gO(r));return i.length===1?i[0]:{compositeFilter:{op:qW(n.op),filters:i}}}(t):ce()}function WW(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _O(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var yu=class t{constructor(e,n,i,r,s=ge.min(),o=ge.min(),a=cn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var $b=class{constructor(e){this.ct=e}};function QW(t){let e=$W({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Op(e,e.limit,"L"):e}var Bp=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(st(e.integerValue));else if("doubleValue"in e){let i=st(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),hu(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"&&(i=gr(i)),n.At(`${i.seconds||""}`),n.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(gs(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?$x(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):ce()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),ie.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Bp.bt=new Bp;var Hb=class{constructor(){this._n=new Gb}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Eo.min())}updateCollectionGroup(e,n,i){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}},Gb=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Wt(et.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Wt(et.comparator)).toArray()}};var jse=new Uint8Array(0);var Mi=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Mi.DEFAULT_COLLECTION_PERCENTILE=10,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mi.DEFAULT=new Mi(41943040,Mi.DEFAULT_COLLECTION_PERCENTILE,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mi.DISABLED=new Mi(-1,0,0);var vu=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var zb=class{constructor(){this.changes=new ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ii.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var qb=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Wb=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&du(i.mutation,r,Ln.empty(),kt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Se()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Se()){let r=vo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=au();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=vo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Se()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=_r(),o=uu(),a=function(){return uu()}();return n.forEach((c,u)=>{let d=i.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof Fi)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),du(d.mutation,u,d.mutation.getFieldMask(),kt.now())):o.set(u.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var p;return a.set(u,new qb(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let i=uu(),r=new ot((o,a)=>o-a),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let d=i.get(c)||Ln.empty();d=a.applyToLocalView(u,d),i.set(c,d);let p=(r.get(a.batchId)||Se()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,p=eO();d.forEach(m=>{if(!s.has(m)){let _=cO(n.get(m),i.get(m));_!==null&&p.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return U.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Kx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):U.resolve(vo()),a=-1,c=s;return o.next(u=>U.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Se())).next(d=>({batchId:a,changes:Xx(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(i=>{let r=au();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=au();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,c=>{let u=function(p,m){return new _s(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(d=>{d.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((c,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,ii.newInvalidDocument(d)))});let a=au();return o.forEach((c,u)=>{let d=s.get(c);d!==void 0&&du(d.mutation,u,Ln.empty(),kt.now()),lm(n,u)&&(a=a.insert(c,u))}),a})}};var Qb=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Pi(r.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:QW(r.bundledQuery),readTime:Pi(r.readTime)}}(n)),U.resolve()}};var Kb=class{constructor(){this.overlays=new ot(ie.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){let i=vo();return U.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),U.resolve()}getOverlaysForCollection(e,n,i){let r=vo(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return U.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new ot((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let d=s.get(u.largestBatchId);d===null&&(d=vo(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=vo(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=r)););return U.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Ob(n,i));let s=this.hr.get(n);s===void 0&&(s=Se(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}};var wu=class{constructor(){this.Pr=new Wt(mt.Ir),this.Tr=new Wt(mt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new mt(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new mt(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new ie(new et([])),i=new mt(n,e),r=new mt(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new ie(new et([])),i=new mt(n,e),r=new mt(n,e+1),s=Se();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new mt(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},mt=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ie.comparator(e.key,n.key)||Fe(e.pr,n.pr)}static Er(e,n){return Fe(e.pr,n.pr)||ie.comparator(e.key,n.key)}};var Yb=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Wt(mt.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Nb(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.wr=this.wr.add(new mt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),s=r<0?0:r;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new mt(n,0),r=new mt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{let a=this.Sr(o.pr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Wt(Fe);return n.forEach(r=>{let s=new mt(r,0),o=new mt(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),U.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;ie.isDocumentKey(s)||(s=s.child(""));let o=new mt(new ie(s),0),a=new Wt(Fe);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.pr)),!0)},o),U.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ge(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return U.forEach(n.mutations,r=>{let s=new mt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new mt(n,0),r=this.wr.firstAfterOrEqual(i);return U.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Jb=class{constructor(e){this.vr=e,this.docs=function(){return new ot(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():ii.newInvalidDocument(n))}getEntries(e,n){let i=_r();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ii.newInvalidDocument(r))}),U.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=_r(),o=n.path,a=new ie(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||sW(rW(d),i)<=0||(r.has(d.key)||lm(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,i,r){ce()}Fr(e,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Zb(this)}getSize(e){return U.resolve(this.size)}},Zb=class extends zb{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Xb=class{constructor(e){this.persistence=e,this.Mr=new ys(n=>qI(n),WI),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Or=0,this.Nr=new wu,this.targetCount=0,this.Lr=vu.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new vu(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),U.waitFor(s).next(()=>r)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return U.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),U.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return U.resolve(i)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}};var eI=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new Ux(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Xb(this),this.indexManager=new Hb,this.remoteDocumentCache=function(r){return new Jb(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new $b(n),this.$r=new Qb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Kb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new Yb(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){J("MemoryPersistence","Starting transaction:",e);let r=new tI(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return U.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},tI=class extends pb{constructor(e){super(),this.currentSequenceNumber=e}},nI=class t{constructor(e){this.persistence=e,this.zr=new wu,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw ce()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),U.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,i=>{let r=ie.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,ge.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var iI=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=Se(),r=Se();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var rI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var sI=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return HM()?8:aW(vt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new rI;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(ou()<=Ce.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(ou()<=Ce.DEBUG&&J("QueryEngine","Query:",Wa(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(ou()<=Ce.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):U.resolve())}ji(e,n){if(_x(n))return U.resolve(null);let i=Oi(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Op(n,null,"F"),i=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Se(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,Op(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,i,r){return _x(n)||r.isEqual(ge.min())?U.resolve(null):this.zi.getDocuments(e,i).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,i,r)?U.resolve(null):(ou()<=Ce.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Wa(n)),this.es(e,o,n,iW(r,-1)).next(a=>a))})}Zi(e,n){let i=new Wt(Jx(e));return n.forEach((r,s)=>{lm(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return ou()<=Ce.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.zi.getDocumentsMatchingQuery(e,n,Eo.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var oI=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new ot(Fe),this.rs=new ys(s=>qI(s),WI),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wb(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function KW(t,e,n,i){return new oI(t,e,n,i)}function yO(t,e){return v(this,null,function*(){let n=pe(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=Se();for(let u of r){o.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of s){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(i,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function YW(t,e){let n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let p=u.batch,m=p.keys(),_=U.resolve();return m.forEach(D=>{_=_.next(()=>d.getEntry(c,D)).next(O=>{let R=u.docVersions.get(D);Ge(R!==null),O.version.compareTo(R)<0&&(p.applyToRemoteDocument(O,u),O.isValidDocument()&&(O.setReadTime(u.commitVersion),d.addEntry(O)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=Se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function vO(t){let e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function JW(t,e){let n=pe(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((d,p)=>{let m=r.get(p);if(!m)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,p)));let _=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(cn.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),r=r.insert(p,_),function(O,R,k){return O.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,_,d)&&a.push(n.Qr.updateTargetData(s,_))});let c=_r(),u=Se();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(ZW(s,o,e.documentUpdates).next(d=>{c=d.cs,u=d.ls})),!i.isEqual(ge.min())){let d=n.Qr.getLastRemoteSnapshotVersion(s).next(p=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=r,s))}function ZW(t,e,n){let i=Se(),r=Se();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=_r();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(ge.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:r}})}function XW(t,e){let n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function e8(t,e){let n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,U.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new yu(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function aI(t,e,n){return v(this,null,function*(){let i=pe(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Su(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function Ax(t,e,n){let i=pe(t),r=ge.min(),s=Se();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){let p=pe(c),m=p.rs.get(d);return m!==void 0?U.resolve(p.ns.get(m)):p.Qr.getTargetData(u,d)}(i,o,Oi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:ge.min(),n?s:Se())).next(a=>(t8(i,_W(e),a),{documents:a,hs:s})))}function t8(t,e,n){let i=t.ss.get(e)||ge.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}var Up=class{constructor(){this.activeTargetIds=EW()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var cI=class{constructor(){this.no=new Up,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Up,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var lI=class{io(e){}shutdown(){}};var jp=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ep=null;function nb(){return Ep===null?Ep=function(){return 268435456+Math.round(2147483648*Math.random())}():Ep++,"0x"+Ep.toString(16)}var n8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var uI=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var qt="WebChannelConnection",dI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(n,i,r,s,o){let a=nb(),c=this.vo(n,i.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,c,u,r).then(d=>(J("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Xa("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",r),d})}xo(n,i,r,s,o,a){return this.Co(n,i,r,s,o)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}vo(n,i){let r=n8[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){let s=nb();return new Promise((o,a)=>{let c=new Kw;c.setWithCredentials(!0),c.listenOnce(Jw.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case su.NO_ERROR:let d=c.getResponseJson();J(qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case su.TIMEOUT:J(qt,`RPC '${e}' ${s} timed out`),a(new q(F.DEADLINE_EXCEEDED,"Request time out"));break;case su.HTTP_ERROR:let p=c.getStatus();if(J(qt,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let _=m?.error;if(_&&_.status&&_.message){let D=function(R){let k=R.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(k)>=0?k:F.UNKNOWN}(_.status);a(new q(D,_.message))}else a(new q(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new q(F.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{J(qt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);J(qt,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",u,i,15)})}Oo(e,n,i){let r=nb(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eb(),a=Xw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new Yw({})),this.Fo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let d=s.join("");J(qt,`Creating RPC '${e}' stream ${r}: ${d}`,c);let p=o.createWebChannel(d,c),m=!1,_=!1,D=new uI({lo:R=>{_?J(qt,`Not sending because RPC '${e}' stream ${r} is closed:`,R):(m||(J(qt,`Opening RPC '${e}' stream ${r} transport.`),p.open(),m=!0),J(qt,`RPC '${e}' stream ${r} sending:`,R),p.send(R))},ho:()=>p.close()}),O=(R,k,Q)=>{R.listen(k,W=>{try{Q(W)}catch(z){setTimeout(()=>{throw z},0)}})};return O(p,qa.EventType.OPEN,()=>{_||(J(qt,`RPC '${e}' stream ${r} transport opened.`),D.mo())}),O(p,qa.EventType.CLOSE,()=>{_||(_=!0,J(qt,`RPC '${e}' stream ${r} transport closed`),D.po())}),O(p,qa.EventType.ERROR,R=>{_||(_=!0,Xa(qt,`RPC '${e}' stream ${r} transport errored:`,R),D.po(new q(F.UNAVAILABLE,"The operation could not be completed")))}),O(p,qa.EventType.MESSAGE,R=>{var k;if(!_){let Q=R.data[0];Ge(!!Q);let W=Q,z=W.error||((k=W[0])===null||k===void 0?void 0:k.error);if(z){J(qt,`RPC '${e}' stream ${r} received error:`,z);let Te=z.status,re=function(w){let T=pt[w];if(T!==void 0)return uO(T)}(Te),I=z.message;re===void 0&&(re=F.INTERNAL,I="Unknown error status: "+Te+" with message "+z.message),_=!0,D.po(new q(re,I)),p.close()}else J(qt,`RPC '${e}' stream ${r} received:`,Q),D.yo(Q)}}),O(a,Zw.STAT_EVENT,R=>{R.stat===bp.PROXY?J(qt,`RPC '${e}' stream ${r} detected buffering proxy`):R.stat===bp.NOPROXY&&J(qt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{D.fo()},0),D}};function ib(){return typeof document<"u"?document:null}function um(t){return new Lb(t,!0)}var $p=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&J("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Hp=class{constructor(e,n,i,r,s,o,a,c){this.oi=e,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new $p(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return v(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return v(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return v(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{let r=new q(F.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){let i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>v(this,null,function*(){this.state=0,this.start()}))}c_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},hI=class extends Hp{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=LW(this.serializer,e),i=function(s){if(!("targetChange"in s))return ge.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Pi(o.readTime):ge.min()}(e);return this.listener.h_(n,i)}P_(e){let n={};n.database=jb(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Sb(c)?{documents:UW(s,c)}:{query:jW(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=dO(s,o.resumeToken);let u=Vb(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=Vp(s,o.snapshotVersion.toTimestamp());let u=Vb(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=HW(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){let n={};n.database=jb(this.serializer),n.removeTarget=e,this.i_(n)}},fI=class extends Hp{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=BW(e.writeResults,e.commitTime),i=Pi(e.commitTime);return this.listener.A_(i,n)}return Ge(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=jb(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>VW(this.serializer,i))};this.i_(n)}};var pI=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Bb(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(F.UNKNOWN,s.toString())})}xo(e,n,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,Bb(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(F.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},mI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(mr(n),this.y_=!1):J("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var gI=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(()=>v(this,null,function*(){Mo(this)&&(J("RemoteStore","Restarting streams for network reachability change."),yield function(c){return v(this,null,function*(){let u=pe(c);u.M_.add(4),yield Au(u),u.N_.set("Unknown"),u.M_.delete(4),yield dm(u)})}(this))}))}),this.N_=new mI(i,r)}};function dm(t){return v(this,null,function*(){if(Mo(t))for(let e of t.x_)yield e(!0)})}function Au(t){return v(this,null,function*(){for(let e of t.x_)yield e(!1)})}function wO(t,e){let n=pe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),XI(n)?ZI(n):uc(n).Xo()&&JI(n,e))}function YI(t,e){let n=pe(t),i=uc(n);n.F_.delete(e),i.Xo()&&bO(n,e),n.F_.size===0&&(i.Xo()?i.n_():Mo(n)&&n.N_.set("Unknown"))}function JI(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uc(t).P_(e)}function bO(t,e){t.L_.xe(e),uc(t).I_(e)}function ZI(t){t.L_=new Fb({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),uc(t).start(),t.N_.w_()}function XI(t){return Mo(t)&&!uc(t).Zo()&&t.F_.size>0}function Mo(t){return pe(t).M_.size===0}function IO(t){t.L_=void 0}function i8(t){return v(this,null,function*(){t.N_.set("Online")})}function r8(t){return v(this,null,function*(){t.F_.forEach((e,n)=>{JI(t,e)})})}function s8(t,e){return v(this,null,function*(){IO(t),XI(t)?(t.N_.D_(e),ZI(t)):t.N_.set("Unknown")})}function o8(t,e,n){return v(this,null,function*(){if(t.N_.set("Online"),e instanceof Fp&&e.state===2&&e.cause)try{yield function(r,s){return v(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))})}(t,e)}catch(i){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Gp(t,i)}else if(e instanceof Ja?t.L_.Ke(e):e instanceof kp?t.L_.He(e):t.L_.We(e),!n.isEqual(ge.min()))try{let i=yield vO(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.F_.get(u);d&&s.F_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let d=s.F_.get(c);if(!d)return;s.F_.set(c,d.withResumeToken(cn.EMPTY_BYTE_STRING,d.snapshotVersion)),bO(s,c);let p=new yu(d.target,c,u,d.sequenceNumber);JI(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){J("RemoteStore","Failed to raise snapshot:",i),yield Gp(t,i)}})}function Gp(t,e,n){return v(this,null,function*(){if(!Su(e))throw e;t.M_.add(1),yield Au(t),t.N_.set("Offline"),n||(n=()=>vO(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){J("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield dm(t)}))})}function EO(t,e){return e().catch(n=>Gp(t,n,e))}function hm(t){return v(this,null,function*(){let e=pe(t),n=bs(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;a8(e);)try{let r=yield XW(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,c8(e,r)}catch(r){yield Gp(e,r)}DO(e)&&TO(e)})}function a8(t){return Mo(t)&&t.v_.length<10}function c8(t,e){t.v_.push(e);let n=bs(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function DO(t){return Mo(t)&&!bs(t).Zo()&&t.v_.length>0}function TO(t){bs(t).start()}function l8(t){return v(this,null,function*(){bs(t).V_()})}function u8(t){return v(this,null,function*(){let e=bs(t);for(let n of t.v_)e.d_(n.mutations)})}function d8(t,e,n){return v(this,null,function*(){let i=t.v_.shift(),r=xb.from(i,e,n);yield EO(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield hm(t)})}function h8(t,e){return v(this,null,function*(){e&&bs(t).E_&&(yield function(i,r){return v(this,null,function*(){if(function(o){return RW(o)&&o!==F.ABORTED}(r.code)){let s=i.v_.shift();bs(i).t_(),yield EO(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield hm(i)}})}(t,e)),DO(t)&&TO(t)})}function Rx(t,e){return v(this,null,function*(){let n=pe(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");let i=Mo(n);n.M_.add(3),yield Au(n),i&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield dm(n)})}function f8(t,e){return v(this,null,function*(){let n=pe(t);e?(n.M_.delete(2),yield dm(n)):e||(n.M_.add(2),yield Au(n),n.N_.set("Unknown"))})}function uc(t){return t.B_||(t.B_=function(n,i,r){let s=pe(n);return s.f_(),new hI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:i8.bind(null,t),To:r8.bind(null,t),Ao:s8.bind(null,t),h_:o8.bind(null,t)}),t.x_.push(e=>v(this,null,function*(){e?(t.B_.t_(),XI(t)?ZI(t):t.N_.set("Unknown")):(yield t.B_.stop(),IO(t))}))),t.B_}function bs(t){return t.k_||(t.k_=function(n,i,r){let s=pe(n);return s.f_(),new fI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:l8.bind(null,t),Ao:h8.bind(null,t),R_:u8.bind(null,t),A_:d8.bind(null,t)}),t.x_.push(e=>v(this,null,function*(){e?(t.k_.t_(),yield hm(t)):(yield t.k_.stop(),t.v_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var _I=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function eE(t,e){if(mr("AsyncQueue",`${e}: ${t}`),Su(t))return new q(F.UNAVAILABLE,`${e}: ${t}`);throw t}var zp=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||ie.comparator(n.key,i.key):(n,i)=>ie.comparator(n.key,i.key),this.keyedMap=au(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var qp=class{constructor(){this.q_=new ot(ie.comparator)}track(e){let n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ce():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}},ac=class t{constructor(e,n,i,r,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,zp.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var yI=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},vI=class{constructor(){this.queries=new ys(e=>Yx(e),cm),this.onlineState="Unknown",this.z_=new Set}};function CO(t,e){return v(this,null,function*(){let n=pe(t),i=3,r=e.query,s=n.queries.get(r);s?!s.W_()&&e.G_()&&(i=2):(s=new yI,i=e.G_()?0:1);try{switch(i){case 0:s.K_=yield n.onListen(r,!0);break;case 1:s.K_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(o){let a=eE(o,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&tE(n)})}function SO(t,e){return v(this,null,function*(){let n=pe(t),i=e.query,r=3,s=n.queries.get(i);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function p8(t,e){let n=pe(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(r)&&(i=!0);o.K_=r}}i&&tE(n)}function m8(t,e,n){let i=pe(t),r=i.queries.get(e);if(r)for(let s of r.U_)s.onError(n);i.queries.delete(e)}function tE(t){t.z_.forEach(e=>{e.next()})}var wI,Mx;(Mx=wI||(wI={})).J_="default",Mx.Cache="cache";var Wp=class{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new ac(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==wI.Cache}};var Qp=class{constructor(e){this.key=e}},Kp=class{constructor(e){this.key=e}},bI=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Se(),this.mutatedKeys=Se(),this.Ia=Jx(e),this.Ta=new zp(this.Ia)}get Ea(){return this.la}da(e,n){let i=n?n.Aa:new qp,r=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,p)=>{let m=r.get(d),_=lm(this.query,p)?p:null,D=!!m&&this.mutatedKeys.has(m.key),O=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),R=!1;m&&_?m.data.isEqual(_.data)?D!==O&&(i.track({type:3,doc:_}),R=!0):this.Ra(m,_)||(i.track({type:2,doc:_}),R=!0,(c&&this.Ia(_,c)>0||u&&this.Ia(_,u)<0)&&(a=!0)):!m&&_?(i.track({type:0,doc:_}),R=!0):m&&!_&&(i.track({type:1,doc:m}),R=!0,(c||u)&&(a=!0)),R&&(_?(o=o.add(_),s=O?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ta:o,Aa:i,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((d,p)=>function(_,D){let O=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return O(_)-O(D)}(d.type,p.type)||this.Ia(d.doc,p.doc)),this.Va(i),r=r!=null&&r;let a=n&&!r?this.ma():[],c=this.Pa.size===0&&this.current&&!r?1:0,u=c!==this.ha;return this.ha=c,o.length!==0||u?{snapshot:new ac(this.query,e.Ta,s,o,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new qp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=Se(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new Kp(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new Qp(i))}),n}pa(e){this.la=e.hs,this.Pa=Se();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ac.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},II=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},EI=class{constructor(e){this.key=e,this.wa=!1}},DI=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new ys(a=>Yx(a),cm),this.Da=new Map,this.Ca=new Set,this.va=new ot(ie.comparator),this.Fa=new Map,this.Ma=new wu,this.xa={},this.Oa=new Map,this.Na=vu.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function g8(t,e,n=!0){return v(this,null,function*(){let i=OO(t),r,s=i.ba.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield AO(i,e,n,!0),r})}function _8(t,e){return v(this,null,function*(){let n=OO(t);yield AO(n,e,!0,!1)})}function AO(t,e,n,i){return v(this,null,function*(){let r=yield e8(t.localStore,Oi(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield y8(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&wO(t.remoteStore,r),a})}function y8(t,e,n,i,r){return v(this,null,function*(){t.Ba=(p,m,_)=>function(O,R,k,Q){return v(this,null,function*(){let W=R.view.da(k);W.Xi&&(W=yield Ax(O.localStore,R.query,!1).then(({documents:I})=>R.view.da(I,W)));let z=Q&&Q.targetChanges.get(R.targetId),Te=Q&&Q.targetMismatches.get(R.targetId)!=null,re=R.view.applyChanges(W,O.isPrimaryClient,z,Te);return xx(O,R.targetId,re.fa),re.snapshot})}(t,p,m,_);let s=yield Ax(t.localStore,e,!0),o=new bI(e,s.hs),a=o.da(s.documents),c=_u.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=o.applyChanges(a,t.isPrimaryClient,c);xx(t,n,u.fa);let d=new II(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot})}function v8(t,e,n){return v(this,null,function*(){let i=pe(t),r=i.ba.get(e),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter(o=>!cm(o,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield aI(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&YI(i.remoteStore,r.targetId),TI(i,r.targetId)}).catch(Cu))):(TI(i,r.targetId),yield aI(i.localStore,r.targetId,!0))})}function w8(t,e){return v(this,null,function*(){let n=pe(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),YI(n.remoteStore,i.targetId))})}function b8(t,e,n){return v(this,null,function*(){let i=A8(t);try{let r=yield function(o,a){let c=pe(o),u=kt.now(),d=a.reduce((_,D)=>_.add(D.key),Se()),p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let D=_r(),O=Se();return c.os.getEntries(_,d).next(R=>{D=R,D.forEach((k,Q)=>{Q.isValidDocument()||(O=O.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,D)).next(R=>{p=R;let k=[];for(let Q of a){let W=AW(Q,p.get(Q.key).overlayedDocument);W!=null&&k.push(new Fi(Q.key,W,Hx(W.value.mapValue),ti.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,k,a)}).next(R=>{m=R;let k=R.applyToLocalDocumentSet(p,O);return c.documentOverlayCache.saveOverlays(_,R.batchId,k)})}).then(()=>({batchId:m.batchId,changes:Xx(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new ot(Fe)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(i,r.batchId,n),yield Ru(i,r.changes),yield hm(i.remoteStore)}catch(r){let s=eE(r,"Failed to persist write");n.reject(s)}})}function RO(t,e){return v(this,null,function*(){let n=pe(t);try{let i=yield JW(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Fa.get(s);o&&(Ge(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?Ge(o.wa):r.removedDocuments.size>0&&(Ge(o.wa),o.wa=!1))}),yield Ru(n,i,e)}catch(i){yield Cu(i)}})}function Nx(t,e,n){let i=pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=pe(o);c.onlineState=a;let u=!1;c.queries.forEach((d,p)=>{for(let m of p.U_)m.j_(a)&&(u=!0)}),u&&tE(c)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function I8(t,e,n){return v(this,null,function*(){let i=pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Fa.get(e),s=r&&r.key;if(s){let o=new ot(ie.comparator);o=o.insert(s,ii.newNoDocument(s,ge.min()));let a=Se().add(s),c=new Pp(ge.min(),new Map,new ot(Fe),o,a);yield RO(i,c),i.va=i.va.remove(s),i.Fa.delete(e),nE(i)}else yield aI(i.localStore,e,!1).then(()=>TI(i,e,n)).catch(Cu)})}function E8(t,e){return v(this,null,function*(){let n=pe(t),i=e.batch.batchId;try{let r=yield YW(n.localStore,e);NO(n,i,null),MO(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Ru(n,r)}catch(r){yield Cu(r)}})}function D8(t,e,n){return v(this,null,function*(){let i=pe(t);try{let r=yield function(o,a){let c=pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(Ge(p!==null),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(i.localStore,e);NO(i,e,n),MO(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Ru(i,r)}catch(r){yield Cu(r)}})}function MO(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function NO(t,e,n){let i=pe(t),r=i.xa[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function TI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||xO(t,i)})}function xO(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(YI(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),nE(t))}function xx(t,e,n){for(let i of n)i instanceof Qp?(t.Ma.addReference(i.key,e),T8(t,i)):i instanceof Kp?(J("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||xO(t,i.key)):ce()}function T8(t,e){let n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(J("SyncEngine","New document in limbo: "+n),t.Ca.add(i),nE(t))}function nE(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new ie(et.fromString(e)),i=t.Na.next();t.Fa.set(i,new EI(n)),t.va=t.va.insert(n,i),wO(t.remoteStore,new yu(Oi(QI(n.path)),i,"TargetPurposeLimboResolution",Ux.oe))}}function Ru(t,e,n){return v(this,null,function*(){let i=pe(t),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,c)=>{o.push(i.Ba(c,e,n).then(u=>{var d;if((u||n)&&i.isPrimaryClient){let p=u?!u.fromCache:(d=n?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){r.push(u);let p=iI.Ki(c.targetId,u);s.push(p)}}))}),yield Promise.all(o),i.Sa.h_(r),yield function(c,u){return v(this,null,function*(){let d=pe(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(u,m=>U.forEach(m.qi,_=>d.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>U.forEach(m.Qi,_=>d.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!Su(p))throw p;J("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let m=p.targetId;if(!p.fromCache){let _=d.ns.get(m),D=_.snapshotVersion,O=_.withLastLimboFreeSnapshotVersion(D);d.ns=d.ns.insert(m,O)}}})}(i.localStore,s))})}function C8(t,e){return v(this,null,function*(){let n=pe(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());let i=yield yO(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new q(F.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ru(n,i.us)}})}function S8(t,e){let n=pe(t),i=n.Fa.get(e);if(i&&i.wa)return Se().add(i.key);{let r=Se(),s=n.Da.get(e);if(!s)return r;for(let o of s){let a=n.ba.get(o);r=r.unionWith(a.view.Ea)}return r}}function OO(t){let e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I8.bind(null,e),e.Sa.h_=p8.bind(null,e.eventManager),e.Sa.ka=m8.bind(null,e.eventManager),e}function A8(t){let e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D8.bind(null,e),e}var Yp=class{constructor(){this.synchronizeTabs=!1}initialize(e){return v(this,null,function*(){this.serializer=um(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return KW(this.persistence,new sI,e.initialUser,this.serializer)}createPersistence(e){return new eI(nI.Hr,this.serializer)}createSharedClientState(e){return new cI}terminate(){return v(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var CI=class{initialize(e,n){return v(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Nx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=C8.bind(null,this.syncEngine),yield f8(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new vI}()}createDatastore(e){let n=um(e.databaseInfo.databaseId),i=function(s){return new dI(s)}(e.databaseInfo);return function(s,o,a,c){return new pI(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new gI(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Nx(this.syncEngine,n,0),function(){return jp.D()?new jp:new lI}())}createSyncEngine(e,n){return function(r,s,o,a,c,u,d){let p=new DI(r,s,o,a,c,u);return d&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return v(this,null,function*(){var e;yield function(i){return v(this,null,function*(){let r=pe(i);J("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Au(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Jp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var SI=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Tt.UNAUTHENTICATED,this.clientId=Sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>v(this,null,function*(){J("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=eE(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function rb(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>v(this,null,function*(){i.isEqual(r)||(yield yO(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Ox(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield M8(t);J("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Rx(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>Rx(e.remoteStore,r)),t._onlineComponents=e})}function R8(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function M8(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{yield rb(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!R8(n))throw n;Xa("Error using user provided cache. Falling back to memory cache: "+n),yield rb(t,new Yp)}}else J("FirestoreClient","Using default OfflineComponentProvider"),yield rb(t,new Yp);return t._offlineComponents})}function PO(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ox(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),yield Ox(t,new CI))),t._onlineComponents})}function N8(t){return PO(t).then(e=>e.syncEngine)}function AI(t){return v(this,null,function*(){let e=yield PO(t),n=e.eventManager;return n.onListen=g8.bind(null,e.syncEngine),n.onUnlisten=v8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=w8.bind(null,e.syncEngine),n})}function x8(t,e,n={}){let i=new Ni;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(s,o,a,c,u){let d=new Jp({next:m=>{o.enqueueAndForget(()=>SO(s,p)),m.fromCache&&c.source==="server"?u.reject(new q(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new Wp(a,d,{includeMetadataChanges:!0,ra:!0});return CO(s,p)}(yield AI(t),t.asyncQueue,e,n,i)})),i.promise}function kO(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Px=new Map;function FO(t,e,n){if(!n)throw new q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O8(t,e,n,i){if(e===!0&&i===!0)throw new q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kx(t){if(!ie.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fx(t){if(ie.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function ni(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=fm(t);throw new q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function P8(t,e){if(e<=0)throw new q(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Zp=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kO((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},cc=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zp(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ob;switch(i.type){case"firstParty":return new ub(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=Px.get(n);i&&(J("ComponentProvider","Removing Datastore"),Px.delete(n),i.terminate())}(this),Promise.resolve()}};function LO(t,e,n,i={}){var r;let s=(t=ni(t,cc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=Tt.MOCK_USER;else{a=Gf(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Tt(u)}t._authCredentials=new ab(new Cp(a,c))}}var yr=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},an=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ms=class t extends yr{constructor(e,n,i){super(e,n,QI(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new ie(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function VO(t,e,...n){if(t=ke(t),FO("collection","path",e),t instanceof cc){let i=et.fromString(e,...n);return Fx(i),new ms(t,null,i)}{if(!(t instanceof an||t instanceof ms))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(et.fromString(e,...n));return Fx(i),new ms(t.firestore,null,i)}}function BO(t,e,...n){if(t=ke(t),arguments.length===1&&(e=Sp.newId()),FO("doc","path",e),t instanceof cc){let i=et.fromString(e,...n);return kx(i),new an(t,null,new ie(i))}{if(!(t instanceof an||t instanceof ms))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(et.fromString(e,...n));return kx(i),new an(t.firestore,t instanceof ms?t.converter:null,new ie(i))}}var RI=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new $p(this,"async_queue_retry"),this.hu=()=>{let n=ib();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=ib();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=ib();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Ni;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return v(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Su(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw mr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let r=_I.createAndSchedule(this,e,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&ce()}verifyOperationInProgress(){}du(){return v(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function Lx(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}var vr=class extends cc{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new RI}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jO(this),this._firestoreClient.terminate()}};function UO(t,e){let n=typeof t=="object"?t:as(),i=typeof t=="string"?t:e||"(default)",r=lo(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=Hf("firestore");s&&LO(r,...s)}return r}function pm(t){return t._firestoreClient||jO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jO(t){var e,n,i;let r=t._freezeSettings(),s=function(a,c,u,d){return new mb(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,kO(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new SI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var bu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(cn.fromBase64String(e))}catch(n){throw new q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ao=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Is=class{constructor(e){this._methodName=e}};var Iu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}};var k8=/^__.*__$/,MI=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new So(e,this.data,n,this.fieldTransforms)}},Xp=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function $O(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}var em=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return nm(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if($O(this.fu)&&k8.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},NI=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||um(e)}Fu(e,n,i,r=!1){return new em({fu:e,methodName:n,vu:i,path:Rn.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function mm(t){let e=t._freezeSettings(),n=um(t._databaseId);return new NI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HO(t,e,n,i,r,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,r);iE("Data must be an object, but it was:",o,i);let a=WO(i,o),c,u;if(s.merge)c=new Ln(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let p of s.mergeFields){let m=kI(e,p,n);if(!o.contains(m))throw new q(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);KO(d,m)||d.push(m)}c=new Ln(d),u=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=o.fieldTransforms;return new MI(new An(a),c,u)}var tm=class t extends Is{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function GO(t,e,n){return new em({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var xI=class t extends Is{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=GO(this,e,!0),i=this.Mu.map(s=>No(s,n)),r=new vs(i);return new mu(e.path,r)}isEqual(e){return e instanceof t&&lr(this.Mu,e.Mu)}},OI=class t extends Is{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){let n=GO(this,e,!0),i=this.Mu.map(s=>No(s,n)),r=new ws(i);return new mu(e.path,r)}isEqual(e){return e instanceof t&&lr(this.Mu,e.Mu)}},PI=class t extends Is{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){let n=new Co(e.serializer,iO(e.serializer,this.xu));return new mu(e.path,n)}isEqual(e){return e instanceof t&&this.xu===e.xu}};function zO(t,e,n,i){let r=t.Fu(1,e,n);iE("Data must be an object, but it was:",r,i);let s=[],o=An.empty();Ro(i,(c,u)=>{let d=rE(e,c,n);u=ke(u);let p=r.Su(d);if(u instanceof tm)s.push(d);else{let m=No(u,p);m!=null&&(s.push(d),o.set(d,m))}});let a=new Ln(s);return new Xp(o,a,r.fieldTransforms)}function qO(t,e,n,i,r,s){let o=t.Fu(1,e,n),a=[kI(e,i,n)],c=[r];if(s.length%2!=0)throw new q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(kI(e,s[m])),c.push(s[m+1]);let u=[],d=An.empty();for(let m=a.length-1;m>=0;--m)if(!KO(u,a[m])){let _=a[m],D=c[m];D=ke(D);let O=o.Su(_);if(D instanceof tm)u.push(_);else{let R=No(D,O);R!=null&&(u.push(_),d.set(_,R))}}let p=new Ln(u);return new Xp(d,p,o.fieldTransforms)}function F8(t,e,n,i=!1){return No(n,t.Fu(i?4:3,e))}function No(t,e){if(QO(t=ke(t)))return iE("Unsupported field value:",e,t),WO(t,e);if(t instanceof Is)return function(i,r){if(!$O(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=No(a,r.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=ke(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return iO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=kt.fromDate(i);return{timestampValue:Vp(r.serializer,s)}}if(i instanceof kt){let s=new kt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vp(r.serializer,s)}}if(i instanceof Iu)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof bu)return{bytesValue:dO(r.serializer,i._byteString)};if(i instanceof an){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:KI(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${fm(i)}`)}(t,e)}function WO(t,e){let n={};return jx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(t,(i,r)=>{let s=No(r,e.pu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function QO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof Iu||t instanceof bu||t instanceof an||t instanceof Is)}function iE(t,e,n){if(!QO(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=fm(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function kI(t,e,n){if((e=ke(e))instanceof Ao)return e._internalPath;if(typeof e=="string")return rE(t,e);throw nm("Field path arguments must be of type string or ",t,!1,void 0,n)}var L8=new RegExp("[~\\*/\\[\\]]");function rE(t,e,n){if(e.search(L8)>=0)throw nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ao(...e.split("."))._internalPath}catch{throw nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nm(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new q(F.INVALID_ARGUMENT,a+t+c)}function KO(t,e){return t.some(n=>n.isEqual(e))}var im=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new FI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(gm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},FI=class extends im{data(){return super.data()}};function gm(t,e){return typeof e=="string"?rE(t,e):e instanceof Ao?e._internalPath:e._delegate._internalPath}function YO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Eu=class{},Du=class extends Eu{};function JO(t,e,...n){let i=[];e instanceof Eu&&i.push(e),i=i.concat(n),function(s){let o=s.filter(c=>c instanceof LI).length,a=s.filter(c=>c instanceof rm).length;if(o>1||o>0&&a>0)throw new q(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var rm=class t extends Du{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return tP(e._query,n),new yr(e.firestore,e.converter,Ab(e._query,n))}_parse(e){let n=mm(e.firestore);return function(s,o,a,c,u,d,p){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new q(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Bx(p,d);let _=[];for(let D of p)_.push(Vx(c,s,D));m={arrayValue:{values:_}}}else m=Vx(c,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Bx(p,d),m=F8(a,o,p,d==="in"||d==="not-in");return gt.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function ZO(t,e,n){let i=e,r=gm("where",t);return rm._create(r,i,n)}var LI=class t extends Eu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let c of a)tP(o,c),o=Ab(o,c)}(e._query,n),new yr(e.firestore,e.converter,Ab(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var VI=class t extends Du{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,s,o){if(r.startAt!==null)throw new q(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new q(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new To(s,o)}(e._query,this._field,this._direction);return new yr(e.firestore,e.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new _s(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function XO(t,e="asc"){let n=e,i=gm("orderBy",t);return VI._create(i,n)}var BI=class t extends Du{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){return new yr(e.firestore,e.converter,Op(e._query,this._limit,this._limitType))}};function eP(t){return P8("limit",t),BI._create("limit",t,"F")}function Vx(t,e,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new q(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kx(e)&&n.indexOf("/")!==-1)throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(et.fromString(n));if(!ie.isDocumentKey(i))throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return dx(t,new ie(i))}if(n instanceof an)return dx(t,n._key);throw new q(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fm(n)}.`)}function Bx(t,e){if(!Array.isArray(t)||t.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tP(t,e){let n=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var UI=class{convertValue(e,n="none"){switch(Do(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return Ro(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new Iu(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=GI(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){let n=gr(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=et.fromString(e);Ge(_O(i));let r=new Np(i.get(1),i.get(3)),s=new ie(i.popFirst(5));return r.isEqual(n)||mr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function nP(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var bo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},sm=class extends im{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Za(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(gm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Za=class extends sm{data(e={}){return super.data(e)}},om=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new bo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Za(this._firestore,this._userDataWriter,i.key,i,new bo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let c=new Za(r._firestore,r._userDataWriter,a.doc.key,a.doc,new bo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Za(r._firestore,r._userDataWriter,a.doc.key,a.doc,new bo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:V8(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function V8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}var Tu=class extends UI{constructor(e){super(),this.firestore=e}convertBytes(e){return new bu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}};function iP(t){t=ni(t,yr);let e=ni(t.firestore,vr),n=pm(e),i=new Tu(e);return YO(t._query),x8(n,t._query).then(r=>new om(e,i,t,r))}function rP(t,e,n){t=ni(t,an);let i=ni(t.firestore,vr),r=nP(t.converter,e,n);return oE(i,[HO(mm(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,ti.none())])}function sP(t,e,n,...i){t=ni(t,an);let r=ni(t.firestore,vr),s=mm(r),o;return o=typeof(e=ke(e))=="string"||e instanceof Ao?qO(s,"updateDoc",t._key,e,n,i):zO(s,"updateDoc",t._key,e),oE(r,[o.toMutation(t._key,ti.exists(!0))])}function sE(t,...e){var n,i,r;t=ke(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Lx(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Lx(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),e[o+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}let c,u,d;if(t instanceof an)u=ni(t.firestore,vr),d=QI(t._key.path),c={next:p=>{e[o]&&e[o](B8(u,t,p))},error:e[o+1],complete:e[o+2]};else{let p=ni(t,yr);u=ni(p.firestore,vr),d=p._query;let m=new Tu(u);c={next:_=>{e[o]&&e[o](new om(u,m,p,_))},error:e[o+1],complete:e[o+2]},YO(t._query)}return function(m,_,D,O){let R=new Jp(O),k=new Wp(_,R,D);return m.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return CO(yield AI(m),k)})),()=>{R.$a(),m.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return SO(yield AI(m),k)}))}}(pm(u),d,a,c)}function oE(t,e){return function(i,r){let s=new Ni;return i.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return b8(yield N8(i),r,s)})),s.promise}(pm(t),e)}function B8(t,e,n){let i=n.docs.get(e._key),r=new Tu(t);return new sm(t,r,e._key,i,new bo(n.hasPendingWrites,n.fromCache),e.converter)}var jI=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mm(e)}set(e,n,i){this._verifyNotCommitted();let r=sb(e,this._firestore),s=nP(r.converter,n,i),o=HO(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(o.toMutation(r._key,ti.none())),this}update(e,n,i,...r){this._verifyNotCommitted();let s=sb(e,this._firestore),o;return o=typeof(n=ke(n))=="string"||n instanceof Ao?qO(this._dataReader,"WriteBatch.update",s._key,n,i,r):zO(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,ti.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=sb(e,this._firestore);return this._mutations=this._mutations.concat(new gu(n._key,ti.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new q(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function sb(t,e){if((t=ke(t)).firestore!==e)throw new q(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function oP(...t){return new xI("arrayUnion",t)}function aP(...t){return new OI("arrayRemove",t)}function cP(t){return new PI("increment",t)}function lP(t){return pm(t=ni(t,vr)),new jI(t,e=>oE(t,e))}(function(e,n=!0){(function(r){lc=r})(Ci),Di(new gn("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new vr(new cb(i.getProvider("auth-internal")),new hb(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Np(u.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ye(cx,"4.6.4",e),Ye(cx,"4.6.4","esm2017")})();var _m=function(){return _m=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_m.apply(this,arguments)};var $8={includeMetadataChanges:!1};function aE(t,e){return e===void 0&&(e=$8),new ne(function(n){var i=sE(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:i}})}function uP(t){return aE(t,{includeMetadataChanges:!0})}function dP(t,e){return e===void 0&&(e={}),uP(t).pipe(Z(function(n){return cE(n,e)}))}function cE(t,e){var n;e===void 0&&(e={});var i=t.data(e);return!t.exists()||typeof i!="object"||i===null||!e.idField?i:_m(_m({},i),(n={},n[e.idField]=t.id,n))}function hP(t){return aE(t,{includeMetadataChanges:!0}).pipe(Z(function(e){return e.docs}))}function fP(t,e){return e===void 0&&(e={}),hP(t).pipe(Z(function(n){return n.map(function(i){return cE(i,e)})}))}var Mn=class{constructor(e){return e}},pP="firestore",lE=class{constructor(){return ho(pP)}};var uE=new G("angularfire2.firestore-instances");function H8(t,e){let n=Ha(pP,t,e);return n&&new Mn(n)}function G8(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Mn(i)}}var z8={provide:lE,deps:[[new lt,uE]]},q8={provide:Mn,useFactory:H8,deps:[[new lt,uE],ei]};function cae(t,...e){return Ye("angularfire",ur.full,"fst"),fn([q8,z8,{provide:uE,useFactory:G8(t),multi:!0,deps:[de,Ue,ls,dr,[new lt,yo],[new lt,cs],...e]}])}var Es=Pe(fP,!0);var ym=Pe(dP,!0);var mP=Pe(aP,!0),gP=Pe(oP,!0);var _n=Pe(VO,!0);var _t=Pe(BO,!0);var xo=Pe(iP,!0);var lae=Pe(UO,!0);var dE=Pe(cP,!0);var hE=Pe(eP,!0);var Oo=Pe(XO,!0);var si=Pe(JO,!0);var _P=Pe(rP,!0);var yP=Pe(sP,!0);var Po=Pe(ZO,!0),wr=Pe(lP,!0);var wm={toFirestore:t=>t,fromFirestore:t=>{let e=t.data();return e.createdAt=e.createdAt.toDate(),e}};var bm,W8=new Uint8Array(16);function fE(){if(!bm&&(bm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bm(W8)}var Ft=[];for(let t=0;t<256;++t)Ft.push((t+256).toString(16).slice(1));function vP(t,e=0){return Ft[t[e+0]]+Ft[t[e+1]]+Ft[t[e+2]]+Ft[t[e+3]]+"-"+Ft[t[e+4]]+Ft[t[e+5]]+"-"+Ft[t[e+6]]+Ft[t[e+7]]+"-"+Ft[t[e+8]]+Ft[t[e+9]]+"-"+Ft[t[e+10]]+Ft[t[e+11]]+Ft[t[e+12]]+Ft[t[e+13]]+Ft[t[e+14]]+Ft[t[e+15]]}var Q8=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),pE={randomUUID:Q8};function K8(t,e,n){if(pE.randomUUID&&!e&&!t)return pE.randomUUID();t=t||{};let i=t.random||(t.rng||fE)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=i[r];return e}return vP(i)}var Ds=K8;var CP="firebasestorage.googleapis.com",SP="storageBucket",Y8=2*60*1e3,J8=10*60*1e3;var at=class t extends on{constructor(e,n,i=0){super(mE(e),`Firebase Storage: ${n} (${mE(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ht=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(ht||{});function mE(t){return"storage/"+t}function bE(){let t="An unknown error occurred, please check the error payload for server response.";return new at(ht.UNKNOWN,t)}function Z8(t){return new at(ht.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function X8(t){return new at(ht.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function e9(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new at(ht.UNAUTHENTICATED,t)}function t9(){return new at(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function n9(t){return new at(ht.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function i9(){return new at(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function r9(){return new at(ht.CANCELED,"User canceled the upload/download.")}function s9(t){return new at(ht.INVALID_URL,"Invalid URL '"+t+"'.")}function o9(t){return new at(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function a9(){return new at(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+SP+"' property when initializing the app?")}function c9(){return new at(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function l9(){return new at(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function u9(t){return new at(ht.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gE(t){return new at(ht.INVALID_ARGUMENT,t)}function AP(){return new at(ht.APP_DELETED,"The Firebase app was deleted.")}function d9(t){return new at(ht.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nu(t,e){return new at(ht.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Mu(t){throw new at(ht.INTERNAL_ERROR,"Internal error: "+t)}var oi=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(i.path==="")return i;throw o9(e)}static makeFromUrl(e,n){let i=null,r="([A-Za-z0-9.\\-_]+)";function s(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),c={bucket:1,path:3};function u(z){z.path_=decodeURIComponent(z.path)}let d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",_=new RegExp(`^https?://${p}/${d}/b/${r}/o${m}`,"i"),D={bucket:1,path:3},O=n===CP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",k=new RegExp(`^https?://${O}/${r}/${R}`,"i"),W=[{regex:a,indices:c,postModify:s},{regex:_,indices:D,postModify:u},{regex:k,indices:{bucket:1,path:2},postModify:u}];for(let z=0;z<W.length;z++){let Te=W[z],re=Te.regex.exec(e);if(re){let I=re[Te.indices.bucket],y=re[Te.indices.path];y||(y=""),i=new t(I,y),Te.postModify(i);break}}if(i==null)throw s9(e);return i}},_E=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function h9(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function d(...R){u||(u=!0,e.apply(null,R))}function p(R){r=setTimeout(()=>{r=null,t(_,c())},R)}function m(){s&&clearTimeout(s)}function _(R,...k){if(u){m();return}if(R){m(),d.call(null,R,...k);return}if(c()||o){m(),d.call(null,R,...k);return}i<64&&(i*=2);let W;a===1?(a=2,W=0):W=(i+Math.random())*1e3,p(W)}let D=!1;function O(R){D||(D=!0,m(),!u&&(r!==null?(R||(a=2),clearTimeout(r),p(0)):R||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,O(!0)},n),O}function f9(t){t(!1)}function p9(t){return t!==void 0}function m9(t){return typeof t=="object"&&!Array.isArray(t)}function IE(t){return typeof t=="string"||t instanceof String}function wP(t){return EE()&&t instanceof Blob}function EE(){return typeof Blob<"u"}function bP(t,e,n,i){if(i<e)throw gE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw gE(`Invalid value for '${t}'. Expected ${n} or less.`)}function Tm(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function RP(t){let e=encodeURIComponent,n="?";for(let i in t)if(t.hasOwnProperty(i)){let r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var hc=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(hc||{});function g9(t,e){let n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}var yE=class{constructor(e,n,i,r,s,o,a,c,u,d,p,m=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,D)=>{this.resolve_=_,this.reject_=D,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new dc(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===hc.NO_ERROR,c=s.getStatus();if(!a||g9(c,this.additionalRetryCodes_)&&this.retry){let d=s.getErrorCode()===hc.ABORT;i(!1,new dc(!1,null,d));return}let u=this.successCodes_.indexOf(c)!==-1;i(!0,new dc(u,s))})},n=(i,r)=>{let s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());p9(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=bE();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(r.canceled){let c=this.appDelete_?AP():r9();o(c)}else{let c=i9();o(c)}};this.canceled_?n(!1,new dc(!1,null,!0)):this.backoffId_=h9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&f9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},dc=class{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}};function _9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function y9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function v9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function w9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function b9(t,e,n,i,r,s,o=!0){let a=RP(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return v9(u,e),_9(u,n),y9(u,s),w9(u,i),new yE(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}function I9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function E9(...t){let e=I9();if(e!==void 0){let n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(EE())return new Blob(t);throw new at(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function D9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function T9(t){if(typeof atob>"u")throw u9("base-64");return atob(t)}var Li={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},xu=class{constructor(e,n){this.data=e,this.contentType=n||null}};function C9(t,e){switch(t){case Li.RAW:return new xu(MP(e));case Li.BASE64:case Li.BASE64URL:return new xu(NP(t,e));case Li.DATA_URL:return new xu(A9(e),R9(e))}throw bE()}function MP(t){let e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=i,o=t.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function S9(t){let e;try{e=decodeURIComponent(t)}catch{throw Nu(Li.DATA_URL,"Malformed data URL.")}return MP(e)}function NP(t,e){switch(t){case Li.BASE64:{let r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw Nu(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Li.BASE64URL:{let r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw Nu(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=T9(e)}catch(r){throw r.message.includes("polyfill")?r:Nu(t,"Invalid character found")}let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}var Em=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Nu(Li.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=n[1]||null;i!=null&&(this.base64=M9(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function A9(t){let e=new Em(t);return e.base64?NP(Li.BASE64,e.rest):S9(e.rest)}function R9(t){return new Em(t).contentType}function M9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Dm=class t{constructor(e,n){let i=0,r="";wP(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(wP(this.data_)){let i=this.data_,r=D9(i,e,n);return r===null?null:new t(r)}else{let i=new Uint8Array(this.data_.buffer,e,n-e);return new t(i,!0)}}static getBlob(...e){if(EE()){let n=e.map(i=>i instanceof t?i.data_:i);return new t(E9.apply(null,n))}else{let n=e.map(o=>IE(o)?C9(Li.RAW,o).data:o.data_),i=0;n.forEach(o=>{i+=o.byteLength});let r=new Uint8Array(i),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new t(r,!0)}}uploadData(){return this.data_}};function xP(t){let e;try{e=JSON.parse(t)}catch{return null}return m9(e)?e:null}function N9(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function x9(t,e){let n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function OP(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function O9(t,e){return e}var Lt=class{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||O9}},Im=null;function P9(t){return!IE(t)||t.length<2?t:OP(t)}function PP(){if(Im)return Im;let t=[];t.push(new Lt("bucket")),t.push(new Lt("generation")),t.push(new Lt("metageneration")),t.push(new Lt("name","fullPath",!0));function e(s,o){return P9(o)}let n=new Lt("name");n.xform=e,t.push(n);function i(s,o){return o!==void 0?Number(o):o}let r=new Lt("size");return r.xform=i,t.push(r),t.push(new Lt("timeCreated")),t.push(new Lt("updated")),t.push(new Lt("md5Hash",null,!0)),t.push(new Lt("cacheControl",null,!0)),t.push(new Lt("contentDisposition",null,!0)),t.push(new Lt("contentEncoding",null,!0)),t.push(new Lt("contentLanguage",null,!0)),t.push(new Lt("contentType",null,!0)),t.push(new Lt("metadata","customMetadata",!0)),Im=t,Im}function k9(t,e){function n(){let i=t.bucket,r=t.fullPath,s=new oi(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function F9(t,e,n){let i={};i.type="file";let r=n.length;for(let s=0;s<r;s++){let o=n[s];i[o.local]=o.xform(i,e[o.server])}return k9(i,t),i}function kP(t,e,n){let i=xP(e);return i===null?null:F9(t,i,n)}function L9(t,e,n,i){let r=xP(e);if(r===null||!IE(r.downloadTokens))return null;let s=r.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(u=>{let d=t.bucket,p=t.fullPath,m="/b/"+o(d)+"/o/"+o(p),_=Tm(m,n,i),D=RP({alt:"media",token:u});return _+D})[0]}function V9(t,e){let n={},i=e.length;for(let r=0;r<i;r++){let s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var Ou=class{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function FP(t){if(!t)throw bE()}function B9(t,e){function n(i,r){let s=kP(t,r,e);return FP(s!==null),s}return n}function U9(t,e){function n(i,r){let s=kP(t,r,e);return FP(s!==null),L9(s,r,t.host,t._protocol)}return n}function LP(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=t9():r=e9():n.getStatus()===402?r=X8(t.bucket):n.getStatus()===403?r=n9(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function VP(t){let e=LP(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=Z8(t.path)),s.serverResponse=r.serverResponse,s}return n}function j9(t,e,n){let i=e.fullServerUrl(),r=Tm(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ou(r,s,U9(t,n),o);return a.errorHandler=VP(e),a}function $9(t,e){let n=e.fullServerUrl(),i=Tm(n,t.host,t._protocol),r="DELETE",s=t.maxOperationRetryTime;function o(c,u){}let a=new Ou(i,r,o,s);return a.successCodes=[200,204],a.errorHandler=VP(e),a}function H9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function G9(t,e,n){let i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=H9(null,e)),i}function z9(t,e,n,i,r){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let W="";for(let z=0;z<2;z++)W=W+Math.random().toString().slice(2);return W}let c=a();o["Content-Type"]="multipart/related; boundary="+c;let u=G9(e,i,r),d=V9(u,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+c+"--",_=Dm.getBlob(p,i,m);if(_===null)throw c9();let D={name:u.fullPath},O=Tm(s,t.host,t._protocol),R="POST",k=t.maxUploadRetryTime,Q=new Ou(O,R,B9(t,n),k);return Q.urlParams=D,Q.headers=o,Q.body=_.uploadData(),Q.errorHandler=LP(e),Q}var Dae=256*1024;var IP=null,vE=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw Mu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(let s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},wE=class extends vE{initXhr(){this.xhr_.responseType="text"}};function DE(){return IP?IP():new wE}var fc=class t{constructor(e,n){this._service=e,n instanceof oi?this._location=n:this._location=oi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new oi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OP(this._location.path)}get storage(){return this._service}get parent(){let e=N9(this._location.path);if(e===null)return null;let n=new oi(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw d9(e)}};function q9(t,e,n){t._throwIfRoot("uploadBytes");let i=z9(t.storage,t._location,PP(),new Dm(e,!0),n);return t.storage.makeRequestWithTokens(i,DE).then(r=>({metadata:r,ref:t}))}function W9(t){t._throwIfRoot("getDownloadURL");let e=j9(t.storage,t._location,PP());return t.storage.makeRequestWithTokens(e,DE).then(n=>{if(n===null)throw l9();return n})}function Q9(t){t._throwIfRoot("deleteObject");let e=$9(t.storage,t._location);return t.storage.makeRequestWithTokens(e,DE)}function K9(t,e){let n=x9(t._location.path,e),i=new oi(t._location.bucket,n);return new fc(t.storage,i)}function Y9(t){return/^[A-Za-z]+:\/\//.test(t)}function J9(t,e){return new fc(t,e)}function BP(t,e){if(t instanceof Pu){let n=t;if(n._bucket==null)throw a9();let i=new fc(n,n._bucket);return e!=null?BP(i,e):i}else return e!==void 0?K9(t,e):t}function Z9(t,e){if(e&&Y9(e)){if(t instanceof Pu)return J9(t,e);throw gE("To use ref(service, url), the first argument must be a Storage instance.")}else return BP(t,e)}function EP(t,e){let n=e?.[SP];return n==null?null:oi.makeFromBucketSpec(n,t)}function X9(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:Gf(r,t.app.options.projectId))}var Pu=class{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=CP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Y8,this._maxUploadRetryTime=J8,this._requests=new Set,r!=null?this._bucket=oi.makeFromBucketSpec(r,this._host):this._bucket=EP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=oi.makeFromBucketSpec(this._url,e):this._bucket=EP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return v(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return v(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fc(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new _E(AP());{let o=b9(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return v(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()})}},DP="@firebase/storage",TP="0.12.6";var UP="storage";function jP(t,e,n){return t=ke(t),q9(t,e,n)}function $P(t){return t=ke(t),W9(t)}function HP(t){return t=ke(t),Q9(t)}function GP(t,e){return t=ke(t),Z9(t,e)}function zP(t=as(),e){t=ke(t);let i=lo(t,UP).getImmediate({identifier:e}),r=Hf("storage");return r&&qP(i,...r),i}function qP(t,e,n,i={}){X9(t,e,n,i)}function e7(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Pu(n,i,r,e,Ci)}function t7(){Di(new gn(UP,e7,"PUBLIC").setMultipleInstances(!0)),Ye(DP,TP,""),Ye(DP,TP,"esm2017")}t7();var br=class{constructor(e){return e}},WP="storage",TE=class{constructor(){return ho(WP)}};var CE=new G("angularfire2.storage-instances");function n7(t,e){let n=Ha(WP,t,e);return n&&new br(n)}function i7(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new br(i)}}var r7={provide:TE,deps:[[new lt,CE]]},s7={provide:br,useFactory:n7,deps:[[new lt,CE],ei]};function zae(t,...e){return Ye("angularfire",ur.full,"gcs"),fn([s7,r7,{provide:CE,useFactory:i7(t),multi:!0,deps:[de,Ue,ls,dr,[new lt,yo],[new lt,cs],...e]}])}var QP=Pe(HP,!0);var Cm=Pe($P,!0);var qae=Pe(zP,!0);var pc=Pe(GP,!0);var Sm=Pe(jP,!0);var ko="levels",mc=(()=>{let e=class e{constructor(i){this.firestore=i}getLevels(i){let r=si(_n(this.firestore,`${Ct}/${i}/${ko}`),Oo("name","asc"));return Es(r)}addLevels(i,r){r.id=Ds();let s=wr(this.firestore);return s.update(_t(this.firestore,Ct,i),{levels:dE(1)}),s.set(_t(this.firestore,`${Ct}/${i}/${ko}`,r.id),r),s.commit()}deleteLevel(i,r){return v(this,null,function*(){let s=wr(this.firestore),o=_n(this.firestore,AE),a=si(o,Po("levelID","==",r));(yield xo(a)).forEach(d=>{s.delete(d.ref)});let u=_t(this.firestore,`${Ct}/${i}/${ko}/${r}`);s.update(_t(this.firestore,Ct,i),{levels:dE(-1)}),s.delete(u),yield s.commit()})}updateLevel(i,r){let s=_t(this.firestore,`${Ct}/${i}/${ko}/${r.id}`);return _P(s,r)}};e.\u0275fac=function(r){return new(r||e)(H(Mn))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var AE="submissions",Ct="quiz",Ts=(()=>{let e=class e{constructor(i,r){this.firestore=i,this.storage=r}publishGame(i){return yP(_t(this.firestore,Ct,i),{visible:!0})}createQuiz(i){return v(this,null,function*(){try{let r=_t(_n(this.firestore,Ct)).id;i.id=r;let s=wr(this.firestore);s.set(_t(this.firestore,Ct,i.id).withConverter(wm),i);for(let o=0;o<i.levels;o++){let a={id:Ds(),name:"Level "+(o+1),questions:10,points:1,timer:2},c=_t(this.firestore,`${Ct}/${i.id}/${ko}`,a.id);s.set(c,a)}return yield s.commit(),i.id}catch(r){return console.error("Error creating quiz: ",r),null}})}uploadFile(i){return v(this,null,function*(){try{let r=pc(this.storage,`${Ct}/${Ds()}`);return yield Sm(r,i),yield Cm(r)}catch(r){throw console.error("Error uploading file:",r),r}})}getAllQuiz(){let i=si(_n(this.firestore,Ct).withConverter(wm),Oo("createdAt","desc"));return Es(i)}getQuizById(i){return ym(_t(this.firestore,Ct,i).withConverter(wm))}deleteQuiz(i,r){return v(this,null,function*(){let s=wr(this.firestore),o=_n(this.firestore,AE),a=si(o,Po("quizID","==",i));(yield xo(a)).forEach(m=>{s.delete(m.ref)});let u=_n(this.firestore,`${Ct}/${i}/${ko}`);(yield xo(u)).forEach(m=>{s.delete(m.ref)}),s.delete(_t(this.firestore,Ct,i));let p=pc(this.storage,r);return s.commit()})}};e.\u0275fac=function(r){return new(r||e)(H(Mn),H(br))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Fo=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Fo||{}),rce="*";function ZP(t,e){return{type:Fo.Trigger,name:t,definitions:e,options:{}}}function RE(t,e=null){return{type:Fo.Animate,styles:e,timings:t}}function sce(t,e=null){return{type:Fo.Sequence,steps:t,options:e}}function Rm(t){return{type:Fo.Style,styles:t,offset:null}}function Mm(t,e,n){return{type:Fo.State,name:t,styles:e,options:n}}function ME(t,e,n=null){return{type:Fo.Transition,expr:t,animation:e,options:n}}var YP=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},JP=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},oce="!";var XP=["toast-component",""];function o7(t,e){if(t&1){let n=Pt();E(0,"button",5),ee("click",function(){It(n);let r=fe();return Et(r.remove())}),E(1,"span",6),P(2,"\xD7"),A()()}}function a7(t,e){if(t&1&&(Js(0),P(1),Zs()),t&2){let n=fe(2);L(),ut("[",n.duplicatesCount+1,"]")}}function c7(t,e){if(t&1&&(E(0,"div"),P(1),xe(2,a7,2,1,"ng-container",4),A()),t&2){let n=fe();mn(n.options.titleClass),rt("aria-label",n.title),L(),ut(" ",n.title," "),L(),Y("ngIf",n.duplicatesCount)}}function l7(t,e){if(t&1&&te(0,"div",7),t&2){let n=fe();mn(n.options.messageClass),Y("innerHTML",n.message,Ny)}}function u7(t,e){if(t&1&&(E(0,"div",8),P(1),A()),t&2){let n=fe();mn(n.options.messageClass),rt("aria-label",n.message),L(),ut(" ",n.message," ")}}function d7(t,e){if(t&1&&(E(0,"div"),te(1,"div",9),A()),t&2){let n=fe();L(),Gr("width",n.width+"%")}}function h7(t,e){if(t&1){let n=Pt();E(0,"button",5),ee("click",function(){It(n);let r=fe();return Et(r.remove())}),E(1,"span",6),P(2,"\xD7"),A()()}}function f7(t,e){if(t&1&&(Js(0),P(1),Zs()),t&2){let n=fe(2);L(),ut("[",n.duplicatesCount+1,"]")}}function p7(t,e){if(t&1&&(E(0,"div"),P(1),xe(2,f7,2,1,"ng-container",4),A()),t&2){let n=fe();mn(n.options.titleClass),rt("aria-label",n.title),L(),ut(" ",n.title," "),L(),Y("ngIf",n.duplicatesCount)}}function m7(t,e){if(t&1&&te(0,"div",7),t&2){let n=fe();mn(n.options.messageClass),Y("innerHTML",n.message,Ny)}}function g7(t,e){if(t&1&&(E(0,"div",8),P(1),A()),t&2){let n=fe();mn(n.options.messageClass),rt("aria-label",n.message),L(),ut(" ",n.message," ")}}function _7(t,e){if(t&1&&(E(0,"div"),te(1,"div",9),A()),t&2){let n=fe();L(),Gr("width",n.width+"%")}}var NE=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},xE=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},OE=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Ae;_activate=new Ae;_manualClose=new Ae;_resetTimeout=new Ae;_countDuplicate=new Ae;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},gc=class{toastId;config;message;title;toastType;toastRef;_onTap=new Ae;_onAction=new Ae;constructor(e,n,i,r,s,o){this.toastId=e,this.config=n,this.message=i,this.title=r,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},ek={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},tk=new G("ToastConfig"),PE=class extends xE{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,i){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=i}attachComponentPortal(e,n){let i=this._componentFactoryResolver.resolveComponentFactory(e.component),r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},y7=(()=>{class t{_document=N(We);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(i){return new(i||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kE=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},v7=(()=>{class t{_overlayContainer=N(y7);_componentFactoryResolver=N(va);_appRef=N(En);_document=N(We);_paneElements=new Map;create(n,i){return this._createOverlayRef(this.getPaneElement(n,i))}getPaneElement(n="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[n]||(this._paneElements.get(i)[n]=this._createPaneElement(n,i)),this._paneElements.get(i)[n]}_createPaneElement(n,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(n),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(n){return new PE(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new kE(this._createPortalHost(n))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Qt=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,i,r,s,o){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=o,this.toastrConfig=B(B({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=B(B({},n.default.iconClasses),n.config.iconClasses))}show(n,i,r={},s=""){return this._preBuildNotification(s,n,i,this.applyConfig(r))}success(n,i,r={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}error(n,i,r={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}info(n,i,r={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}warning(n,i,r={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,i,this.applyConfig(r))}clear(n){for(let i of this.toasts)if(n!==void 0){if(i.toastId===n){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(n){let i=this._findToast(n);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(n="",i="",r,s){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let c=o&&a.title===n;if((!o||c)&&a.message===i)return a.toastRef.onDuplicate(r,s),a}return null}applyConfig(n={}){return B(B({},this.toastrConfig),n)}_findToast(n){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===n)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(n,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,i,r,s)):this._buildNotification(n,i,r,s)}_buildNotification(n,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let c=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=i;i&&s.enableHtml&&(u=this.sanitizer.sanitize(bn.HTML,i));let d=new OE(c),p=new gc(this.index,s,u,r,n,d),m=[{provide:gc,useValue:p}],_=Ue.create({providers:m,parent:this._injector}),D=new NE(s.toastComponent,_),O=c.attach(D,s.newestOnTop);d.componentInstance=O.instance;let R={toastId:this.index,title:r||"",message:i||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:p.onTap(),onAction:p.onAction(),portal:O};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{R.toastRef.activate()})),this.toasts.push(R),R}static \u0275fac=function(i){return new(i||t)(H(tk),H(v7),H(Ue),H(Fv),H(de))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),w7=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,i,r){this.toastrService=n,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=be(B({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),i=this.hideTime-n;this.width=i/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=be(B({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=be(B({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),i)):this.timeout=setTimeout(()=>n(),i)}outsideInterval(n,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),i)):this.intervalId=setInterval(()=>n(),i)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(i){return new(i||t)(V(Qt),V(gc),V(de))};static \u0275cmp=Re({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&ee("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(ev("@flyInOut",r.state),mn(r.toastClasses),Gr("display",r.displayStyle))},standalone:!0,features:[gi],attrs:XP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&xe(0,o7,3,0,"button",0)(1,c7,3,5,"div",1)(2,l7,1,3,"div",2)(3,u7,2,4,"div",3)(4,d7,2,2,"div",4),i&2&&(Y("ngIf",r.options.closeButton),L(),Y("ngIf",r.title),L(),Y("ngIf",r.message&&r.options.enableHtml),L(),Y("ngIf",r.message&&!r.options.enableHtml),L(),Y("ngIf",r.options.progressBar))},dependencies:[gl],encapsulation:2,data:{animation:[ZP("flyInOut",[Mm("inactive",Rm({opacity:0})),Mm("active",Rm({opacity:1})),Mm("removed",Rm({opacity:0})),ME("inactive => active",RE("{{ easeTime }}ms {{ easing }}")),ME("active => removed",RE("{{ easeTime }}ms {{ easing }}"))])]}})}return t})(),b7=be(B({},ek),{toastComponent:w7}),I7=(t={})=>fn([{provide:tk,useValue:{default:b7,config:t}}]),vce=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[I7(n)]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=De({type:t});static \u0275inj=Ee({})}return t})();var E7=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,i,r){this.toastrService=n,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),i=this.hideTime-n;this.width=i/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||t)(V(Qt),V(gc),V(En))};static \u0275cmp=Re({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&ee("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(mn(r.toastClasses),Gr("display",r.displayStyle))},standalone:!0,features:[gi],attrs:XP,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&xe(0,h7,3,0,"button",0)(1,p7,3,5,"div",1)(2,m7,1,3,"div",2)(3,g7,2,4,"div",3)(4,_7,2,2,"div",4),i&2&&(Y("ngIf",r.options.closeButton),L(),Y("ngIf",r.title),L(),Y("ngIf",r.message&&r.options.enableHtml),L(),Y("ngIf",r.message&&!r.options.enableHtml),L(),Y("ngIf",r.options.progressBar))},dependencies:[gl],encapsulation:2})}return t})(),wce=be(B({},ek),{toastComponent:E7});var nk=(()=>{let e=class e{constructor(i,r,s){this.fb=i,this.toastr=r,this.levelService=s,this.activeModal=N(Fn),this.quizID="",this.count=0,this.levelForm$=i.group({name:new sn([null,dt.required]),questions:new sn([null,dt.required]),points:new sn([1,dt.required]),timer:new sn([null,dt.required])})}ngOnInit(){this.levelForm$.patchValue({name:"Level "+(this.count+1),questions:5,timer:5})}onSubmit(){if(this.levelForm$.invalid){this.toastr.error("Invalid level form");return}let i=this.levelForm$.value,r={id:"",name:i.name,questions:i.questions,points:+i.points,timer:i.timer};this.saveLevel(this.quizID,r)}saveLevel(i,r){this.levelService.addLevels(i,r).then(s=>this.toastr.success("Successfully Created")).catch(s=>this.toastr.error(s.message.toString())).finally(()=>this.activeModal.close())}};e.\u0275fac=function(r){return new(r||e)(V(rs),V(Qt),V(mc))},e.\u0275cmp=Re({type:e,selectors:[["app-add-level"]],inputs:{quizID:"quizID",count:"count"},decls:32,vars:2,consts:[[1,"modal-header","border-0"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"submit","formGroup"],[1,"row"],[1,"col-6"],[1,"form-floating","mb-3"],["type","text","readonly","","id","name","formControlName","name",1,"form-control"],["for","name"],["type","number","id","points","formControlName","points",1,"form-control"],["for","points"],["type","number","id","questions","formControlName","questions",1,"form-control"],["for","questions"],["type","number","id","timer","formControlName","timer",1,"form-control"],["for","timer"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","submit",1,"btn","btn-dark",3,"disabled"]],template:function(r,s){r&1&&(E(0,"div",0)(1,"h5",1),P(2,"Create Level"),A(),E(3,"button",2),ee("click",function(){return s.activeModal.dismiss(null)}),A()(),E(4,"div",3)(5,"form",4),ee("submit",function(){return s.onSubmit()}),E(6,"div",5)(7,"div",6)(8,"div",7),te(9,"input",8),E(10,"label",9),P(11,"Level"),A()()(),E(12,"div",6)(13,"div",7),te(14,"input",10),E(15,"label",11),P(16,"Points"),A()()(),E(17,"div",6)(18,"div",7),te(19,"input",12),E(20,"label",13),P(21,"Total Questions"),A()()(),E(22,"div",6)(23,"div",7),te(24,"input",14),E(25,"label",15),P(26,"Timer"),A()()()(),E(27,"div",16)(28,"button",17),ee("click",function(){return s.activeModal.close(null)}),P(29," Cancel "),A(),E(30,"button",18),P(31," Save "),A()()()()),r&2&&(L(5),Y("formGroup",s.levelForm$),L(25),Y("disabled",s.levelForm$.invalid))},dependencies:[ns,bi,so,Ii,ts,ir,rr]});let t=e;return t})();var ik=(()=>{let e=class e{constructor(i,r,s){this.fb=i,this.toastr=r,this.levelService=s,this.activeModal=N(Fn),this.quizID="",this.levelForm$=i.group({name:new sn([null,dt.required]),questions:new sn([null,dt.required]),points:new sn([1,dt.required]),timer:new sn([null,dt.required])})}ngOnInit(){this.levelForm$.patchValue({name:this.level?.name,questions:this.level?.questions,points:this.level?.points??1,timer:this.level?.timer})}onSubmit(){if(this.levelForm$.invalid){this.toastr.error("Invalid level form");return}let i=this.levelForm$.value,r={id:this.level?.id??"",name:i.name,questions:i.questions,points:i.points,timer:i.timer};this.saveUpdate(this.quizID,r)}saveUpdate(i,r){this.levelService.updateLevel(i,r).then(s=>this.toastr.success("Successfully Updated")).catch(s=>this.toastr.error(s.message.toString())).finally(()=>this.activeModal.close())}};e.\u0275fac=function(r){return new(r||e)(V(rs),V(Qt),V(mc))},e.\u0275cmp=Re({type:e,selectors:[["app-update-level"]],inputs:{quizID:"quizID",level:"level"},decls:32,vars:2,consts:[[1,"modal-header","border-0"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"submit","formGroup"],[1,"row"],[1,"col-6"],[1,"form-floating","mb-3"],["type","text","readonly","","id","name","formControlName","name",1,"form-control"],["for","name"],["type","number","id","points","formControlName","points",1,"form-control"],["for","points"],["type","number","id","questions","formControlName","questions",1,"form-control"],["for","questions"],["type","number","id","timer","formControlName","timer",1,"form-control"],["for","timer"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","submit",1,"btn","btn-dark",3,"disabled"]],template:function(r,s){r&1&&(E(0,"div",0)(1,"h5",1),P(2,"Create Level"),A(),E(3,"button",2),ee("click",function(){return s.activeModal.dismiss(null)}),A()(),E(4,"div",3)(5,"form",4),ee("submit",function(){return s.onSubmit()}),E(6,"div",5)(7,"div",6)(8,"div",7),te(9,"input",8),E(10,"label",9),P(11,"Level"),A()()(),E(12,"div",6)(13,"div",7),te(14,"input",10),E(15,"label",11),P(16,"Points"),A()()(),E(17,"div",6)(18,"div",7),te(19,"input",12),E(20,"label",13),P(21,"Total Questions"),A()()(),E(22,"div",6)(23,"div",7),te(24,"input",14),E(25,"label",15),P(26,"Timer"),A()()()(),E(27,"div",16)(28,"button",17),ee("click",function(){return s.activeModal.close(null)}),P(29," Cancel "),A(),E(30,"button",18),P(31," Update "),A()()()()),r&2&&(L(5),Y("formGroup",s.levelForm$),L(25),Y("disabled",s.levelForm$.invalid))},dependencies:[ns,bi,so,Ii,ts,ir,rr]});let t=e;return t})();function D7(t,e){if(t&1){let n=Pt();E(0,"tr")(1,"th",8),P(2),A(),E(3,"td"),P(4),A(),E(5,"td"),P(6),A(),E(7,"td"),P(8),A(),E(9,"td")(10,"div",9)(11,"button",10),ee("click",function(){let r=It(n).$implicit,s=fe();return Et(s.updateLevel(s.quizID,r))}),te(12,"i",11),A(),E(13,"button",12),ee("click",function(){let r=It(n).$implicit,s=fe();return Et(s.deleteLevel(s.quizID,r.id))}),te(14,"i",13),A()()()()}if(t&2){let n=e.$implicit,i=e.last;L(2),Ke(n.name),L(2),Ke(n.questions),L(2),Ke(n.points),L(2),ut("",n.timer," mins"),L(5),Y("disabled",!i)}}var rk=(()=>{let e=class e{constructor(i,r){this.levelService=i,this.toastr=r,this.quizID="",this.modalService=N(ar)}ngOnInit(){this.quizID!==""&&(this.levels$=this.levelService.getLevels(this.quizID))}deleteLevel(i,r){this.levelService.deleteLevel(i,r).then(()=>this.toastr.success("Successfully Deleted")).catch(s=>this.toastr.error(s.message.toString()))}addLevel(i){return v(this,null,function*(){if(this.levels$)try{let r=yield Eg(this.levels$),s=this.modalService.open(nk);s.componentInstance.quizID=i,s.componentInstance.count=r.length}catch(r){console.error("Error fetching levels:",r)}})}updateLevel(i,r){let s=this.modalService.open(ik);s.componentInstance.quizID=i,s.componentInstance.level=r}};e.\u0275fac=function(r){return new(r||e)(V(mc),V(Qt))},e.\u0275cmp=Re({type:e,selectors:[["app-levels-table"]],inputs:{quizID:"quizID"},decls:20,vars:3,consts:[[1,"container-fluid","mt-3"],[1,"d-flex","align-items-center","justify-content-end"],[1,"btn","btn-outline-dark",3,"click"],[1,"table"],[1,"bg-dark"],["scope","col"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","gap-2"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","btn-danger","btn-sm",3,"click","disabled"],[1,"fa-solid","fa-trash"]],template:function(r,s){r&1&&(E(0,"div",0)(1,"div",1)(2,"button",2),ee("click",function(){return s.addLevel(s.quizID)}),P(3," Add Level "),A()(),E(4,"table",3)(5,"thead",4)(6,"tr")(7,"th",5),P(8,"Name"),A(),E(9,"th",5),P(10,"Total Questions"),A(),E(11,"th",5),P(12,"Points per questions"),A(),E(13,"th",5),P(14,"Timer"),A(),E(15,"th",5),P(16,"Actions"),A()()(),E(17,"tbody",6),xe(18,D7,15,5,"tr",7),Yn(19,"async"),A()()()),r&2&&(L(18),Y("ngForOf",Jn(19,1,s.levels$)))},dependencies:[Qr,Ea]});let t=e;return t})();var C7=(t,e)=>({"btn-dark":t,"btn-outline-dark":e});function S7(t,e){if(t&1&&te(0,"app-levels-table",23),t&2){let n=fe().ngIf;Y("quizID",n.id)}}function A7(t,e){t&1&&P(0,"No Submissions yet.")}function R7(t,e){if(t&1){let n=Pt();Js(0),E(1,"div",4)(2,"div",5)(3,"button",6),P(4),A(),E(5,"button",7),te(6,"i",8),A(),E(7,"button",9),ee("click",function(){let r=It(n).ngIf,s=fe();return Et(s.deleteQuiz(r.id,r.cover_photo))}),te(8,"i",10),A()(),E(9,"div",11)(10,"div",12)(11,"div",13),te(12,"img",14),A()(),E(13,"div",12)(14,"div",15)(15,"h4"),P(16),A(),E(17,"p",16),P(18),A(),E(19,"p",16),P(20),A()()()(),E(21,"div",17)(22,"ul",18,1)(24,"li",19)(25,"button",20),P(26,"Levels"),A(),xe(27,S7,1,1,"ng-template",21),A(),E(28,"li",19)(29,"button",20),P(30,"Submissions"),A(),xe(31,A7,1,0,"ng-template",21),A()(),te(32,"div",22),A()(),Zs()}if(t&2){let n=e.ngIf,i=Kn(23);L(3),Y("ngClass",ba(10,C7,!n.visible,n.visible)),L(),ut(" ",n.visible?"UNPUBLISH":"PUBLISH"," "),L(),Y("disabled",n.visible),L(2),Y("disabled",n.visible),L(5),Y("src",n.cover_photo,Xi)("alt",n.title),L(4),Ke(n.title),L(2),Ke(n.createdAt.toLocaleDateString()),L(2),ut(" ",n.desc," "),L(12),Y("ngbNavOutlet",i)}}function M7(t,e){t&1&&(E(0,"p"),P(1,"No quiz found."),A())}var sk=(()=>{let e=class e{constructor(i,r,s,o){this.route=i,this.quizService=r,this.location=s,this.toastr=o,this.modalService=N(ar),this.quizId=null}ngOnInit(){this.route.params.subscribe(i=>{this.quizId=i.id??null,this.quizId!==null&&(this.quiz$=this.quizService.getQuizById(this.quizId))})}deleteQuiz(i,r){this.quizService.deleteQuiz(i,r).then(s=>this.toastr.success("Successfully Deleted")).catch(s=>this.toastr.error(s.message)).finally(()=>this.location.back())}};e.\u0275fac=function(r){return new(r||e)(V(Xn),V(Ts),V(Wr),V(Qt))},e.\u0275cmp=Re({type:e,selectors:[["app-view-quiz"]],decls:5,vars:4,consts:[["noQuiz",""],["nav","ngbNav"],[1,"container-fluid","p-3",2,"min-height","100%"],[4,"ngIf","ngIfElse"],[1,"box","h-100"],[1,"d-flex","align-items-center","justify-content-end","gap-3"],[1,"btn",3,"ngClass"],[1,"btn","btn-success",3,"disabled"],[1,"fa-solid","fa-pen-to-square"],[1,"btn","btn-danger",3,"click","disabled"],[1,"fa-solid","fa-trash"],[1,"d-flex","gap-3"],[1,"flex-fill"],[1,"ratio","ratio-16x9"],["width","100%","height","100%",1,"rounded",3,"src","alt"],[1,"d-flex","flex-column"],[1,"text-muted"],[1,"container-fluid","mt-3"],["ngbNav","",1,"nav-pills"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[3,"quizID"]],template:function(r,s){if(r&1&&(E(0,"div",2),xe(1,R7,33,13,"ng-container",3),Yn(2,"async"),xe(3,M7,2,0,"ng-template",null,0,_i),A()),r&2){let o=Kn(4);L(),Y("ngIf",Jn(2,2,s.quiz$))("ngIfElse",o)}},dependencies:[pA,gl,L0,Wl,Bf,wM,bM,Uf,IM,rk,Ea]});let t=e;return t})();var FE=(()=>{let e=class e{constructor(){this.pieChartLabels=["English","Math"],this.pieChartData={labels:["English","Math"],datasets:[{data:[350,450],backgroundColor:["#26547c","#ff6b6b","#ffd166"]}]},this.pieChartType="pie",this.pieChartOptions={}}onChartClick(i){console.log(i)}ngOnInit(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Re({type:e,selectors:[["app-dashboard"]],decls:37,vars:0,consts:[[1,"container-fluid","h-100","p-3"],[1,"row","g-2"],[1,"col-8"],[1,"col-4"],[1,"box"],[1,"title"],[1,"text-muted"],[1,"col-6"],[1,"d-flex","align-items-center","justify-content-between"],[1,"btn","btn-sm"]],template:function(r,s){r&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1)(4,"div",3)(5,"div",4)(6,"h5",5),P(7,"Students"),A(),E(8,"span",6),P(9,"10"),A()()(),E(10,"div",3)(11,"div",4)(12,"h5",5),P(13,"Total Games"),A(),E(14,"span",6),P(15,"10"),A()()(),E(16,"div",3)(17,"div",4)(18,"h5",5),P(19,"Total Submissions"),A(),E(20,"span",6),P(21,"10"),A()()(),E(22,"div",7)(23,"div",4)(24,"h5",5),P(25,"Students"),A()()(),E(26,"div",7)(27,"div",4)(28,"h5",5),P(29,"Students"),A()()()()(),E(30,"div",3)(31,"div",4)(32,"div",8)(33,"h5",5),P(34,"Recent Submmisions"),A(),E(35,"button",9),P(36,"See all"),A()()()()()())},styles:[".box[_ngcontent-%COMP%]{border-radius:10px;background-color:#fff;padding:1rem}"]});let t=e;return t})();var ok=(()=>{let e=class e{constructor(i,r,s){this.fb=i,this.quizService=r,this.toastr=s,this.FOR_UPLOAD=null,this.activeModal=N(Fn),this.quizForm$=i.group({cover:[null],title:["",dt.required],desc:["",dt.required],subject:["MATH",dt.required],category:["REBUS_PUZZLE",dt.required],levels:[5,dt.required]})}onSelectImage(i){this.FOR_UPLOAD=i.target.files[0]}onSubmit(){if(this.quizForm$.valid){let i=this.quizForm$.get("subject")?.value??"MATH",r=this.quizForm$.get("category")?.value??"REBUS_PUZZLE",s=+this.quizForm$.get("levels")?.value||10,o={id:"",title:this.quizForm$.get("title")?.value??"",desc:this.quizForm$.get("desc")?.value??"",cover_photo:"",subject:i,category:r,levels:s,createdAt:new Date,visible:!1};this.FOR_UPLOAD!==null?this.uploadFile(this.FOR_UPLOAD,o):this.saveQuiz(o)}}uploadFile(i,r){return v(this,null,function*(){try{let s=yield this.quizService.uploadFile(i);r.cover_photo=s,this.saveQuiz(r)}catch(s){alert(s.message)}})}saveQuiz(i){this.quizService.createQuiz(i).then(r=>{this.toastr.success("Successfully Created"),this.activeModal.close(r)}).catch(r=>this.toastr.success(r.message))}};e.\u0275fac=function(r){return new(r||e)(V(rs),V(Ts),V(Qt))},e.\u0275cmp=Re({type:e,selectors:[["app-create-quiz"]],decls:53,vars:2,consts:[[1,"modal-header","border-0"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"submit","formGroup"],[1,"form-floating","mb-3"],["type","file","id","cover","accept","image/*","formControlName","cover",1,"form-control",3,"change"],["for","cover"],[1,"row"],[1,"col"],["type","text","id","title","formControlName","title",1,"form-control"],["for","title"],["id","subject","formControlName","subject","aria-label","Floating label select example",1,"form-select"],["selected","","value","MATH"],["value","ENGLISH"],["for","subject"],["formControlName","desc","placeholder","Description","id","description",1,"form-control",2,"height","100px"],["for","description"],[1,"col-8"],["id","category","formControlName","category","aria-label","Floating label select example",1,"form-select"],["selected","","value","REBUS_PUZZLE"],["value","RIDDLES"],["value","WORD_PUZZLE"],["value","MATH_LOGIC_PUZZLE"],["for","category"],[1,"form-floating"],["type","number","id","levels","formControlName","levels",1,"form-control"],["for","levels"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","submit",1,"btn","btn-dark",3,"disabled"]],template:function(r,s){r&1&&(E(0,"div",0)(1,"h5",1),P(2,"Create Quiz"),A(),E(3,"button",2),ee("click",function(){return s.activeModal.dismiss(null)}),A()(),E(4,"div",3)(5,"form",4),ee("submit",function(){return s.onSubmit()}),E(6,"div",5)(7,"input",6),ee("change",function(a){return s.onSelectImage(a)}),A(),E(8,"label",7),P(9,"Cover Photo"),A()(),E(10,"div",8)(11,"div",9)(12,"div",5),te(13,"input",10),E(14,"label",11),P(15,"Title"),A()()(),E(16,"div",9)(17,"div",5)(18,"select",12)(19,"option",13),P(20,"MATH"),A(),E(21,"option",14),P(22,"ENGLISH"),A()(),E(23,"label",15),P(24,"Subject"),A()()()(),E(25,"div",5),te(26,"textarea",16),E(27,"label",17),P(28,"Description"),A()(),E(29,"div",8)(30,"div",18)(31,"div",5)(32,"select",19)(33,"option",20),P(34,"REBUS PUZZLE"),A(),E(35,"option",21),P(36,"RIDDLES"),A(),E(37,"option",22),P(38,"WORD PUZZLE"),A(),E(39,"option",23),P(40,"MATH LOGIC PUZZLE"),A()(),E(41,"label",24),P(42,"Category"),A()()(),E(43,"div",9)(44,"div",25),te(45,"input",26),E(46,"label",27),P(47,"Levels"),A()()()(),E(48,"div",28)(49,"button",29),ee("click",function(){return s.activeModal.close(null)}),P(50," Cancel "),A(),E(51,"button",30),P(52," Save "),A()()()()),r&2&&(L(5),Y("formGroup",s.quizForm$),L(46),Y("disabled",s.quizForm$.invalid))},dependencies:[ns,La,Va,bi,so,is,Ii,ts,ir,rr]});let t=e;return t})();var ak={toFirestore:t=>t,fromFirestore:t=>{let e=t.data();return e.createdAt=e.createdAt.toDate(),e.updatedAt=e.updatedAt.toDate(),e}};var Nm="QuestionSettings",xm="questions",ck={toFirestore:t=>t,fromFirestore:t=>t.data()};function LE(t){switch(t){case"REBUS_PUZZLE":return"rebus_puzzle_ids";case"RIDDLES":return"riddles_ids";case"WORD_PUZZLE":return"word_puzzle_ids";case"MATH_LOGIC_PUZZLE":return"math_puzzle_ids";default:return"rebus_puzzle_ids"}}var VE={toFirestore:t=>t,fromFirestore:t=>t.data()};var lk="administrators",_c=(()=>{let e=class e{constructor(i,r){this.auth=i,this.firestore=r,this.adminSubject=new ft(null),this.administrator$=this.adminSubject.asObservable()}login(i,r){return gp(this.auth,i,r)}logout(){return rx(this.auth)}setAdmin(i){this.adminSubject.next(i)}getAdminInfo(i){return v(this,null,function*(){let r=si(_n(this.firestore,lk).withConverter(VE),Po("email","==",i),hE(1)),s=yield xo(r);return s.empty?null:s.docs[0].data()})}forgotPassword(i){return ix(this.auth,i)}changePassword(i,r){return v(this,null,function*(){try{let s=this.auth.currentUser;if(s){let o=mp.credential(s.email||"",i),a=yield nx(s,o);return sx(a.user,r)}else throw new Error("User not authenticated")}catch{throw new Error("Error changing password:")}})}listenToAdmin(i){let r=si(_n(this.firestore,lk).withConverter(VE),Po("email","==",i),hE(1));return Es(r,{idField:"id"}).pipe(Z(s=>s.length===0?null:s[0]))}};e.\u0275fac=function(r){return new(r||e)(H(_o),H(Mn))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Om="questions",yc=(()=>{let e=class e{constructor(i,r,s,o,a){this.firestore=i,this.authService=r,this.storage=s,this.quizService=o,this.httpClient=a}getQuestionSettings(){return ym(_t(this.firestore,Nm,xm).withConverter(ck))}getAllQuestionsWithSettings(){let i=si(_n(this.firestore,Om).withConverter(ak),Oo("createdAt","desc"),Oo("updatedAt","asc")),r=Es(i);return xr([r,this.getQuestionSettings()]).pipe(Z(([s,o])=>({questions:s,settings:o})))}uploadFile(i){return v(this,null,function*(){try{let r=pc(this.storage,`${Ct}/questions/${Ds()}`);return yield Sm(r,i),yield Cm(r)}catch(r){throw console.error("Error uploading file:",r),r}})}createQuestion(i,r){return v(this,null,function*(){try{let s=wr(this.firestore),o=_t(_n(this.firestore,Om)).id,a=yield this.uploadFile(r);i.id=o,i.question=a,s.set(_t(this.firestore,Om,i.id),i);let c=LE(i.type);return s.update(_t(this.firestore,Nm,xm),{[c]:gP(i.id)}),s.commit()}catch(s){throw s}})}deleteQuestion(i){return v(this,null,function*(){try{let r=wr(this.firestore),s=LE(i.type);return yield QP(pc(this.storage,i.question)),r.delete(_t(this.firestore,Om,i.id)),r.update(_t(this.firestore,Nm,xm),{[s]:mP(i.id)}),r.commit()}catch(r){throw r}})}};e.\u0275fac=function(r){return new(r||e)(H(Mn),H(_c),H(br),H(Ts),H(Cv))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function N7(t,e){if(t&1){let n=Pt();E(0,"div",2)(1,"div",18),ee("click",function(){let r=It(n).$implicit,s=fe();return Et(s.viewGame(r.id))}),te(2,"img",19),E(3,"div",20)(4,"h5"),P(5),A(),E(6,"p",21),P(7),A()()()()}if(t&2){let n=e.$implicit;L(2),Y("src",n.cover_photo,Xi)("alt",n.title),L(3),Ke(n.title),L(2),Ke(n.desc)}}var uk=(()=>{let e=class e{constructor(i,r,s,o,a){this.quizService=i,this.questionService=r,this.toastr=s,this.authService=o,this.router=a,this.modalService=N(ar),this.quiz$=this.quizService.getAllQuiz(),this.riddles$=this.quiz$.pipe(Z(c=>c.filter(u=>u.category==="RIDDLES").length)),this.wordPuzzle$=this.quiz$.pipe(Z(c=>c.filter(u=>u.category==="WORD_PUZZLE").length)),this.rebus$=this.quiz$.pipe(Z(c=>c.filter(u=>u.category==="REBUS_PUZZLE").length)),this.mathLogic$=this.quiz$.pipe(Z(c=>c.filter(u=>u.category==="MATH_LOGIC_PUZZLE").length)),this.admin$=null}ngOnInit(){this.authService.administrator$.subscribe(i=>{this.admin$=i})}createQuiz(){this.modalService.open(ok,{size:"lg"}).result.then(r=>{r!==null&&this.viewGame(r)})}viewGame(i){this.router.navigate(["main/games/view",i])}};e.\u0275fac=function(r){return new(r||e)(V(Ts),V(yc),V(Qt),V(_c),V(Sn))},e.\u0275cmp=Re({type:e,selectors:[["app-games"]],decls:51,vars:15,consts:[[1,"container-fluid","d-flex","flex-column","h-100","gap-3","p-3"],[1,"row"],[1,"col"],[1,"box"],[1,"d-flex","gap-2","align-items-center"],["src","../../../assets/images/rebus.png","width","50px","height","50px"],[1,""],[1,"text-secondary"],["src","../../../assets/images/riddle.png","width","50px","height","50px"],["src","../../../assets/images/math.png","width","50px","height","50px"],["src","../../../assets/images/word.png","width","50px","height","50px"],[1,"box","flex-grow-1"],[1,"d-flex","align-items-center","justify-content-between"],[1,"input-group","w-50"],["type","text","placeholder","Search games...",1,"search-input","w-100"],[1,"btn","btn-dark",3,"click"],[1,"row","row-cols-4","mt-3"],["class","col",4,"ngFor","ngForOf"],[1,"quiz-card","rounded",3,"click"],["height","200px","width","100%",1,"rounded",3,"src","alt"],[1,"p-3"],[1,"text-muted","fw-light"]],template:function(r,s){r&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),te(5,"img",5),E(6,"div",6)(7,"h5"),P(8),Yn(9,"async"),A(),E(10,"p",7),P(11,"Rebus Puzzle"),A()()()()(),E(12,"div",2)(13,"div",3)(14,"div",4),te(15,"img",8),E(16,"div",6)(17,"h5"),P(18),Yn(19,"async"),A(),E(20,"p",7),P(21,"Riddles"),A()()()()(),E(22,"div",2)(23,"div",3)(24,"div",4),te(25,"img",9),E(26,"div",6)(27,"h5"),P(28),Yn(29,"async"),A(),E(30,"p",7),P(31,"Math Logic"),A()()()()(),E(32,"div",2)(33,"div",3)(34,"div",4),te(35,"img",10),E(36,"div",6)(37,"h5"),P(38),Yn(39,"async"),A(),E(40,"p",7),P(41,"Word Puzzle"),A()()()()()(),E(42,"div",11)(43,"div",12)(44,"div",13),te(45,"input",14),A(),E(46,"button",15),ee("click",function(){return s.createQuiz()}),P(47,"Create Game"),A()(),E(48,"div",16),xe(49,N7,8,4,"div",17),Yn(50,"async"),A()()()),r&2&&(L(8),Ke(Jn(9,5,s.rebus$)),L(10),Ke(Jn(19,7,s.riddles$)),L(10),Ke(Jn(29,9,s.mathLogic$)),L(10),Ke(Jn(39,11,s.wordPuzzle$)),L(11),Y("ngForOf",Jn(50,13,s.quiz$)))},dependencies:[Qr,Ea],styles:[".quiz-card[_ngcontent-%COMP%]{transition:box-shadow .3s}.quiz-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #7a7a7a33}"]});let t=e;return t})();var dk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Re({type:e,selectors:[["app-submissions"]],decls:2,vars:0,template:function(r,s){r&1&&(E(0,"p"),P(1,"submissions works!"),A())}});let t=e;return t})();var hk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Re({type:e,selectors:[["app-leaderboard"]],decls:2,vars:0,template:function(r,s){r&1&&(E(0,"p"),P(1,"leaderboard works!"),A())}});let t=e;return t})();var fk=(()=>{let e=class e{constructor(i){this.authService=i,this.admin$=null}ngOnInit(){this.authService.administrator$.subscribe(i=>{this.admin$=i,console.log(this.admin$)})}logout(){this.authService.logout()}};e.\u0275fac=function(r){return new(r||e)(V(_c))},e.\u0275cmp=Re({type:e,selectors:[["app-profile"]],decls:13,vars:2,consts:[[1,"container-fluid","h-100","d-flex","align-items-center","justify-content-center"],[1,"container","w-50","p-3","bg-white","rounded-2","d-flex","flex-column","align-items-center","justify-content-center"],[1,"d-flex","gap-1","align-items-bottom","justify-content-bottom","p-3"],["alt","Profile","width","150px","height","150px",1,"rounded-circle",3,"src"],[1,"text-muted"],[1,"d-flex","gap-3","p-3"],[1,"btn","btn-md","btn-outline-dark"],[1,"btn","btn-md","btn-dark"]],template:function(r,s){if(r&1&&(E(0,"div",0)(1,"div",1)(2,"div",2),te(3,"img",3),A(),E(4,"h5"),P(5),A(),E(6,"h6",4),P(7,"Administrator"),A(),E(8,"div",5)(9,"button",6),P(10,"Edit Profile"),A(),E(11,"button",7),P(12,"Change Password"),A()()()()),r&2){let o;L(3),Y("src",(s.admin$==null?null:s.admin$.profile)||"../../../../assets/images/profile.jpg",Xi),L(2),Ke((o=s.admin$==null?null:s.admin$.name)!==null&&o!==void 0?o:"No Admin")}}});let t=e;return t})();function x7(t,e){if(t&1){let n=Pt();E(0,"div",26)(1,"h6"),P(2),A(),E(3,"i",27),ee("click",function(){let r=It(n).$implicit,s=fe();return Et(s.removeChoice(r))}),A()()}if(t&2){let n=e.$implicit;L(2),Ke(n)}}var pk=(()=>{let e=class e{constructor(i,r,s){this.fb=i,this.questionService=r,this.toastr=s,this.FOR_UPLOAD=null,this.activeModal=N(Fn),this.id="",this.choices$=[],this.questionForm$=i.group({answer:["",dt.required],category:["REBUS_PUZZLE",dt.required],choices:[""]})}addToChoices(){let i=this.questionForm$.get("choices")?.value??"";if(console.log(i),i===""){this.toastr.error("Invalid choice");return}if(this.choices$.includes(i.toLowerCase())){this.toastr.warning("Already exists!");return}this.choices$.push(i.toLowerCase()),this.questionForm$.get("choices")?.setValue("")}removeChoice(i){let r=this.choices$.findIndex(s=>s.toLowerCase()===i.toLowerCase());r!==-1?this.choices$.splice(r,1):console.warn(`Choice "${i}" not found in choices list.`)}onSelectImage(i){this.FOR_UPLOAD=i.target.files[0]}onSubmit(){if(!this.questionForm$.valid)return;if(!this.FOR_UPLOAD){this.toastr.error("Please Add image.");return}let i=this.questionForm$.get("answer")?.value?.toLowerCase()??"";if(this.choices$.includes(i)){this.toastr.warning("Choices have no correct answer");return}let r=this.questionForm$.get("category")?.value??"REBUS_PUZZLE",s={id:"",question:"",answer:i,choices:this.choices$,type:r,createdAt:new Date,updatedAt:new Date};this.saveQuestion(s,this.FOR_UPLOAD)}saveQuestion(i,r){this.questionService.createQuestion(i,r).then(s=>{this.toastr.success("Success")}).catch(s=>this.toastr.error(s.message)).finally(()=>this.activeModal.close())}};e.\u0275fac=function(r){return new(r||e)(V(rs),V(yc),V(Qt))},e.\u0275cmp=Re({type:e,selectors:[["app-create-question"]],inputs:{id:"id"},decls:39,vars:3,consts:[[1,"modal-header","bg-dark"],[1,"modal-title","text-light"],[1,"modal-body"],[3,"submit","formGroup"],[1,"form-floating","mb-3"],["type","file","id","question","accept","image/*",1,"form-control",3,"change"],["for","question"],["type","text","id","answer","formControlName","answer",1,"form-control"],["for","answer"],["id","category","formControlName","category","aria-label","Floating label select example",1,"form-select"],["selected","","value","REBUS_PUZZLE"],["value","RIDDLES"],["value","WORD_PUZZLE"],["value","MATH_LOGIC_PUZZLE"],["for","category"],[1,"input-group","mb-3"],[1,"form-floating"],["type","text","formControlName","choices","id","choices",1,"form-control"],["for","choices"],["type","button",1,"btn","btn-dark","btn-sm","p-3",3,"click"],[1,"fa-solid","fa-plus"],[1,"d-flex","gap-1","flex-wrap","w-100"],["class","bg-body-tertiary rounded d-flex gap-2 align-items-center justify-content-center p-1",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["type","submit",1,"btn","btn-dark",3,"disabled"],[1,"bg-body-tertiary","rounded","d-flex","gap-2","align-items-center","justify-content-center","p-1"],[1,"fa-regular","fa-circle-xmark",3,"click"]],template:function(r,s){r&1&&(E(0,"div",0)(1,"h5",1),P(2,"Create Questions"),A()(),E(3,"div",2)(4,"form",3),ee("submit",function(){return s.onSubmit()}),E(5,"div",4)(6,"input",5),ee("change",function(a){return s.onSelectImage(a)}),A(),E(7,"label",6),P(8,"Question"),A()(),E(9,"div",4),te(10,"input",7),E(11,"label",8),P(12,"Answer"),A()(),E(13,"div",4)(14,"select",9)(15,"option",10),P(16,"REBUS PUZZLE"),A(),E(17,"option",11),P(18,"RIDDLES"),A(),E(19,"option",12),P(20,"WORD PUZZLE"),A(),E(21,"option",13),P(22,"MATH LOGIC PUZZLE"),A()(),E(23,"label",14),P(24,"Category"),A()(),E(25,"div",15)(26,"div",16),te(27,"input",17),E(28,"label",18),P(29,"Choices"),A()(),E(30,"button",19),ee("click",function(){return s.addToChoices()}),te(31,"i",20),A()(),E(32,"div",21),xe(33,x7,4,1,"div",22),A(),E(34,"div",23)(35,"button",24),ee("click",function(){return s.activeModal.close("Close click")}),P(36," Cancel "),A(),E(37,"button",25),P(38," Save "),A()()()()),r&2&&(L(4),Y("formGroup",s.questionForm$),L(29),Y("ngForOf",s.choices$),L(4),Y("disabled",s.questionForm$.invalid))},dependencies:[Qr,ns,La,Va,bi,is,Ii,ts,ir,rr]});let t=e;return t})();function O7(t,e){if(t&1&&(E(0,"tr")(1,"th",26),te(2,"img",27),A(),E(3,"td"),P(4),A(),E(5,"td"),P(6),A(),E(7,"td"),P(8),A()()),t&2){let n=e.$implicit;L(2),Y("src",n.question,Xi),L(2),ut(" ",n.choices," "),L(2),Ke(n.answer),L(2),Ke(n.createdAt.toLocaleDateString())}}var mk=(()=>{let e=class e{constructor(i,r,s){this.questionsService=i,this.route=r,this.router=s,this.modalService=N(ar),this.questions$=[],this.page=1,this.pageSize=10,this.collectionSize=0}ngOnInit(){this.questionsService.getAllQuestionsWithSettings().subscribe(i=>{this.questionsWithSettings$=i,this.collectionSize=i.questions.length,this.refreshQuestions()})}refreshQuestions(){let i=this.questionsWithSettings$?.questions??[];this.questions$=i.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}createQuestion(){let i=this.modalService.open(pk)}};e.\u0275fac=function(r){return new(r||e)(V(yc),V(Xn),V(Sn))},e.\u0275cmp=Re({type:e,selectors:[["app-questions"]],decls:70,vars:12,consts:[[1,"container-fluid","d-flex","flex-column","h-100","gap-3","p-3"],[1,"row"],[1,"col"],[1,"box"],[1,"d-flex","gap-3","align-items-center"],["src","../../../assets/images/rebus.png","width","50px","height","50px"],[1,""],[1,"text-secondary"],["src","../../../assets/images/riddle.png","width","50px","height","50px"],["src","../../../assets/images/math.png","width","50px","height","50px"],["src","../../../assets/images/word.png","width","60px","height","60px"],[1,"row","flex-grow-1"],[1,"box","d-flex","flex-column","gap-2"],[1,"d-flex","align-items-center","justify-content-between"],[1,"input-group","w-50"],["type","text","placeholder","Search questions...",1,"search-input","w-100"],[1,"btn","btn-dark",3,"click"],[1,"fa-solid","fa-plus","me-3"],[1,"flex-grow-1"],[1,"table","table-borderless","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["scope","row"],["alt","question image",1,"me-2",2,"width","50px",3,"src"]],template:function(r,s){if(r&1&&(E(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),te(5,"img",5),E(6,"div",6)(7,"h6"),P(8),A(),E(9,"p",7),P(10,"Rebus Puzzle"),A()()()()(),E(11,"div",2)(12,"div",3)(13,"div",4),te(14,"img",8),E(15,"div",6)(16,"h6"),P(17),A(),E(18,"p",7),P(19,"Riddles"),A()()()()(),E(20,"div",2)(21,"div",3)(22,"div",4),te(23,"img",9),E(24,"div",6)(25,"h6"),P(26),A(),E(27,"p",7),P(28,"Math Logic"),A()()()()(),E(29,"div",2)(30,"div",3)(31,"div",4),te(32,"img",10),E(33,"div",6)(34,"h6"),P(35),A(),E(36,"p",7),P(37,"Word Puzzle"),A()()()()()(),E(38,"div",11)(39,"div",2)(40,"div",12)(41,"div",13)(42,"div",14),te(43,"input",15),A(),E(44,"button",16),ee("click",function(){return s.createQuestion()}),te(45,"i",17),P(46," Create Questions "),A()(),E(47,"div",18)(48,"table",19)(49,"thead")(50,"tr")(51,"th",20),P(52,"Question"),A(),E(53,"th",20),P(54,"Choices"),A(),E(55,"th",20),P(56,"Answer"),A(),E(57,"th",20),P(58,"Created At"),A()()(),E(59,"tbody"),xe(60,O7,9,4,"tr",21),A()()(),E(61,"div",22)(62,"ngb-pagination",23),kh("pageChange",function(a){return nv(s.page,a)||(s.page=a),a}),ee("pageChange",function(){return s.refreshQuestions()}),A(),E(63,"select",24),kh("ngModelChange",function(a){return nv(s.pageSize,a)||(s.pageSize=a),a}),ee("ngModelChange",function(){return s.refreshQuestions()}),E(64,"option",25),P(65,"10 items per page"),A(),E(66,"option",25),P(67,"20 items per page"),A(),E(68,"option",25),P(69,"30 items per page"),A()()()()()()()),r&2){let o,a,c,u;L(8),ut(" ",(o=s.questionsWithSettings$==null||s.questionsWithSettings$.settings==null||s.questionsWithSettings$.settings.rebus_puzzle_ids==null?null:s.questionsWithSettings$.settings.rebus_puzzle_ids.length)!==null&&o!==void 0?o:0," Questions "),L(9),ut(" ",(a=s.questionsWithSettings$==null||s.questionsWithSettings$.settings==null||s.questionsWithSettings$.settings.riddles_ids==null?null:s.questionsWithSettings$.settings.riddles_ids.length)!==null&&a!==void 0?a:0," Questions "),L(9),ut(" ",(c=s.questionsWithSettings$==null||s.questionsWithSettings$.settings==null||s.questionsWithSettings$.settings.math_puzzle_ids==null?null:s.questionsWithSettings$.settings.math_puzzle_ids.length)!==null&&c!==void 0?c:0," Questions "),L(9),ut(" ",(u=s.questionsWithSettings$==null||s.questionsWithSettings$.settings==null||s.questionsWithSettings$.settings.word_puzzle_ids==null?null:s.questionsWithSettings$.settings.word_puzzle_ids.length)!==null&&u!==void 0?u:0," Questions "),L(25),Y("ngForOf",s.questions$),L(2),Y("collectionSize",s.collectionSize),Ph("page",s.page),Y("pageSize",s.pageSize),L(),Ph("ngModel",s.pageSize),L(),Y("ngValue",10),L(2),Y("ngValue",20),L(2),Y("ngValue",30)}},dependencies:[Qr,La,Va,is,Ii,N0,DM]});let t=e;return t})();var P7=[{path:"",component:FE},{path:"dashboard",component:FE},{path:"leaderboard",component:hk},{path:"games",component:uk},{path:"questions",component:mk},{path:"games/view/:id",component:sk},{path:"submissions",component:dk},{path:"profile",component:fk}],qle=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ee({imports:[b0.forChild(P7),b0,Qh,sM,rM]});let t=e;return t})();export{B as a,be as b,tF as c,K as d,$ as e,Ee as f,H as g,N as h,Re as i,De as j,It as k,Et as l,Ne as m,ste as n,L as o,V as p,Zd as q,el as r,de as s,xe as t,Y as u,E as v,A as w,te as x,Pt as y,ee as z,Kn as A,P as B,ut as C,ba as D,We as E,pA as F,gl as G,Qh as H,$te as I,SA as J,ene as K,tne as L,x3 as M,Sn as N,$A as O,vne as P,b0 as Q,bi as R,dt as S,Ii as T,ts as U,ns as V,ir as W,rr as X,j4 as Y,rs as Z,rM as _,sM as $,Fn as aa,ar as ba,EM as ca,DM as da,kie as ea,Fo as fa,rce as ga,sce as ha,Rm as ia,YP as ja,JP as ka,oce as la,Qt as ma,vce as na,Ere as oa,Dre as pa,_o as qa,Ese as ra,Dse as sa,Tse as ta,cae as ua,lae as va,_c as wa,zae as xa,qae as ya,yc as za,qle as Aa};
